var sr=Object.defineProperty;var rr=(l,e,t)=>e in l?sr(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Wt=(l,e,t)=>rr(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function ke(){}function rs(l){return l()}function cl(){return Object.create(null)}function Pe(l){l.forEach(rs)}function Kt(l){return typeof l=="function"}function Je(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function ir(l){return Object.keys(l).length===0}function is(l,...e){if(l==null){for(const n of e)n(void 0);return ke}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function st(l,e,t){l.$$.on_destroy.push(is(e,t))}function ar(l){return l??""}function s(l,e){l.appendChild(e)}function U(l,e,t){l.insertBefore(e,t||null)}function W(l){l.parentNode&&l.parentNode.removeChild(l)}function ze(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function c(l){return document.createElement(l)}function Oe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function B(l){return document.createTextNode(l)}function g(){return B(" ")}function yt(){return B("")}function se(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function as(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function i(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function os(l){return l===""?null:+l}function or(l){return Array.from(l.childNodes)}function Z(l,e){e=""+e,l.data!==e&&(l.data=e)}function Ee(l,e){l.value=e??""}function lt(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function tt(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function St(l){const e=l.querySelector(":checked");return e&&e.__value}function x(l,e,t){l.classList.toggle(e,!!t)}function cr(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let Tt;function Ct(l){Tt=l}function Xt(){if(!Tt)throw new Error("Function called outside component initialization");return Tt}function rt(l){Xt().$$.on_mount.push(l)}function pt(l){Xt().$$.on_destroy.push(l)}function cs(){const l=Xt();return(e,t,{cancelable:n=!1}={})=>{const r=l.$$.callbacks[e];if(r){const a=cr(e,t,{cancelable:n});return r.slice().forEach(o=>{o.call(l,a)}),!a.defaultPrevented}return!0}}function us(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const bt=[],nt=[];let gt=[];const ul=[],ur=Promise.resolve();let Vt=!1;function fr(){Vt||(Vt=!0,ur.then(fs))}function ct(l){gt.push(l)}const Ut=new Set;let ht=0;function fs(){if(ht!==0)return;const l=Tt;do{try{for(;ht<bt.length;){const e=bt[ht];ht++,Ct(e),dr(e.$$)}}catch(e){throw bt.length=0,ht=0,e}for(Ct(null),bt.length=0,ht=0;nt.length;)nt.pop()();for(let e=0;e<gt.length;e+=1){const t=gt[e];Ut.has(t)||(Ut.add(t),t())}gt.length=0}while(bt.length);for(;ul.length;)ul.pop()();Vt=!1,Ut.clear(),Ct(l)}function dr(l){if(l.fragment!==null){l.update(),Pe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(ct)}}function pr(l){const e=[],t=[];gt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),gt=e}const Dt=new Set;let dt;function ut(){dt={r:0,c:[],p:dt}}function ft(){dt.r||Pe(dt.c),dt=dt.p}function De(l,e){l&&l.i&&(Dt.delete(l),l.i(e))}function Ne(l,e,t,n){if(l&&l.o){if(Dt.has(l))return;Dt.add(l),dt.c.push(()=>{Dt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Ce(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ge(l){l&&l.c()}function He(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),ct(()=>{const a=l.$$.on_mount.map(rs).filter(Kt);l.$$.on_destroy?l.$$.on_destroy.push(...a):Pe(a),l.$$.on_mount=[]}),r.forEach(ct)}function Ve(l,e){const t=l.$$;t.fragment!==null&&(pr(t.after_update),Pe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function mr(l,e){l.$$.dirty[0]===-1&&(bt.push(l),fr(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Ze(l,e,t,n,r,a,o=null,d=[-1]){const u=Tt;Ct(l);const f=l.$$={fragment:null,ctx:[],props:a,update:ke,not_equal:r,bound:cl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:cl(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let v=!1;if(f.ctx=t?t(l,e.props||{},(p,m,...h)=>{const _=h.length?h[0]:m;return f.ctx&&r(f.ctx[p],f.ctx[p]=_)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](_),v&&mr(l,p)),m}):[],f.update(),v=!0,Pe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const p=or(e.target);f.fragment&&f.fragment.l(p),p.forEach(W)}else f.fragment&&f.fragment.c();e.intro&&De(l.$$.fragment),He(l,e.target,e.anchor),fs()}Ct(u)}class $e{constructor(){Wt(this,"$$");Wt(this,"$$set")}$destroy(){Ve(this,1),this.$destroy=ke}$on(e,t){if(!Kt(t))return ke;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!ir(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vr);const _t=[];function hr(l,e){return{subscribe:Mt(l,e).subscribe}}function Mt(l,e=ke){let t;const n=new Set;function r(d){if(Je(l,d)&&(l=d,t)){const u=!_t.length;for(const f of n)f[1](),_t.push(f,l);if(u){for(let f=0;f<_t.length;f+=2)_t[f][0](_t[f+1]);_t.length=0}}}function a(d){r(d(l))}function o(d,u=ke){const f=[d,u];return n.add(f),n.size===1&&(t=e(r,a)||ke),d(l),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:r,update:a,subscribe:o}}function ds(l,e,t){const n=!Array.isArray(l),r=n?[l]:l;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return hr(t,(o,d)=>{let u=!1;const f=[];let v=0,p=ke;const m=()=>{if(v)return;p();const _=e(n?f[0]:f,o,d);a?o(_):p=Kt(_)?_:ke},h=r.map((_,b)=>is(_,w=>{f[b]=w,v&=~(1<<b),u&&m()},()=>{v|=1<<b}));return u=!0,m(),function(){Pe(h),p(),u=!1}})}const Gt=Mt("round-robin"),Xe=Mt([]),Qt=Mt(null),fl=[{id:"round-robin",name:"Round Robin",icon:"ðŸ”„",description:"Everyone plays everyone"},{id:"single-elimination",name:"Single Elimination",icon:"ðŸ†",description:"Lose once, you're out"},{id:"double-elimination",name:"Double Elimination",icon:"ðŸŽ¯",description:"Two chances to win"},{id:"race-to-x",name:"Race to X",icon:"ðŸ",description:"First to X wins"},{id:"ladder",name:"Ladder",icon:"ðŸ“Š",description:"Challenge your way up"},{id:"swiss",name:"Swiss System",icon:"ðŸŽ²",description:"Play similar skill levels"},{id:"scotch-doubles",name:"Scotch Doubles",icon:"ðŸ‘¥",description:"Team alternating shots"},{id:"killer",name:"Killer",icon:"ðŸ’€",description:"Last player standing wins"},{id:"history",name:"History",icon:"ðŸ“œ",description:"Past tournaments"}];ds(Xe,l=>l.filter(e=>e.status!=="completed"));ds(Xe,l=>l.filter(e=>e.status==="completed"));function mt(l,e,t,n={}){const r={id:crypto.randomUUID(),type:l,name:e,players:t,config:n,status:"setup",createdAt:new Date().toISOString(),matches:[],results:[],standings:[]};return Xe.update(a=>[...a,r]),Qt.set(r),r}function Ke(l,e){Xe.update(t=>t.map(n=>n.id===l?{...n,...e}:n)),Qt.update(t=>t&&t.id===l?{...t,...e}:t)}function _r(l){Xe.update(e=>e.filter(t=>t.id!==l)),Qt.update(e=>e&&e.id===l?null:e)}function dl(l,e,t){const n=l.slice();return n[3]=e[t],n}function pl(l){let e,t,n,r,a,o,d;function u(){return l[2](l[3])}return{c(){e=c("button"),t=c("span"),t.textContent=`${l[3].icon}`,n=g(),r=c("span"),r.textContent=`${l[3].name}`,a=g(),i(t,"class","tab-icon svelte-9hvov9"),i(r,"class","tab-name svelte-9hvov9"),i(e,"class","tab-btn svelte-9hvov9"),x(e,"active",l[0]===l[3].id)},m(f,v){U(f,e,v),s(e,t),s(e,n),s(e,r),s(e,a),o||(d=se(e,"click",u),o=!0)},p(f,v){l=f,v&1&&x(e,"active",l[0]===l[3].id)},d(f){f&&W(e),o=!1,d()}}}function br(l){let e,t,n,r,a,o,d,u,f,v,p=Ce(fl),m=[];for(let h=0;h<p.length;h+=1)m[h]=pl(dl(l,p,h));return{c(){e=c("header"),t=c("div"),n=c("div"),r=c("div"),r.innerHTML='<img src="./logo.png" alt="Iron Shot League" class="header-logo svelte-9hvov9"/>',a=g(),o=c("div"),d=c("div"),d.innerHTML='<p class="tagline svelte-9hvov9">Steel Your Nerves, Sink Your Shots</p> <div class="hosted-by svelte-9hvov9"><span class="hosted-text svelte-9hvov9">Hosted by</span> <span class="badge badge-accent badge-lg font-bold">Rusty</span></div>',u=g(),f=c("nav"),v=c("div");for(let h=0;h<m.length;h+=1)m[h].c();i(r,"class","logo-container svelte-9hvov9"),i(d,"class","header-top svelte-9hvov9"),i(v,"class","tabs-scroll svelte-9hvov9"),i(f,"class","tab-nav svelte-9hvov9"),i(o,"class","header-content svelte-9hvov9"),i(n,"class","header-layout svelte-9hvov9"),i(t,"class","header-wrapper svelte-9hvov9"),i(e,"class","bg-base-200 border-b border-base-300 sticky top-0 z-50")},m(h,_){U(h,e,_),s(e,t),s(t,n),s(n,r),s(n,a),s(n,o),s(o,d),s(o,u),s(o,f),s(f,v);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(v,null)},p(h,[_]){if(_&3){p=Ce(fl);let b;for(b=0;b<p.length;b+=1){const w=dl(h,p,b);m[b]?m[b].p(w,_):(m[b]=pl(w),m[b].c(),m[b].m(v,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}},i:ke,o:ke,d(h){h&&W(e),ze(m,h)}}}function gr(l,e,t){let n;st(l,Gt,o=>t(0,n=o));function r(o){Gt.set(o)}return[n,r,o=>r(o.id)]}class yr extends $e{constructor(e){super(),Ze(this,e,gr,br,Je,{})}}function ml(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function vl(l){let e,t,n;return{c(){e=c("button"),e.textContent="Clear All",i(e,"class","btn btn-ghost btn-xs text-error")},m(r,a){U(r,e,a),t||(n=se(e,"click",l[12]),t=!0)},p:ke,d(r){r&&W(e),t=!1,n()}}}function kr(l){let e;return{c(){e=c("div"),e.innerHTML='<p>No players added yet</p> <p class="text-sm">Add players above to get started</p>',i(e,"class","text-center py-8 text-base-content/40")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function wr(l){let e,t,n=Ce(l[0]),r=[];for(let a=0;a<n.length;a+=1)r[a]=hl(ml(l,n,a));return{c(){e=c("div"),t=c("ul");for(let a=0;a<r.length;a+=1)r[a].c();i(t,"class","space-y-1"),i(e,"class","bg-base-300 rounded-lg p-2 max-h-64 overflow-y-auto")},m(a,o){U(a,e,o),s(e,t);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(t,null)},p(a,o){if(o&3073){n=Ce(a[0]);let d;for(d=0;d<n.length;d+=1){const u=ml(a,n,d);r[d]?r[d].p(u,o):(r[d]=hl(u),r[d].c(),r[d].m(t,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=n.length}},d(a){a&&W(e),ze(r,a)}}}function hl(l){let e,t,n,r,a=l[21]+"",o,d,u,f,v,p,m,h,_,b,w,j,k;function T(){return l[17](l[23])}function R(){return l[18](l[23])}function C(){return l[19](l[23])}return{c(){e=c("li"),t=c("span"),t.textContent=`${l[23]+1}`,n=g(),r=c("span"),o=B(a),d=g(),u=c("div"),f=c("button"),f.textContent="â†‘",v=g(),p=c("button"),m=B("â†“"),_=g(),b=c("button"),b.textContent="âœ•",w=g(),i(t,"class","text-base-content/40 w-6 text-center font-mono text-sm"),i(r,"class","flex-1 font-medium"),i(f,"class","btn btn-ghost btn-xs"),f.disabled=l[23]===0,i(f,"title","Move up"),i(p,"class","btn btn-ghost btn-xs"),p.disabled=h=l[23]===l[0].length-1,i(p,"title","Move down"),i(b,"class","btn btn-ghost btn-xs text-error"),i(b,"title","Remove"),i(u,"class","opacity-0 group-hover:opacity-100 transition-opacity flex gap-1"),i(e,"class","flex items-center gap-2 p-2 bg-base-200 rounded hover:bg-base-100 group")},m(I,P){U(I,e,P),s(e,t),s(e,n),s(e,r),s(r,o),s(e,d),s(e,u),s(u,f),s(u,v),s(u,p),s(p,m),s(u,_),s(u,b),s(e,w),j||(k=[se(f,"click",T),se(p,"click",R),se(b,"click",C)],j=!0)},p(I,P){l=I,P&1&&a!==(a=l[21]+"")&&Z(o,a),P&1&&h!==(h=l[23]===l[0].length-1)&&(p.disabled=h)},d(I){I&&W(e),j=!1,Pe(k)}}}function _l(l){let e,t;return{c(){e=c("p"),t=B(l[6]),i(e,"class","text-warning text-sm")},m(n,r){U(n,e,r),s(e,t)},p(n,r){r&64&&Z(t,n[6])},d(n){n&&W(e)}}}function Er(l){let e,t,n,r,a,o,d,u=l[0].length+"",f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J=l[0].length>0&&vl(l);function Q(L,O){return L[0].length>0?wr:kr}let ee=Q(l),re=ee(l),A=l[6]&&_l(l);return{c(){e=c("div"),t=c("div"),n=c("label"),r=B(l[2]),a=g(),o=c("div"),d=c("span"),f=B(u),v=B(" / "),p=B(l[1]),h=g(),J&&J.c(),_=g(),b=c("div"),w=c("textarea"),j=g(),k=c("label"),T=c("span"),T.textContent="Paste multiple names, one per line",R=g(),C=c("button"),C.textContent="Add Names",I=g(),P=c("div"),S=c("input"),D=g(),Y=c("button"),F=B("Add"),N=g(),re.c(),K=g(),A&&A.c(),i(n,"class","text-lg font-semibold text-white"),i(d,"class",m="badge "+(l[7]?"badge-success":"badge-warning")),i(o,"class","flex items-center gap-2"),i(t,"class","flex items-center justify-between"),i(w,"class","textarea textarea-bordered bg-base-300 h-24 resize-none"),i(w,"placeholder",l[3]),i(T,"class","label-text-alt text-base-content/60"),i(C,"class","btn btn-xs btn-primary"),i(k,"class","label"),i(b,"class","form-control"),i(S,"type","text"),i(S,"class","input input-bordered join-item flex-1 bg-base-300"),i(S,"placeholder","Add single player..."),i(Y,"class","btn btn-primary join-item"),Y.disabled=q=!l[5].trim(),i(P,"class","join w-full"),i(e,"class","space-y-4")},m(L,O){U(L,e,O),s(e,t),s(t,n),s(n,r),s(t,a),s(t,o),s(o,d),s(d,f),s(d,v),s(d,p),s(o,h),J&&J.m(o,null),s(e,_),s(e,b),s(b,w),Ee(w,l[4]),s(b,j),s(b,k),s(k,T),s(k,R),s(k,C),s(e,I),s(e,P),s(P,S),Ee(S,l[5]),s(P,D),s(P,Y),s(Y,F),s(e,N),re.m(e,null),s(e,K),A&&A.m(e,null),G||(V=[se(w,"input",l[14]),se(w,"blur",l[8]),se(C,"click",l[8]),se(S,"input",l[15]),se(S,"keydown",l[16]),se(Y,"click",l[9])],G=!0)},p(L,[O]){O&4&&Z(r,L[2]),O&1&&u!==(u=L[0].length+"")&&Z(f,u),O&2&&Z(p,L[1]),O&128&&m!==(m="badge "+(L[7]?"badge-success":"badge-warning"))&&i(d,"class",m),L[0].length>0?J?J.p(L,O):(J=vl(L),J.c(),J.m(o,null)):J&&(J.d(1),J=null),O&8&&i(w,"placeholder",L[3]),O&16&&Ee(w,L[4]),O&32&&S.value!==L[5]&&Ee(S,L[5]),O&32&&q!==(q=!L[5].trim())&&(Y.disabled=q),ee===(ee=Q(L))&&re?re.p(L,O):(re.d(1),re=ee(L),re&&(re.c(),re.m(e,K))),L[6]?A?A.p(L,O):(A=_l(L),A.c(),A.m(e,null)):A&&(A.d(1),A=null)},i:ke,o:ke,d(L){L&&W(e),J&&J.d(),re.d(),A&&A.d(),G=!1,Pe(V)}}}function Cr(l,e,t){let n,r,{players:a=[]}=e,{minPlayers:o=2}=e,{maxPlayers:d=64}=e,{label:u="Players"}=e,{placeholder:f="Enter player names (one per line)"}=e;const v=cs();let p="",m="";function h(){const S=p.split(`
`).map(D=>D.trim()).filter(D=>D.length>0);S.length>0&&(t(0,a=[...new Set([...a,...S])].slice(0,d)),t(4,p=""),v("change",a))}function _(){m.trim()&&a.length<d&&(a.includes(m.trim())||(t(0,a=[...a,m.trim()]),v("change",a)),t(5,m=""))}function b(S){t(0,a=a.filter((D,Y)=>Y!==S)),v("change",a)}function w(S,D){const Y=S+D;if(Y>=0&&Y<a.length){const F=[...a];[F[S],F[Y]]=[F[Y],F[S]],t(0,a=F),v("change",a)}}function j(){t(0,a=[]),v("change",a)}function k(){p=this.value,t(4,p)}function T(){m=this.value,t(5,m)}const R=S=>S.key==="Enter"&&_(),C=S=>w(S,-1),I=S=>w(S,1),P=S=>b(S);return l.$$set=S=>{"players"in S&&t(0,a=S.players),"minPlayers"in S&&t(13,o=S.minPlayers),"maxPlayers"in S&&t(1,d=S.maxPlayers),"label"in S&&t(2,u=S.label),"placeholder"in S&&t(3,f=S.placeholder)},l.$$.update=()=>{l.$$.dirty&8195&&t(7,n=a.length>=o&&a.length<=d),l.$$.dirty&8195&&t(6,r=a.length<o?`Need at least ${o} players`:a.length>d?`Maximum ${d} players allowed`:"")},[a,d,u,f,p,m,r,n,h,_,b,w,j,o,k,T,R,C,I,P]}class kt extends $e{constructor(e){super(),Ze(this,e,Cr,Er,Je,{players:0,minPlayers:13,maxPlayers:1,label:2,placeholder:3})}}var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function jt(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ps={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(l,e){(function(t){l.exports=t()})(function(){return function t(n,r,a){function o(f,v){if(!r[f]){if(!n[f]){var p=typeof jt=="function"&&jt;if(!v&&p)return p(f,!0);if(d)return d(f,!0);var m=new Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m}var h=r[f]={exports:{}};n[f][0].call(h.exports,function(_){var b=n[f][1][_];return o(b||_)},h,h.exports,t,n,r,a)}return r[f].exports}for(var d=typeof jt=="function"&&jt,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(t,n,r){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,d;if(o){var u=0,f=new o(_),v=a.document.createTextNode("");f.observe(v,{characterData:!0}),d=function(){v.data=u=++u%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var p=new a.MessageChannel;p.port1.onmessage=_,d=function(){p.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?d=function(){var w=a.document.createElement("script");w.onreadystatechange=function(){_(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},a.document.documentElement.appendChild(w)}:d=function(){setTimeout(_,0)};var m,h=[];function _(){m=!0;for(var w,j,k=h.length;k;){for(j=h,h=[],w=-1;++w<k;)j[w]();k=h.length}m=!1}n.exports=b;function b(w){h.push(w)===1&&!m&&d()}}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,n,r){var a=t(1);function o(){}var d={},u=["REJECTED"],f=["FULFILLED"],v=["PENDING"];n.exports=p;function p(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,C!==o&&b(this,C)}p.prototype.catch=function(C){return this.then(null,C)},p.prototype.then=function(C,I){if(typeof C!="function"&&this.state===f||typeof I!="function"&&this.state===u)return this;var P=new this.constructor(o);if(this.state!==v){var S=this.state===f?C:I;h(P,S,this.outcome)}else this.queue.push(new m(P,C,I));return P};function m(C,I,P){this.promise=C,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(C){d.resolve(this.promise,C)},m.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},m.prototype.callRejected=function(C){d.reject(this.promise,C)},m.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,I,P){a(function(){var S;try{S=I(P)}catch(D){return d.reject(C,D)}S===C?d.reject(C,new TypeError("Cannot resolve promise with itself")):d.resolve(C,S)})}d.resolve=function(C,I){var P=w(_,I);if(P.status==="error")return d.reject(C,P.value);var S=P.value;if(S)b(C,S);else{C.state=f,C.outcome=I;for(var D=-1,Y=C.queue.length;++D<Y;)C.queue[D].callFulfilled(I)}return C},d.reject=function(C,I){C.state=u,C.outcome=I;for(var P=-1,S=C.queue.length;++P<S;)C.queue[P].callRejected(I);return C};function _(C){var I=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof I=="function")return function(){I.apply(C,arguments)}}function b(C,I){var P=!1;function S(q){P||(P=!0,d.reject(C,q))}function D(q){P||(P=!0,d.resolve(C,q))}function Y(){I(D,S)}var F=w(Y);F.status==="error"&&S(F.value)}function w(C,I){var P={};try{P.value=C(I),P.status="success"}catch(S){P.status="error",P.value=S}return P}p.resolve=j;function j(C){return C instanceof this?C:d.resolve(new this(o),C)}p.reject=k;function k(C){var I=new this(o);return d.reject(I,C)}p.all=T;function T(C){var I=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,S=!1;if(!P)return this.resolve([]);for(var D=new Array(P),Y=0,F=-1,q=new this(o);++F<P;)N(C[F],F);return q;function N(K,G){I.resolve(K).then(V,function(J){S||(S=!0,d.reject(q,J))});function V(J){D[G]=J,++Y===P&&!S&&(S=!0,d.resolve(q,D))}}}p.race=R;function R(C){var I=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,S=!1;if(!P)return this.resolve([]);for(var D=-1,Y=new this(o);++D<P;)F(C[D]);return Y;function F(q){I.resolve(q).then(function(N){S||(S=!0,d.resolve(Y,N))},function(N){S||(S=!0,d.reject(Y,N))})}}},{1:1}],3:[function(t,n,r){(function(a){typeof a.Promise!="function"&&(a.Promise=t(2))}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,n,r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};function o(y,M){if(!(y instanceof M))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=d();function f(){try{if(!u||!u.open)return!1;var y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!y||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function v(y,M){y=y||[],M=M||{};try{return new Blob(y,M)}catch(z){if(z.name!=="TypeError")throw z;for(var E=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,H=new E,X=0;X<y.length;X+=1)H.append(y[X]);return H.getBlob(M.type)}}typeof Promise>"u"&&t(3);var p=Promise;function m(y,M){M&&y.then(function(E){M(null,E)},function(E){M(E)})}function h(y,M,E){typeof M=="function"&&y.then(M),typeof E=="function"&&y.catch(E)}function _(y){return typeof y!="string"&&(console.warn(y+" used as a key, but it is not a string."),y=String(y)),y}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",j=void 0,k={},T=Object.prototype.toString,R="readonly",C="readwrite";function I(y){for(var M=y.length,E=new ArrayBuffer(M),H=new Uint8Array(E),X=0;X<M;X++)H[X]=y.charCodeAt(X);return E}function P(y){return new p(function(M){var E=y.transaction(w,C),H=v([""]);E.objectStore(w).put(H,"key"),E.onabort=function(X){X.preventDefault(),X.stopPropagation(),M(!1)},E.oncomplete=function(){var X=navigator.userAgent.match(/Chrome\/(\d+)/),z=navigator.userAgent.match(/Edge\//);M(z||!X||parseInt(X[1],10)>=43)}}).catch(function(){return!1})}function S(y){return typeof j=="boolean"?p.resolve(j):P(y).then(function(M){return j=M,j})}function D(y){var M=k[y.name],E={};E.promise=new p(function(H,X){E.resolve=H,E.reject=X}),M.deferredOperations.push(E),M.dbReady?M.dbReady=M.dbReady.then(function(){return E.promise}):M.dbReady=E.promise}function Y(y){var M=k[y.name],E=M.deferredOperations.pop();if(E)return E.resolve(),E.promise}function F(y,M){var E=k[y.name],H=E.deferredOperations.pop();if(H)return H.reject(M),H.promise}function q(y,M){return new p(function(E,H){if(k[y.name]=k[y.name]||L(),y.db)if(M)D(y),y.db.close();else return E(y.db);var X=[y.name];M&&X.push(y.version);var z=u.open.apply(u,X);M&&(z.onupgradeneeded=function(te){var ie=z.result;try{ie.createObjectStore(y.storeName),te.oldVersion<=1&&ie.createObjectStore(w)}catch(oe){if(oe.name==="ConstraintError")console.warn('The database "'+y.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+y.storeName+'" already exists.');else throw oe}}),z.onerror=function(te){te.preventDefault(),H(z.error)},z.onsuccess=function(){var te=z.result;te.onversionchange=function(ie){ie.target.close()},E(te),Y(y)}})}function N(y){return q(y,!1)}function K(y){return q(y,!0)}function G(y,M){if(!y.db)return!0;var E=!y.db.objectStoreNames.contains(y.storeName),H=y.version<y.db.version,X=y.version>y.db.version;if(H&&(y.version!==M&&console.warn('The database "'+y.name+`" can't be downgraded from version `+y.db.version+" to version "+y.version+"."),y.version=y.db.version),X||E){if(E){var z=y.db.version+1;z>y.version&&(y.version=z)}return!0}return!1}function V(y){return new p(function(M,E){var H=new FileReader;H.onerror=E,H.onloadend=function(X){var z=btoa(X.target.result||"");M({__local_forage_encoded_blob:!0,data:z,type:y.type})},H.readAsBinaryString(y)})}function J(y){var M=I(atob(y.data));return v([M],{type:y.type})}function Q(y){return y&&y.__local_forage_encoded_blob}function ee(y){var M=this,E=M._initReady().then(function(){var H=k[M._dbInfo.name];if(H&&H.dbReady)return H.dbReady});return h(E,y,y),E}function re(y){D(y);for(var M=k[y.name],E=M.forages,H=0;H<E.length;H++){var X=E[H];X._dbInfo.db&&(X._dbInfo.db.close(),X._dbInfo.db=null)}return y.db=null,N(y).then(function(z){return y.db=z,G(y)?K(y):z}).then(function(z){y.db=M.db=z;for(var te=0;te<E.length;te++)E[te]._dbInfo.db=z}).catch(function(z){throw F(y,z),z})}function A(y,M,E,H){H===void 0&&(H=1);try{var X=y.db.transaction(y.storeName,M);E(null,X)}catch(z){if(H>0&&(!y.db||z.name==="InvalidStateError"||z.name==="NotFoundError"))return p.resolve().then(function(){if(!y.db||z.name==="NotFoundError"&&!y.db.objectStoreNames.contains(y.storeName)&&y.version<=y.db.version)return y.db&&(y.version=y.db.version+1),K(y)}).then(function(){return re(y).then(function(){A(y,M,E,H-1)})}).catch(E);E(z)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function O(y){var M=this,E={db:null};if(y)for(var H in y)E[H]=y[H];var X=k[E.name];X||(X=L(),k[E.name]=X),X.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=ee);var z=[];function te(){return p.resolve()}for(var ie=0;ie<X.forages.length;ie++){var oe=X.forages[ie];oe!==M&&z.push(oe._initReady().catch(te))}var ce=X.forages.slice(0);return p.all(z).then(function(){return E.db=X.db,N(E)}).then(function(pe){return E.db=pe,G(E,M._defaultConfig.version)?K(E):pe}).then(function(pe){E.db=X.db=pe,M._dbInfo=E;for(var _e=0;_e<ce.length;_e++){var Be=ce[_e];Be!==M&&(Be._dbInfo.db=E.db,Be._dbInfo.version=E.version)}})}function le(y,M){var E=this;y=_(y);var H=new p(function(X,z){E.ready().then(function(){A(E._dbInfo,R,function(te,ie){if(te)return z(te);try{var oe=ie.objectStore(E._dbInfo.storeName),ce=oe.get(y);ce.onsuccess=function(){var pe=ce.result;pe===void 0&&(pe=null),Q(pe)&&(pe=J(pe)),X(pe)},ce.onerror=function(){z(ce.error)}}catch(pe){z(pe)}})}).catch(z)});return m(H,M),H}function $(y,M){var E=this,H=new p(function(X,z){E.ready().then(function(){A(E._dbInfo,R,function(te,ie){if(te)return z(te);try{var oe=ie.objectStore(E._dbInfo.storeName),ce=oe.openCursor(),pe=1;ce.onsuccess=function(){var _e=ce.result;if(_e){var Be=_e.value;Q(Be)&&(Be=J(Be));var qe=y(Be,_e.key,pe++);qe!==void 0?X(qe):_e.continue()}else X()},ce.onerror=function(){z(ce.error)}}catch(_e){z(_e)}})}).catch(z)});return m(H,M),H}function fe(y,M,E){var H=this;y=_(y);var X=new p(function(z,te){var ie;H.ready().then(function(){return ie=H._dbInfo,T.call(M)==="[object Blob]"?S(ie.db).then(function(oe){return oe?M:V(M)}):M}).then(function(oe){A(H._dbInfo,C,function(ce,pe){if(ce)return te(ce);try{var _e=pe.objectStore(H._dbInfo.storeName);oe===null&&(oe=void 0);var Be=_e.put(oe,y);pe.oncomplete=function(){oe===void 0&&(oe=null),z(oe)},pe.onabort=pe.onerror=function(){var qe=Be.error?Be.error:Be.transaction.error;te(qe)}}catch(qe){te(qe)}})}).catch(te)});return m(X,E),X}function Se(y,M){var E=this;y=_(y);var H=new p(function(X,z){E.ready().then(function(){A(E._dbInfo,C,function(te,ie){if(te)return z(te);try{var oe=ie.objectStore(E._dbInfo.storeName),ce=oe.delete(y);ie.oncomplete=function(){X()},ie.onerror=function(){z(ce.error)},ie.onabort=function(){var pe=ce.error?ce.error:ce.transaction.error;z(pe)}}catch(pe){z(pe)}})}).catch(z)});return m(H,M),H}function ae(y){var M=this,E=new p(function(H,X){M.ready().then(function(){A(M._dbInfo,C,function(z,te){if(z)return X(z);try{var ie=te.objectStore(M._dbInfo.storeName),oe=ie.clear();te.oncomplete=function(){H()},te.onabort=te.onerror=function(){var ce=oe.error?oe.error:oe.transaction.error;X(ce)}}catch(ce){X(ce)}})}).catch(X)});return m(E,y),E}function de(y){var M=this,E=new p(function(H,X){M.ready().then(function(){A(M._dbInfo,R,function(z,te){if(z)return X(z);try{var ie=te.objectStore(M._dbInfo.storeName),oe=ie.count();oe.onsuccess=function(){H(oe.result)},oe.onerror=function(){X(oe.error)}}catch(ce){X(ce)}})}).catch(X)});return m(E,y),E}function ge(y,M){var E=this,H=new p(function(X,z){if(y<0){X(null);return}E.ready().then(function(){A(E._dbInfo,R,function(te,ie){if(te)return z(te);try{var oe=ie.objectStore(E._dbInfo.storeName),ce=!1,pe=oe.openKeyCursor();pe.onsuccess=function(){var _e=pe.result;if(!_e){X(null);return}y===0||ce?X(_e.key):(ce=!0,_e.advance(y))},pe.onerror=function(){z(pe.error)}}catch(_e){z(_e)}})}).catch(z)});return m(H,M),H}function Ye(y){var M=this,E=new p(function(H,X){M.ready().then(function(){A(M._dbInfo,R,function(z,te){if(z)return X(z);try{var ie=te.objectStore(M._dbInfo.storeName),oe=ie.openKeyCursor(),ce=[];oe.onsuccess=function(){var pe=oe.result;if(!pe){H(ce);return}ce.push(pe.key),pe.continue()},oe.onerror=function(){X(oe.error)}}catch(pe){X(pe)}})}).catch(X)});return m(E,y),E}function he(y,M){M=b.apply(this,arguments);var E=this.config();y=typeof y!="function"&&y||{},y.name||(y.name=y.name||E.name,y.storeName=y.storeName||E.storeName);var H=this,X;if(!y.name)X=p.reject("Invalid arguments");else{var z=y.name===E.name&&H._dbInfo.db,te=z?p.resolve(H._dbInfo.db):N(y).then(function(ie){var oe=k[y.name],ce=oe.forages;oe.db=ie;for(var pe=0;pe<ce.length;pe++)ce[pe]._dbInfo.db=ie;return ie});y.storeName?X=te.then(function(ie){if(ie.objectStoreNames.contains(y.storeName)){var oe=ie.version+1;D(y);var ce=k[y.name],pe=ce.forages;ie.close();for(var _e=0;_e<pe.length;_e++){var Be=pe[_e];Be._dbInfo.db=null,Be._dbInfo.version=oe}var qe=new p(function(Ae,Ue){var We=u.open(y.name,oe);We.onerror=function(xe){var Et=We.result;Et.close(),Ue(xe)},We.onupgradeneeded=function(){var xe=We.result;xe.deleteObjectStore(y.storeName)},We.onsuccess=function(){var xe=We.result;xe.close(),Ae(xe)}});return qe.then(function(Ae){ce.db=Ae;for(var Ue=0;Ue<pe.length;Ue++){var We=pe[Ue];We._dbInfo.db=Ae,Y(We._dbInfo)}}).catch(function(Ae){throw(F(y,Ae)||p.resolve()).catch(function(){}),Ae})}}):X=te.then(function(ie){D(y);var oe=k[y.name],ce=oe.forages;ie.close();for(var pe=0;pe<ce.length;pe++){var _e=ce[pe];_e._dbInfo.db=null}var Be=new p(function(qe,Ae){var Ue=u.deleteDatabase(y.name);Ue.onerror=function(){var We=Ue.result;We&&We.close(),Ae(Ue.error)},Ue.onblocked=function(){console.warn('dropInstance blocked for database "'+y.name+'" until all open connections are closed')},Ue.onsuccess=function(){var We=Ue.result;We&&We.close(),qe(We)}});return Be.then(function(qe){oe.db=qe;for(var Ae=0;Ae<ce.length;Ae++){var Ue=ce[Ae];Y(Ue._dbInfo)}}).catch(function(qe){throw(F(y,qe)||p.resolve()).catch(function(){}),qe})})}return m(X,M),X}var ne={_driver:"asyncStorage",_initStorage:O,_support:f(),iterate:$,getItem:le,setItem:fe,removeItem:Se,clear:ae,length:de,key:ge,keys:Ye,dropInstance:he};function ue(){return typeof openDatabase=="function"}var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",we="~~local_forage_type~",Te=/^~~local_forage_type~([^~]+)~/,ye="__lfsc__:",Ie=ye.length,me="arbf",Re="blob",je="si08",Me="ui08",et="uic8",be="si16",Fe="si32",Qe="ur16",Le="ui32",at="fl32",xt="fl64",el=Ie+me.length,tl=Object.prototype.toString;function ll(y){var M=y.length*.75,E=y.length,H,X=0,z,te,ie,oe;y[y.length-1]==="="&&(M--,y[y.length-2]==="="&&M--);var ce=new ArrayBuffer(M),pe=new Uint8Array(ce);for(H=0;H<E;H+=4)z=ve.indexOf(y[H]),te=ve.indexOf(y[H+1]),ie=ve.indexOf(y[H+2]),oe=ve.indexOf(y[H+3]),pe[X++]=z<<2|te>>4,pe[X++]=(te&15)<<4|ie>>2,pe[X++]=(ie&3)<<6|oe&63;return ce}function At(y){var M=new Uint8Array(y),E="",H;for(H=0;H<M.length;H+=3)E+=ve[M[H]>>2],E+=ve[(M[H]&3)<<4|M[H+1]>>4],E+=ve[(M[H+1]&15)<<2|M[H+2]>>6],E+=ve[M[H+2]&63];return M.length%3===2?E=E.substring(0,E.length-1)+"=":M.length%3===1&&(E=E.substring(0,E.length-2)+"=="),E}function ys(y,M){var E="";if(y&&(E=tl.call(y)),y&&(E==="[object ArrayBuffer]"||y.buffer&&tl.call(y.buffer)==="[object ArrayBuffer]")){var H,X=ye;y instanceof ArrayBuffer?(H=y,X+=me):(H=y.buffer,E==="[object Int8Array]"?X+=je:E==="[object Uint8Array]"?X+=Me:E==="[object Uint8ClampedArray]"?X+=et:E==="[object Int16Array]"?X+=be:E==="[object Uint16Array]"?X+=Qe:E==="[object Int32Array]"?X+=Fe:E==="[object Uint32Array]"?X+=Le:E==="[object Float32Array]"?X+=at:E==="[object Float64Array]"?X+=xt:M(new Error("Failed to get type for BinaryArray"))),M(X+At(H))}else if(E==="[object Blob]"){var z=new FileReader;z.onload=function(){var te=we+y.type+"~"+At(this.result);M(ye+Re+te)},z.readAsArrayBuffer(y)}else try{M(JSON.stringify(y))}catch(te){console.error("Couldn't convert value into a JSON string: ",y),M(null,te)}}function ks(y){if(y.substring(0,Ie)!==ye)return JSON.parse(y);var M=y.substring(el),E=y.substring(Ie,el),H;if(E===Re&&Te.test(M)){var X=M.match(Te);H=X[1],M=M.substring(X[0].length)}var z=ll(M);switch(E){case me:return z;case Re:return v([z],{type:H});case je:return new Int8Array(z);case Me:return new Uint8Array(z);case et:return new Uint8ClampedArray(z);case be:return new Int16Array(z);case Qe:return new Uint16Array(z);case Fe:return new Int32Array(z);case Le:return new Uint32Array(z);case at:return new Float32Array(z);case xt:return new Float64Array(z);default:throw new Error("Unkown type: "+E)}}var Lt={serialize:ys,deserialize:ks,stringToBuffer:ll,bufferToString:At};function nl(y,M,E,H){y.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],E,H)}function ws(y){var M=this,E={db:null};if(y)for(var H in y)E[H]=typeof y[H]!="string"?y[H].toString():y[H];var X=new p(function(z,te){try{E.db=openDatabase(E.name,String(E.version),E.description,E.size)}catch(ie){return te(ie)}E.db.transaction(function(ie){nl(ie,E,function(){M._dbInfo=E,z()},function(oe,ce){te(ce)})},te)});return E.serializer=Lt,X}function ot(y,M,E,H,X,z){y.executeSql(E,H,X,function(te,ie){ie.code===ie.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(oe,ce){ce.rows.length?z(oe,ie):nl(oe,M,function(){oe.executeSql(E,H,X,z)},z)},z):z(te,ie)},z)}function Es(y,M){var E=this;y=_(y);var H=new p(function(X,z){E.ready().then(function(){var te=E._dbInfo;te.db.transaction(function(ie){ot(ie,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[y],function(oe,ce){var pe=ce.rows.length?ce.rows.item(0).value:null;pe&&(pe=te.serializer.deserialize(pe)),X(pe)},function(oe,ce){z(ce)})})}).catch(z)});return m(H,M),H}function Cs(y,M){var E=this,H=new p(function(X,z){E.ready().then(function(){var te=E._dbInfo;te.db.transaction(function(ie){ot(ie,te,"SELECT * FROM "+te.storeName,[],function(oe,ce){for(var pe=ce.rows,_e=pe.length,Be=0;Be<_e;Be++){var qe=pe.item(Be),Ae=qe.value;if(Ae&&(Ae=te.serializer.deserialize(Ae)),Ae=y(Ae,qe.key,Be+1),Ae!==void 0){X(Ae);return}}X()},function(oe,ce){z(ce)})})}).catch(z)});return m(H,M),H}function sl(y,M,E,H){var X=this;y=_(y);var z=new p(function(te,ie){X.ready().then(function(){M===void 0&&(M=null);var oe=M,ce=X._dbInfo;ce.serializer.serialize(M,function(pe,_e){_e?ie(_e):ce.db.transaction(function(Be){ot(Be,ce,"INSERT OR REPLACE INTO "+ce.storeName+" (key, value) VALUES (?, ?)",[y,pe],function(){te(oe)},function(qe,Ae){ie(Ae)})},function(Be){if(Be.code===Be.QUOTA_ERR){if(H>0){te(sl.apply(X,[y,oe,E,H-1]));return}ie(Be)}})})}).catch(ie)});return m(z,E),z}function Ss(y,M,E){return sl.apply(this,[y,M,E,1])}function Ts(y,M){var E=this;y=_(y);var H=new p(function(X,z){E.ready().then(function(){var te=E._dbInfo;te.db.transaction(function(ie){ot(ie,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[y],function(){X()},function(oe,ce){z(ce)})})}).catch(z)});return m(H,M),H}function Rs(y){var M=this,E=new p(function(H,X){M.ready().then(function(){var z=M._dbInfo;z.db.transaction(function(te){ot(te,z,"DELETE FROM "+z.storeName,[],function(){H()},function(ie,oe){X(oe)})})}).catch(X)});return m(E,y),E}function Bs(y){var M=this,E=new p(function(H,X){M.ready().then(function(){var z=M._dbInfo;z.db.transaction(function(te){ot(te,z,"SELECT COUNT(key) as c FROM "+z.storeName,[],function(ie,oe){var ce=oe.rows.item(0).c;H(ce)},function(ie,oe){X(oe)})})}).catch(X)});return m(E,y),E}function Is(y,M){var E=this,H=new p(function(X,z){E.ready().then(function(){var te=E._dbInfo;te.db.transaction(function(ie){ot(ie,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[y+1],function(oe,ce){var pe=ce.rows.length?ce.rows.item(0).key:null;X(pe)},function(oe,ce){z(ce)})})}).catch(z)});return m(H,M),H}function js(y){var M=this,E=new p(function(H,X){M.ready().then(function(){var z=M._dbInfo;z.db.transaction(function(te){ot(te,z,"SELECT key FROM "+z.storeName,[],function(ie,oe){for(var ce=[],pe=0;pe<oe.rows.length;pe++)ce.push(oe.rows.item(pe).key);H(ce)},function(ie,oe){X(oe)})})}).catch(X)});return m(E,y),E}function Ds(y){return new p(function(M,E){y.transaction(function(H){H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(X,z){for(var te=[],ie=0;ie<z.rows.length;ie++)te.push(z.rows.item(ie).name);M({db:y,storeNames:te})},function(X,z){E(z)})},function(H){E(H)})})}function Ns(y,M){M=b.apply(this,arguments);var E=this.config();y=typeof y!="function"&&y||{},y.name||(y.name=y.name||E.name,y.storeName=y.storeName||E.storeName);var H=this,X;return y.name?X=new p(function(z){var te;y.name===E.name?te=H._dbInfo.db:te=openDatabase(y.name,"","",0),y.storeName?z({db:te,storeNames:[y.storeName]}):z(Ds(te))}).then(function(z){return new p(function(te,ie){z.db.transaction(function(oe){function ce(qe){return new p(function(Ae,Ue){oe.executeSql("DROP TABLE IF EXISTS "+qe,[],function(){Ae()},function(We,xe){Ue(xe)})})}for(var pe=[],_e=0,Be=z.storeNames.length;_e<Be;_e++)pe.push(ce(z.storeNames[_e]));p.all(pe).then(function(){te()}).catch(function(qe){ie(qe)})},function(oe){ie(oe)})})}):X=p.reject("Invalid arguments"),m(X,M),X}var Ps={_driver:"webSQLStorage",_initStorage:ws,_support:ue(),iterate:Cs,getItem:Es,setItem:Ss,removeItem:Ts,clear:Rs,length:Bs,key:Is,keys:js,dropInstance:Ns};function qs(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function rl(y,M){var E=y.name+"/";return y.storeName!==M.storeName&&(E+=y.storeName+"/"),E}function Ms(){var y="_localforage_support_test";try{return localStorage.setItem(y,!0),localStorage.removeItem(y),!1}catch{return!0}}function As(){return!Ms()||localStorage.length>0}function Ls(y){var M=this,E={};if(y)for(var H in y)E[H]=y[H];return E.keyPrefix=rl(y,M._defaultConfig),As()?(M._dbInfo=E,E.serializer=Lt,p.resolve()):p.reject()}function Fs(y){var M=this,E=M.ready().then(function(){for(var H=M._dbInfo.keyPrefix,X=localStorage.length-1;X>=0;X--){var z=localStorage.key(X);z.indexOf(H)===0&&localStorage.removeItem(z)}});return m(E,y),E}function Ys(y,M){var E=this;y=_(y);var H=E.ready().then(function(){var X=E._dbInfo,z=localStorage.getItem(X.keyPrefix+y);return z&&(z=X.serializer.deserialize(z)),z});return m(H,M),H}function Os(y,M){var E=this,H=E.ready().then(function(){for(var X=E._dbInfo,z=X.keyPrefix,te=z.length,ie=localStorage.length,oe=1,ce=0;ce<ie;ce++){var pe=localStorage.key(ce);if(pe.indexOf(z)===0){var _e=localStorage.getItem(pe);if(_e&&(_e=X.serializer.deserialize(_e)),_e=y(_e,pe.substring(te),oe++),_e!==void 0)return _e}}});return m(H,M),H}function zs(y,M){var E=this,H=E.ready().then(function(){var X=E._dbInfo,z;try{z=localStorage.key(y)}catch{z=null}return z&&(z=z.substring(X.keyPrefix.length)),z});return m(H,M),H}function Ws(y){var M=this,E=M.ready().then(function(){for(var H=M._dbInfo,X=localStorage.length,z=[],te=0;te<X;te++){var ie=localStorage.key(te);ie.indexOf(H.keyPrefix)===0&&z.push(ie.substring(H.keyPrefix.length))}return z});return m(E,y),E}function Us(y){var M=this,E=M.keys().then(function(H){return H.length});return m(E,y),E}function Hs(y,M){var E=this;y=_(y);var H=E.ready().then(function(){var X=E._dbInfo;localStorage.removeItem(X.keyPrefix+y)});return m(H,M),H}function Vs(y,M,E){var H=this;y=_(y);var X=H.ready().then(function(){M===void 0&&(M=null);var z=M;return new p(function(te,ie){var oe=H._dbInfo;oe.serializer.serialize(M,function(ce,pe){if(pe)ie(pe);else try{localStorage.setItem(oe.keyPrefix+y,ce),te(z)}catch(_e){(_e.name==="QuotaExceededError"||_e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(_e),ie(_e)}})})});return m(X,E),X}function Gs(y,M){if(M=b.apply(this,arguments),y=typeof y!="function"&&y||{},!y.name){var E=this.config();y.name=y.name||E.name,y.storeName=y.storeName||E.storeName}var H=this,X;return y.name?X=new p(function(z){y.storeName?z(rl(y,H._defaultConfig)):z(y.name+"/")}).then(function(z){for(var te=localStorage.length-1;te>=0;te--){var ie=localStorage.key(te);ie.indexOf(z)===0&&localStorage.removeItem(ie)}}):X=p.reject("Invalid arguments"),m(X,M),X}var Ks={_driver:"localStorageWrapper",_initStorage:Ls,_support:qs(),iterate:Os,getItem:Ys,setItem:Vs,removeItem:Hs,clear:Fs,length:Us,key:zs,keys:Ws,dropInstance:Gs},Xs=function(M,E){return M===E||typeof M=="number"&&typeof E=="number"&&isNaN(M)&&isNaN(E)},Qs=function(M,E){for(var H=M.length,X=0;X<H;){if(Xs(M[X],E))return!0;X++}return!1},il=Array.isArray||function(y){return Object.prototype.toString.call(y)==="[object Array]"},wt={},al={},vt={INDEXEDDB:ne,WEBSQL:Ps,LOCALSTORAGE:Ks},Js=[vt.INDEXEDDB._driver,vt.WEBSQL._driver,vt.LOCALSTORAGE._driver],Bt=["dropInstance"],Ft=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Bt),Zs={description:"",driver:Js.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $s(y,M){y[M]=function(){var E=arguments;return y.ready().then(function(){return y[M].apply(y,E)})}}function Yt(){for(var y=1;y<arguments.length;y++){var M=arguments[y];if(M)for(var E in M)M.hasOwnProperty(E)&&(il(M[E])?arguments[0][E]=M[E].slice():arguments[0][E]=M[E])}return arguments[0]}var xs=function(){function y(M){o(this,y);for(var E in vt)if(vt.hasOwnProperty(E)){var H=vt[E],X=H._driver;this[E]=X,wt[X]||this.defineDriver(H)}this._defaultConfig=Yt({},Zs),this._config=Yt({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return y.prototype.config=function(E){if((typeof E>"u"?"undefined":a(E))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var H in E){if(H==="storeName"&&(E[H]=E[H].replace(/\W/g,"_")),H==="version"&&typeof E[H]!="number")return new Error("Database version must be a number.");this._config[H]=E[H]}return"driver"in E&&E.driver?this.setDriver(this._config.driver):!0}else return typeof E=="string"?this._config[E]:this._config},y.prototype.defineDriver=function(E,H,X){var z=new p(function(te,ie){try{var oe=E._driver,ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!E._driver){ie(ce);return}for(var pe=Ft.concat("_initStorage"),_e=0,Be=pe.length;_e<Be;_e++){var qe=pe[_e],Ae=!Qs(Bt,qe);if((Ae||E[qe])&&typeof E[qe]!="function"){ie(ce);return}}var Ue=function(){for(var Et=function(lr){return function(){var nr=new Error("Method "+lr+" is not implemented by the current driver"),ol=p.reject(nr);return m(ol,arguments[arguments.length-1]),ol}},Ot=0,tr=Bt.length;Ot<tr;Ot++){var zt=Bt[Ot];E[zt]||(E[zt]=Et(zt))}};Ue();var We=function(Et){wt[oe]&&console.info("Redefining LocalForage driver: "+oe),wt[oe]=E,al[oe]=Et,te()};"_support"in E?E._support&&typeof E._support=="function"?E._support().then(We,ie):We(!!E._support):We(!0)}catch(xe){ie(xe)}});return h(z,H,X),z},y.prototype.driver=function(){return this._driver||null},y.prototype.getDriver=function(E,H,X){var z=wt[E]?p.resolve(wt[E]):p.reject(new Error("Driver not found."));return h(z,H,X),z},y.prototype.getSerializer=function(E){var H=p.resolve(Lt);return h(H,E),H},y.prototype.ready=function(E){var H=this,X=H._driverSet.then(function(){return H._ready===null&&(H._ready=H._initDriver()),H._ready});return h(X,E,E),X},y.prototype.setDriver=function(E,H,X){var z=this;il(E)||(E=[E]);var te=this._getSupportedDrivers(E);function ie(){z._config.driver=z.driver()}function oe(_e){return z._extend(_e),ie(),z._ready=z._initStorage(z._config),z._ready}function ce(_e){return function(){var Be=0;function qe(){for(;Be<_e.length;){var Ae=_e[Be];return Be++,z._dbInfo=null,z._ready=null,z.getDriver(Ae).then(oe).catch(qe)}ie();var Ue=new Error("No available storage method found.");return z._driverSet=p.reject(Ue),z._driverSet}return qe()}}var pe=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=pe.then(function(){var _e=te[0];return z._dbInfo=null,z._ready=null,z.getDriver(_e).then(function(Be){z._driver=Be._driver,ie(),z._wrapLibraryMethodsWithReady(),z._initDriver=ce(te)})}).catch(function(){ie();var _e=new Error("No available storage method found.");return z._driverSet=p.reject(_e),z._driverSet}),h(this._driverSet,H,X),this._driverSet},y.prototype.supports=function(E){return!!al[E]},y.prototype._extend=function(E){Yt(this,E)},y.prototype._getSupportedDrivers=function(E){for(var H=[],X=0,z=E.length;X<z;X++){var te=E[X];this.supports(te)&&H.push(te)}return H},y.prototype._wrapLibraryMethodsWithReady=function(){for(var E=0,H=Ft.length;E<H;E++)$s(this,Ft[E])},y.prototype.createInstance=function(E){return new y(E)},y}(),er=new xs;n.exports=er},{3:3}]},{},[4])(4)})})(ps);var Tr=ps.exports;const Rt=Sr(Tr);Rt.config({name:"IronShotLeague",storeName:"tournaments",description:"Iron Shot League tournament data"});const ms="tournaments",vs="settings";async function it(l){try{return await Rt.setItem(ms,l),!0}catch(e){return console.error("Failed to save tournaments:",e),!1}}async function Jt(){try{return await Rt.getItem(ms)||[]}catch(l){return console.error("Failed to load tournaments:",l),[]}}async function Rr(l){try{return await Rt.setItem(vs,l),!0}catch(e){return console.error("Failed to save settings:",e),!1}}async function Br(){try{return await Rt.getItem(vs)||{}}catch(l){return console.error("Failed to load settings:",l),{}}}async function Ir(){const l=await Jt(),e=await Br(),t={version:"1.0",exportedAt:new Date().toISOString(),tournaments:l,settings:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`iron-shot-league-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}async function jr(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=async r=>{try{const a=JSON.parse(r.target.result);if(!a.version||!a.tournaments){t(new Error("Invalid backup file format"));return}await it(a.tournaments),a.settings&&await Rr(a.settings),e(a.tournaments)}catch{t(new Error("Failed to parse backup file"))}},n.onerror=()=>t(new Error("Failed to read file")),n.readAsText(l)})}function bl(l,e,t){const n=l.slice();n[36]=e[t],n[39]=t;const r=n[14].find(function(...o){return l[28](n[36],...o)})||{wins:0,losses:0};return n[37]=r,n}function gl(l,e,t){var d;const n=l.slice();n[40]=e[t];const r=((d=n[15][n[36]])==null?void 0:d[n[40]])||"none";n[41]=r;const a=n[41]==="active"||n[41]==="win"||n[41]==="loss";n[42]=a;const o=n[19](n[36],n[40]);return n[43]=o,n}function yl(l,e,t){const n=l.slice();return n[46]=e[t],n}function kl(l,e,t){const n=l.slice();return n[49]=e[t],n[51]=t,n}function Dr(l){var et;let e,t,n,r,a=(((et=l[6])==null?void 0:et.name)||"Round Robin")+"",o,d,u,f=l[0].length+"",v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee,re,A,L,O,le,$,fe,Se,ae,de,ge;function Ye(be,Fe){if(!be[12])return qr;if(be[14][0])return Pr}let he=Ye(l),ne=he&&he(l);function ue(be,Fe){return be[8]?Ar:Mr}let ve=ue(l),we=ve(l),Te=Ce(l[0]),ye=[];for(let be=0;be<Te.length;be+=1)ye[be]=El(yl(l,Te,be));let Ie=Ce(l[0]),me=[];for(let be=0;be<Ie.length;be+=1)me[be]=Rl(bl(l,Ie,be));function Re(be,Fe){return be[5]>1?Vr:Hr}let je=Re(l),Me=je(l);return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),v=B(f),p=B(" players"),m=g(),h=c("div"),ne&&ne.c(),_=g(),b=c("div"),w=c("div"),j=c("span"),k=B(l[2]),T=B("/"),R=B(l[1]),C=g(),I=c("div"),P=c("div"),S=g(),D=c("button"),we.c(),F=g(),q=c("button"),q.textContent="Exit",N=g(),K=c("div"),G=c("div"),V=c("table"),J=c("thead"),Q=c("tr"),ee=c("th"),re=g();for(let be=0;be<ye.length;be+=1)ye[be].c();A=g(),L=c("th"),L.textContent="W",O=g(),le=c("th"),le.textContent="L",$=g(),fe=c("tbody");for(let be=0;be<me.length;be+=1)me[be].c();Se=g(),ae=c("div"),Me.c(),i(r,"class","game-title svelte-bqcxk4"),i(u,"class","game-meta svelte-bqcxk4"),i(n,"class","top-left svelte-bqcxk4"),i(h,"class","top-center svelte-bqcxk4"),i(j,"class","progress-num svelte-bqcxk4"),i(P,"class","progress-fill-mini svelte-bqcxk4"),lt(P,"width",l[13]+"%"),i(I,"class","progress-mini svelte-bqcxk4"),i(w,"class","progress-info svelte-bqcxk4"),i(D,"class","fullscreen-btn svelte-bqcxk4"),i(D,"title",Y=l[8]?"Exit Fullscreen":"Enter Fullscreen"),i(q,"class","end-btn svelte-bqcxk4"),i(b,"class","top-right svelte-bqcxk4"),i(t,"class","top-bar svelte-bqcxk4"),i(ee,"class","corner svelte-bqcxk4"),i(L,"class","stats-header svelte-bqcxk4"),i(le,"class","stats-header svelte-bqcxk4"),i(V,"class","matrix svelte-bqcxk4"),i(G,"class","matrix-wrapper svelte-bqcxk4"),x(G,"size-large",l[10]==="large"),x(G,"size-medium",l[10]==="medium"),x(G,"size-small",l[10]==="small"),i(K,"class","grid-area svelte-bqcxk4"),i(ae,"class","footer-hint svelte-bqcxk4"),i(e,"class","game-fullscreen svelte-bqcxk4"),x(e,"is-fullscreen",l[8])},m(be,Fe){U(be,e,Fe),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,v),s(u,p),s(t,m),s(t,h),ne&&ne.m(h,null),s(t,_),s(t,b),s(b,w),s(w,j),s(j,k),s(j,T),s(j,R),s(w,C),s(w,I),s(I,P),s(b,S),s(b,D),we.m(D,null),s(b,F),s(b,q),s(e,N),s(e,K),s(K,G),s(G,V),s(V,J),s(J,Q),s(Q,ee),s(Q,re);for(let Qe=0;Qe<ye.length;Qe+=1)ye[Qe]&&ye[Qe].m(Q,null);s(Q,A),s(Q,L),s(Q,O),s(Q,le),s(V,$),s(V,fe);for(let Qe=0;Qe<me.length;Qe+=1)me[Qe]&&me[Qe].m(fe,null);s(e,Se),s(e,ae),Me.m(ae,null),l[29](e),de||(ge=[se(D,"click",l[16]),se(q,"click",l[21])],de=!0)},p(be,Fe){var Qe;if(Fe[0]&64&&a!==(a=(((Qe=be[6])==null?void 0:Qe.name)||"Round Robin")+"")&&Z(o,a),Fe[0]&1&&f!==(f=be[0].length+"")&&Z(v,f),he===(he=Ye(be))&&ne?ne.p(be,Fe):(ne&&ne.d(1),ne=he&&he(be),ne&&(ne.c(),ne.m(h,null))),Fe[0]&4&&Z(k,be[2]),Fe[0]&2&&Z(R,be[1]),Fe[0]&8192&&lt(P,"width",be[13]+"%"),ve!==(ve=ue(be))&&(we.d(1),we=ve(be),we&&(we.c(),we.m(D,null))),Fe[0]&256&&Y!==(Y=be[8]?"Exit Fullscreen":"Enter Fullscreen")&&i(D,"title",Y),Fe[0]&1){Te=Ce(be[0]);let Le;for(Le=0;Le<Te.length;Le+=1){const at=yl(be,Te,Le);ye[Le]?ye[Le].p(at,Fe):(ye[Le]=El(at),ye[Le].c(),ye[Le].m(Q,A))}for(;Le<ye.length;Le+=1)ye[Le].d(1);ye.length=Te.length}if(Fe[0]&1622049){Ie=Ce(be[0]);let Le;for(Le=0;Le<Ie.length;Le+=1){const at=bl(be,Ie,Le);me[Le]?me[Le].p(at,Fe):(me[Le]=Rl(at),me[Le].c(),me[Le].m(fe,null))}for(;Le<me.length;Le+=1)me[Le].d(1);me.length=Ie.length}Fe[0]&1024&&x(G,"size-large",be[10]==="large"),Fe[0]&1024&&x(G,"size-medium",be[10]==="medium"),Fe[0]&1024&&x(G,"size-small",be[10]==="small"),je===(je=Re(be))&&Me?Me.p(be,Fe):(Me.d(1),Me=je(be),Me&&(Me.c(),Me.m(ae,null))),Fe[0]&256&&x(e,"is-fullscreen",be[8])},i:ke,o:ke,d(be){be&&W(e),ne&&ne.d(),we.d(),ze(ye,be),ze(me,be),Me.d(),l[29](null),de=!1,Pe(ge)}}}function Nr(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F=l[4]>1?"es":"",q,N,K,G,V,J,Q,ee,re,A,L,O,le,$,fe,Se,ae,de,ge,Ye,he,ne,ue,ve,we,Te;function ye(je,Me){return je[5]===1?Kr:Gr}let Ie=ye(l),me=Ie(l);de=new kt({props:{players:l[0],minPlayers:3,maxPlayers:12}}),de.$on("change",l[17]);let Re=l[0].length>=3&&Bl(l);return{c(){e=c("div"),t=c("h1"),t.textContent="Round Robin",n=g(),r=c("p"),r.textContent="Everyone plays everyone - classic tournament format",a=g(),o=c("div"),d=c("div"),u=c("div"),f=c("label"),f.textContent="Tournament Name",v=g(),p=c("input"),m=g(),h=c("div"),_=c("label"),_.textContent="Number of Tables",b=g(),w=c("select"),j=c("option"),j.textContent="1 table (sequential)",k=c("option"),k.textContent="2 tables",T=c("option"),T.textContent="3 tables",R=c("option"),R.textContent="4 tables",C=c("option"),C.textContent="5 tables",I=c("option"),I.textContent="6 tables",P=g(),S=c("p"),D=B(l[4]),Y=B(" match"),q=B(F),N=B(" play simultaneously"),K=g(),G=c("div"),V=c("div"),J=c("label"),J.textContent="Frames Per Match",Q=g(),ee=c("select"),re=c("option"),re.textContent="1 frame (single game)",A=c("option"),A.textContent="Best of 3 (first to 2)",L=c("option"),L.textContent="Best of 5 (first to 3)",O=c("option"),O.textContent="Best of 7 (first to 4)",le=g(),$=c("p"),me.c(),fe=g(),Se=c("div"),ae=g(),Ge(de.$$.fragment),ge=g(),Re&&Re.c(),Ye=g(),he=c("button"),ne=B("Start Tournament"),i(t,"class","setup-title svelte-bqcxk4"),i(r,"class","setup-subtitle svelte-bqcxk4"),i(f,"class","form-label svelte-bqcxk4"),i(p,"type","text"),i(p,"class","form-input svelte-bqcxk4"),i(p,"placeholder","Friday Night Showdown"),i(u,"class","form-group svelte-bqcxk4"),i(_,"class","form-label svelte-bqcxk4"),j.__value=1,Ee(j,j.__value),k.__value=2,Ee(k,k.__value),T.__value=3,Ee(T,T.__value),R.__value=4,Ee(R,R.__value),C.__value=5,Ee(C,C.__value),I.__value=6,Ee(I,I.__value),i(w,"class","form-input svelte-bqcxk4"),l[4]===void 0&&ct(()=>l[25].call(w)),i(S,"class","form-hint svelte-bqcxk4"),i(h,"class","form-group svelte-bqcxk4"),i(d,"class","form-row svelte-bqcxk4"),i(J,"class","form-label svelte-bqcxk4"),re.__value=1,Ee(re,re.__value),A.__value=3,Ee(A,A.__value),L.__value=5,Ee(L,L.__value),O.__value=7,Ee(O,O.__value),i(ee,"class","form-input svelte-bqcxk4"),l[5]===void 0&&ct(()=>l[26].call(ee)),i($,"class","form-hint svelte-bqcxk4"),i(V,"class","form-group svelte-bqcxk4"),i(Se,"class","form-group svelte-bqcxk4"),i(G,"class","form-row svelte-bqcxk4"),i(he,"class","start-btn svelte-bqcxk4"),he.disabled=ue=l[0].length<3,i(o,"class","setup-form svelte-bqcxk4"),i(e,"class","setup-screen svelte-bqcxk4")},m(je,Me){U(je,e,Me),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(u,f),s(u,v),s(u,p),Ee(p,l[3]),s(d,m),s(d,h),s(h,_),s(h,b),s(h,w),s(w,j),s(w,k),s(w,T),s(w,R),s(w,C),s(w,I),tt(w,l[4],!0),s(h,P),s(h,S),s(S,D),s(S,Y),s(S,q),s(S,N),s(o,K),s(o,G),s(G,V),s(V,J),s(V,Q),s(V,ee),s(ee,re),s(ee,A),s(ee,L),s(ee,O),tt(ee,l[5],!0),s(V,le),s(V,$),me.m($,null),s(G,fe),s(G,Se),s(o,ae),He(de,o,null),s(o,ge),Re&&Re.m(o,null),s(o,Ye),s(o,he),s(he,ne),ve=!0,we||(Te=[se(p,"input",l[24]),se(w,"change",l[25]),se(ee,"change",l[26]),se(he,"click",l[18])],we=!0)},p(je,Me){Me[0]&8&&p.value!==je[3]&&Ee(p,je[3]),Me[0]&16&&tt(w,je[4]),(!ve||Me[0]&16)&&Z(D,je[4]),(!ve||Me[0]&16)&&F!==(F=je[4]>1?"es":"")&&Z(q,F),Me[0]&32&&tt(ee,je[5]),Ie===(Ie=ye(je))&&me?me.p(je,Me):(me.d(1),me=Ie(je),me&&(me.c(),me.m($,null)));const et={};Me[0]&1&&(et.players=je[0]),de.$set(et),je[0].length>=3?Re?Re.p(je,Me):(Re=Bl(je),Re.c(),Re.m(o,Ye)):Re&&(Re.d(1),Re=null),(!ve||Me[0]&1&&ue!==(ue=je[0].length<3))&&(he.disabled=ue)},i(je){ve||(De(de.$$.fragment,je),ve=!0)},o(je){Ne(de.$$.fragment,je),ve=!1},d(je){je&&W(e),me.d(),Ve(de),Re&&Re.d(),we=!1,Pe(Te)}}}function Pr(l){let e,t,n,r,a=l[14][0].player+"",o,d,u;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("span"),o=B(a),d=g(),u=c("span"),u.textContent="CHAMPION",i(t,"class","champ-trophy svelte-bqcxk4"),i(r,"class","champ-name svelte-bqcxk4"),i(u,"class","champ-label svelte-bqcxk4"),i(e,"class","champion-bar svelte-bqcxk4")},m(f,v){U(f,e,v),s(e,t),s(e,n),s(e,r),s(r,o),s(e,d),s(e,u)},p(f,v){v[0]&16384&&a!==(a=f[14][0].player+"")&&Z(o,a)},d(f){f&&W(e)}}}function qr(l){let e,t,n,r,a=Ce(l[11]),o=[];for(let d=0;d<a.length;d+=1)o[d]=wl(kl(l,a,d));return{c(){e=c("div"),t=c("span"),t.textContent="NOW PLAYING",n=g(),r=c("div");for(let d=0;d<o.length;d+=1)o[d].c();i(t,"class","now-label svelte-bqcxk4"),i(r,"class","now-matches svelte-bqcxk4"),i(e,"class","now-playing svelte-bqcxk4")},m(d,u){U(d,e,u),s(e,t),s(e,n),s(e,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null)},p(d,u){if(u[0]&2048){a=Ce(d[11]);let f;for(f=0;f<a.length;f+=1){const v=kl(d,a,f);o[f]?o[f].p(v,u):(o[f]=wl(v),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=a.length}},d(d){d&&W(e),ze(o,d)}}}function wl(l){let e,t,n,r=l[49].player1+"",a,o,d=l[49].player2+"",u,f;return{c(){e=c("span"),t=c("span"),t.textContent=`T${l[51]+1}`,n=g(),a=B(r),o=B(" vs "),u=B(d),f=g(),i(t,"class","table-num svelte-bqcxk4"),i(e,"class","now-match svelte-bqcxk4")},m(v,p){U(v,e,p),s(e,t),s(e,n),s(e,a),s(e,o),s(e,u),s(e,f)},p(v,p){p[0]&2048&&r!==(r=v[49].player1+"")&&Z(a,r),p[0]&2048&&d!==(d=v[49].player2+"")&&Z(u,d)},d(v){v&&W(e)}}}function Mr(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Ar(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function El(l){let e,t,n=l[46]+"",r;return{c(){e=c("th"),t=c("div"),r=B(n),i(t,"class","col-name svelte-bqcxk4"),i(e,"class","col-header svelte-bqcxk4")},m(a,o){U(a,e,o),s(e,t),s(t,r)},p(a,o){o[0]&1&&n!==(n=a[46]+"")&&Z(r,n)},d(a){a&&W(e)}}}function Lr(l){let e;return{c(){e=c("span"),e.textContent="Â·",i(e,"class","cell-mark pending svelte-bqcxk4")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Fr(l){let e;function t(a,o){return a[5]>1&&(a[43].row>0||a[43].col>0)?Ur:Wr}let n=t(l),r=n(l);return{c(){e=c("div"),r.c(),i(e,"class","cell-content svelte-bqcxk4")},m(a,o){U(a,e,o),r.m(e,null)},p(a,o){n===(n=t(a))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(e,null)))},d(a){a&&W(e),r.d()}}}function Yr(l){let e,t,n,r=l[5]>1&&Cl(l);return{c(){e=c("div"),t=c("span"),t.textContent="L",n=g(),r&&r.c(),i(t,"class","cell-mark loss svelte-bqcxk4"),i(e,"class","cell-content svelte-bqcxk4")},m(a,o){U(a,e,o),s(e,t),s(e,n),r&&r.m(e,null)},p(a,o){a[5]>1?r?r.p(a,o):(r=Cl(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&W(e),r&&r.d()}}}function Or(l){let e,t,n,r=l[5]>1&&Sl(l);return{c(){e=c("div"),t=c("span"),t.textContent="W",n=g(),r&&r.c(),i(t,"class","cell-mark win svelte-bqcxk4"),i(e,"class","cell-content svelte-bqcxk4")},m(a,o){U(a,e,o),s(e,t),s(e,n),r&&r.m(e,null)},p(a,o){a[5]>1?r?r.p(a,o):(r=Sl(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&W(e),r&&r.d()}}}function zr(l){let e;return{c(){e=c("span"),e.textContent="â€”",i(e,"class","cell-mark svelte-bqcxk4")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Wr(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","cell-mark active svelte-bqcxk4")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Ur(l){let e,t=l[43].row+"",n,r,a=l[43].col+"",o;return{c(){e=c("span"),n=B(t),r=B("-"),o=B(a),i(e,"class","frame-score active-score svelte-bqcxk4")},m(d,u){U(d,e,u),s(e,n),s(e,r),s(e,o)},p(d,u){u[0]&1&&t!==(t=d[43].row+"")&&Z(n,t),u[0]&1&&a!==(a=d[43].col+"")&&Z(o,a)},d(d){d&&W(e)}}}function Cl(l){let e,t=l[43].row+"",n,r,a=l[43].col+"",o;return{c(){e=c("span"),n=B(t),r=B("-"),o=B(a),i(e,"class","frame-score svelte-bqcxk4")},m(d,u){U(d,e,u),s(e,n),s(e,r),s(e,o)},p(d,u){u[0]&1&&t!==(t=d[43].row+"")&&Z(n,t),u[0]&1&&a!==(a=d[43].col+"")&&Z(o,a)},d(d){d&&W(e)}}}function Sl(l){let e,t=l[43].row+"",n,r,a=l[43].col+"",o;return{c(){e=c("span"),n=B(t),r=B("-"),o=B(a),i(e,"class","frame-score svelte-bqcxk4")},m(d,u){U(d,e,u),s(e,n),s(e,r),s(e,o)},p(d,u){u[0]&1&&t!==(t=d[43].row+"")&&Z(n,t),u[0]&1&&a!==(a=d[43].col+"")&&Z(o,a)},d(d){d&&W(e)}}}function Tl(l){let e,t,n,r;function a(f,v){return f[41]==="self"?zr:f[41]==="win"?Or:f[41]==="loss"?Yr:f[41]==="active"?Fr:Lr}let o=a(l),d=o(l);function u(){return l[27](l[36],l[40])}return{c(){e=c("td"),d.c(),i(e,"class",t="cell "+l[41]+" svelte-bqcxk4"),x(e,"clickable",l[42])},m(f,v){U(f,e,v),d.m(e,null),n||(r=se(e,"click",u),n=!0)},p(f,v){l=f,o===(o=a(l))&&d?d.p(l,v):(d.d(1),d=o(l),d&&(d.c(),d.m(e,null))),v[0]&32769&&t!==(t="cell "+l[41]+" svelte-bqcxk4")&&i(e,"class",t),v[0]&32769&&x(e,"clickable",l[42])},d(f){f&&W(e),d.d(),n=!1,r()}}}function Rl(l){let e,t,n,r,a,o=l[36]+"",d,u,f,v,p=l[37].wins+"",m,h,_,b=l[37].losses+"",w,j,k=Ce(l[0]),T=[];for(let R=0;R<k.length;R+=1)T[R]=Tl(gl(l,k,R));return{c(){e=c("tr"),t=c("td"),n=c("span"),n.textContent=`${l[39]+1}`,r=g(),a=c("span"),d=B(o),u=g();for(let R=0;R<T.length;R+=1)T[R].c();f=g(),v=c("td"),m=B(p),h=g(),_=c("td"),w=B(b),j=g(),i(n,"class","row-rank svelte-bqcxk4"),i(a,"class","row-name svelte-bqcxk4"),i(t,"class","row-header svelte-bqcxk4"),i(v,"class","stats-cell wins svelte-bqcxk4"),i(_,"class","stats-cell losses svelte-bqcxk4")},m(R,C){U(R,e,C),s(e,t),s(t,n),s(t,r),s(t,a),s(a,d),s(e,u);for(let I=0;I<T.length;I+=1)T[I]&&T[I].m(e,null);s(e,f),s(e,v),s(v,m),s(e,h),s(e,_),s(_,w),s(e,j)},p(R,C){if(C[0]&1&&o!==(o=R[36]+"")&&Z(d,o),C[0]&1605665){k=Ce(R[0]);let I;for(I=0;I<k.length;I+=1){const P=gl(R,k,I);T[I]?T[I].p(P,C):(T[I]=Tl(P),T[I].c(),T[I].m(e,f))}for(;I<T.length;I+=1)T[I].d(1);T.length=k.length}C[0]&16385&&p!==(p=R[37].wins+"")&&Z(m,p),C[0]&16385&&b!==(b=R[37].losses+"")&&Z(w,b)},d(R){R&&W(e),ze(T,R)}}}function Hr(l){let e,t,n;return{c(){e=B("Tap highlighted cell to mark "),t=c("strong"),t.textContent="ROW player",n=B(" as winner â€¢ Tap any completed cell to correct"),i(t,"class","svelte-bqcxk4")},m(r,a){U(r,e,a),U(r,t,a),U(r,n,a)},p:ke,d(r){r&&(W(e),W(t),W(n))}}}function Vr(l){let e,t,n,r=Math.ceil(l[5]/2)+"",a,o;return{c(){e=B("Tap cell to add frame for "),t=c("strong"),t.textContent="ROW player",n=B(" (first to "),a=B(r),o=B(" wins) â€¢ Tap completed match to reset"),i(t,"class","svelte-bqcxk4")},m(d,u){U(d,e,u),U(d,t,u),U(d,n,u),U(d,a,u),U(d,o,u)},p(d,u){u[0]&32&&r!==(r=Math.ceil(d[5]/2)+"")&&Z(a,r)},d(d){d&&(W(e),W(t),W(n),W(a),W(o))}}}function Gr(l){let e,t=Math.ceil(l[5]/2)+"",n,r;return{c(){e=B("First to "),n=B(t),r=B(" frames wins - tap to add frames")},m(a,o){U(a,e,o),U(a,n,o),U(a,r,o)},p(a,o){o[0]&32&&t!==(t=Math.ceil(a[5]/2)+"")&&Z(n,t)},d(a){a&&(W(e),W(n),W(r))}}}function Kr(l){let e;return{c(){e=B("Single frame per match - tap once to score winner")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Bl(l){let e,t=l[0].length+"",n,r,a=l[0].length*(l[0].length-1)/2+"",o,d;return{c(){e=c("p"),n=B(t),r=B(" players = "),o=B(a),d=B(" total matches"),i(e,"class","match-preview svelte-bqcxk4")},m(u,f){U(u,e,f),s(e,n),s(e,r),s(e,o),s(e,d)},p(u,f){f[0]&1&&t!==(t=u[0].length+"")&&Z(n,t),f[0]&1&&a!==(a=u[0].length*(u[0].length-1)/2+"")&&Z(o,a)},d(u){u&&W(e)}}}function Xr(l){let e,t,n,r;const a=[Nr,Dr],o=[];function d(u,f){return u[7]==="setup"?0:1}return t=d(l),n=o[t]=a[t](l),{c(){e=c("div"),n.c(),i(e,"class","page-container svelte-bqcxk4")},m(u,f){U(u,e,f),o[t].m(e,null),r=!0},p(u,f){let v=t;t=d(u),t===v?o[t].p(u,f):(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),n=o[t],n?n.p(u,f):(n=o[t]=a[t](u),n.c()),De(n,1),n.m(e,null))},i(u){r||(De(n),r=!0)},o(u){Ne(n),r=!1},d(u){u&&W(e),o[t].d()}}}function Qr(l){const e=[];let t=0;for(let n=0;n<l.length;n++)for(let r=n+1;r<l.length;r++)e.push({id:t++,player1:l[n],player2:l[r],player1Frames:0,player2Frames:0,winner:null,completed:!1});return e}function Jr(l,e){const t=new Set;for(const n of e){const r=l.find(a=>a.id===n);r&&(t.add(r.player1),t.add(r.player2))}return t}function Il(l,e,t){const n=[...e],r=l.filter(a=>!a.completed&&!n.includes(a.id));for(const a of r){if(n.length>=t)break;const o=Jr(l,n);!o.has(a.player1)&&!o.has(a.player2)&&n.push(a.id)}return n}function Zr(l,e,t){let n,r,a,o,d,u,f,v,p;st(l,Xe,O=>t(30,p=O));let m=[],h="",_=1,b=1,w=null,j=[],k=[],T="setup",R=!1,C;function I(){document.fullscreenElement?(document.exitFullscreen(),t(8,R=!1)):(C==null||C.requestFullscreen(),t(8,R=!0))}function P(){t(8,R=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",P)}),pt(()=>{document.removeEventListener("fullscreenchange",P)});function S(O){t(0,m=O.detail)}function D(){return Math.ceil(b/2)}function Y(){if(m.length<3)return;const O=h.trim()||`Round Robin - ${new Date().toLocaleDateString()}`;t(22,j=Qr(m)),t(23,k=Il(j,[],_)),t(6,w=mt("round-robin",O,m,{numTables:_,framesPerMatch:b})),Ke(w.id,{status:"in_progress",matches:j,activeMatchIds:k,framesPerMatch:b}),t(7,T="game"),G()}function F(O,le){return j.find($=>$.player1===O&&$.player2===le||$.player1===le&&$.player2===O)}function q(O,le){const $=F(O,le);return $?$.player1===O?{row:$.player1Frames,col:$.player2Frames}:{row:$.player2Frames,col:$.player1Frames}:{row:0,col:0}}function N(O,le){if(O===le)return;const $=F(O,le);if(!$)return;const fe=k.includes($.id),Se=$.completed;if(!fe&&!Se)return;const ae=D(),de=$.player1===O,ge=j.map(ne=>{if(ne.id===$.id){let ue=ne.player1Frames,ve=ne.player2Frames;Se?(ue=de?1:0,ve=de?0:1):de?ue++:ve++;const we=ue>=ae||ve>=ae,Te=we?ue>=ae?ne.player1:ne.player2:null;return{...ne,player1Frames:ue,player2Frames:ve,winner:Te,completed:we}}return ne}),Ye=ge.find(ne=>ne.id===$.id);let he=k;if(fe&&!Se&&Ye.completed&&(he=k.filter(ne=>ne!==$.id),he=Il(ge,he,_)),t(22,j=ge),t(23,k=he),w){const ne=j.every(ue=>ue.completed);Ke(w.id,{matches:j,activeMatchIds:k,status:ne?"completed":"in_progress"})}G()}function K(){return m.map(O=>{const le=j.filter(fe=>fe.completed&&fe.winner===O).length,$=j.filter(fe=>fe.completed&&(fe.player1===O||fe.player2===O)&&fe.winner!==O).length;return{player:O,wins:le,losses:$,played:le+$}}).sort((O,le)=>le.wins-O.wins||O.losses-le.losses)}async function G(){await it(p)}function V(){t(0,m=[]),t(3,h=""),t(4,_=1),t(5,b=1),t(6,w=null),t(22,j=[]),t(23,k=[]),t(7,T="setup")}function J(){h=this.value,t(3,h)}function Q(){_=St(this),t(4,_)}function ee(){b=St(this),t(5,b)}const re=(O,le)=>N(O,le),A=(O,le)=>le.player===O;function L(O){nt[O?"unshift":"push"](()=>{C=O,t(9,C)})}return l.$$.update=()=>{l.$$.dirty[0]&8388609&&t(15,n=(()=>{const O={};return m.forEach(le=>{O[le]={},m.forEach($=>{if(le===$)O[le][$]="self";else{const fe=F(le,$);fe?fe.completed?O[le][$]=fe.winner===le?"win":"loss":O[le][$]=k.includes(fe.id)?"active":"pending":O[le][$]="none"}})}),O})()),l.$$.dirty[0]&4194304&&t(14,r=j.length>0?K():[]),l.$$.dirty[0]&4194304&&t(2,a=j.filter(O=>O.completed).length),l.$$.dirty[0]&4194304&&t(1,o=j.length),l.$$.dirty[0]&6&&t(13,d=o>0?a/o*100:0),l.$$.dirty[0]&4194304&&t(12,u=j.length>0&&j.every(O=>O.completed)),l.$$.dirty[0]&12582912&&t(11,f=j.filter(O=>k.includes(O.id))),l.$$.dirty[0]&1&&t(10,v=m.length<=6?"large":m.length<=9?"medium":"small")},[m,o,a,h,_,b,w,T,R,C,v,f,u,d,r,n,I,S,Y,q,N,V,j,k,J,Q,ee,re,A,L]}class hs extends $e{constructor(e){super(),Ze(this,e,Zr,Xr,Je,{},null,[-1,-1])}}function $r(l){function e(n){if(n===1)return[1,2];const r=e(n-1),a=[],o=Math.pow(2,n);for(let d=0;d<r.length;d++)a.push(r[d]),a.push(o+1-r[d]);return a}const t=Math.log2(l);return e(t)}function Zt(l,e=!1){const t=l.length;let n=1;for(;n<t;)n*=2;let r=[...l];e||(r=li(r));const a=$r(n),o=[];for(const m of a)m<=r.length?o.push(r[m-1]):o.push(null);const d=Math.log2(n),u=[];let f=1;const v=[];for(let m=0;m<n/2;m++){const h=o[m*2],_=o[m*2+1];let b=null,w=!1;h===null?(b="player2",w=!0):_===null&&(b="player1",w=!0),v.push({id:`match-${f++}`,round:1,position:m,player1:h||"BYE",player2:_||"BYE",score1:null,score2:null,winner:b,completed:w,nextMatchId:null})}u.push({number:1,name:jl(d,1),matches:v});let p=v;for(let m=2;m<=d;m++){const h=[],_=p.length/2;for(let b=0;b<_;b++)h.push({id:`match-${f++}`,round:m,position:b,player1:null,player2:null,score1:null,score2:null,winner:null,completed:!1,sourceMatch1:p[b*2].id,sourceMatch2:p[b*2+1].id}),p[b*2].nextMatchId=h[b].id,p[b*2+1].nextMatchId=h[b].id;u.push({number:m,name:jl(d,m),matches:h}),p=h}return ti(u),{type:"single_elimination",bracketSize:n,numRounds:d,rounds:u,players:r}}function xr(l,e=!1){const t=Zt(l,e),n=[],r=(t.numRounds-1)*2;for(let a=1;a<=r;a++)n.push({number:a,name:`Losers Round ${a}`,matches:[]});return{type:"double_elimination",bracketSize:t.bracketSize,numRounds:t.numRounds,winners:t.rounds,losers:n,grandFinal:{id:"grand-final",player1:null,player2:null,score1:null,score2:null,winner:null,completed:!1,needsReset:!1},players:t.players}}function _s(l,e,t,n,r){let a=!1;for(const o of l.rounds||l.winners){for(const d of o.matches)if(d.id===e){if(d.score1=t,d.score2=n,d.winner=r,d.completed=!0,a=!0,d.nextMatchId){const u=r==="player1"?d.player1:d.player2;ei(l,d.nextMatchId,u,d.position)}break}if(a)break}return l}function ei(l,e,t,n){for(const r of l.rounds||l.winners)for(const a of r.matches)if(a.id===e){n%2===0?a.player1=t:a.player2=t;return}}function ti(l){const e=l[0].matches;for(const t of e)if(t.completed&&t.nextMatchId){const n=t.winner==="player1"?t.player1:t.player2;if(n!=="BYE")for(const r of l)for(const a of r.matches)a.id===t.nextMatchId&&(t.position%2===0?a.player1=n:a.player2=n)}}function jl(l,e){const t=l-e;return t===0?"Final":t===1?"Semifinals":t===2?"Quarterfinals":`Round ${e}`}function li(l){const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function bs(l){var n,r;const e=((n=l.rounds)==null?void 0:n[l.rounds.length-1])||((r=l.winners)==null?void 0:r[l.winners.length-1]);if(!e)return!1;const t=e.matches[0];return(t==null?void 0:t.completed)||!1}function $t(l){var n,r;const e=((n=l.rounds)==null?void 0:n[l.rounds.length-1])||((r=l.winners)==null?void 0:r[l.winners.length-1]);if(!e)return null;const t=e.matches[0];return t!=null&&t.completed?t.winner==="player1"?t.player1:t.player2:null}function Dl(l,e,t){const n=l.slice();n[26]=e[t],n[29]=t;const r=n[29]===n[0].rounds.length-1;return n[27]=r,n}function Nl(l,e,t){const n=l.slice();n[30]=e[t];const r=n[30].player1&&n[30].player2&&n[30].player1!=="BYE"&&n[30].player2!=="BYE"&&!n[30].completed;n[31]=r;const a=n[30].player1==="BYE"||n[30].player2==="BYE";return n[32]=a,n}function ni(l){var ee,re;let e,t,n,r,a=(((ee=l[6])==null?void 0:ee.name)||"Single Elimination")+"",o,d,u,f=((re=l[0])==null?void 0:re.bracketSize)+"",v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y;function F(A,L){return A[11]?ii:ri}let q=F(l),N=q(l);function K(A,L){return A[8]?oi:ai}let G=K(l),V=G(l),J=Ce(l[0].rounds),Q=[];for(let A=0;A<J.length;A+=1)Q[A]=Al(Dl(l,J,A));return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),v=B(f),p=B(" players"),m=g(),h=c("div"),N.c(),_=g(),b=c("div"),w=c("button"),V.c(),k=g(),T=c("button"),T.textContent="Exit",R=g(),C=c("div"),I=c("div");for(let A=0;A<Q.length;A+=1)Q[A].c();P=g(),S=c("div"),S.textContent="Tap a player to select winner",i(r,"class","game-title svelte-13kla9d"),i(u,"class","game-meta svelte-13kla9d"),i(n,"class","top-left svelte-13kla9d"),i(h,"class","top-center svelte-13kla9d"),i(w,"class","fullscreen-btn svelte-13kla9d"),i(w,"title",j=l[8]?"Exit Fullscreen":"Enter Fullscreen"),i(T,"class","end-btn svelte-13kla9d"),i(b,"class","top-right svelte-13kla9d"),i(t,"class","top-bar svelte-13kla9d"),i(I,"class","bracket-container svelte-13kla9d"),i(C,"class","bracket-area svelte-13kla9d"),i(S,"class","footer-hint svelte-13kla9d"),i(e,"class","game-fullscreen svelte-13kla9d"),x(e,"is-fullscreen",l[8])},m(A,L){U(A,e,L),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,v),s(u,p),s(t,m),s(t,h),N.m(h,null),s(t,_),s(t,b),s(b,w),V.m(w,null),s(b,k),s(b,T),s(e,R),s(e,C),s(C,I);for(let O=0;O<Q.length;O+=1)Q[O]&&Q[O].m(I,null);s(e,P),s(e,S),l[22](e),D||(Y=[se(w,"click",l[12]),se(T,"click",l[17])],D=!0)},p(A,L){var O,le;if(L[0]&64&&a!==(a=(((O=A[6])==null?void 0:O.name)||"Single Elimination")+"")&&Z(o,a),L[0]&1&&f!==(f=((le=A[0])==null?void 0:le.bracketSize)+"")&&Z(v,f),q===(q=F(A))&&N?N.p(A,L):(N.d(1),N=q(A),N&&(N.c(),N.m(h,null))),G!==(G=K(A))&&(V.d(1),V=G(A),V&&(V.c(),V.m(w,null))),L[0]&256&&j!==(j=A[8]?"Exit Fullscreen":"Enter Fullscreen")&&i(w,"title",j),L[0]&65537){J=Ce(A[0].rounds);let $;for($=0;$<J.length;$+=1){const fe=Dl(A,J,$);Q[$]?Q[$].p(fe,L):(Q[$]=Al(fe),Q[$].c(),Q[$].m(I,null))}for(;$<Q.length;$+=1)Q[$].d(1);Q.length=J.length}L[0]&256&&x(e,"is-fullscreen",A[8])},i:ke,o:ke,d(A){A&&W(e),N.d(),V.d(),ze(Q,A),l[22](null),D=!1,Pe(Y)}}}function si(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V;return D=new kt({props:{players:l[3],minPlayers:2,maxPlayers:64}}),D.$on("change",l[13]),{c(){e=c("div"),t=c("h1"),t.textContent="Single Elimination",n=g(),r=c("p"),r.textContent="Lose once and you're out - fast bracket competition",a=g(),o=c("div"),d=c("div"),u=c("label"),u.textContent="Tournament Name",f=g(),v=c("input"),p=g(),m=c("div"),h=c("label"),_=c("input"),b=g(),w=c("span"),w.textContent="Use player order as seeding (top = #1 seed)",j=g(),k=c("div"),T=c("button"),R=B("ðŸ”€ Shuffle Players"),I=g(),P=c("span"),P.textContent="Randomize player order before generating bracket",S=g(),Ge(D.$$.fragment),Y=g(),F=c("button"),q=B("Generate Bracket"),i(t,"class","setup-title svelte-13kla9d"),i(r,"class","setup-subtitle svelte-13kla9d"),i(u,"class","form-label svelte-13kla9d"),i(v,"type","text"),i(v,"class","form-input svelte-13kla9d"),i(v,"placeholder","Championship Showdown"),i(d,"class","form-group svelte-13kla9d"),i(_,"type","checkbox"),i(_,"class","form-checkbox svelte-13kla9d"),i(h,"class","checkbox-label svelte-13kla9d"),i(m,"class","checkbox-group svelte-13kla9d"),i(T,"type","button"),i(T,"class","shuffle-btn svelte-13kla9d"),T.disabled=C=l[3].length<2,i(P,"class","shuffle-hint svelte-13kla9d"),i(k,"class","shuffle-row svelte-13kla9d"),i(F,"class","start-btn svelte-13kla9d"),F.disabled=N=l[3].length<2,i(o,"class","setup-form svelte-13kla9d"),i(e,"class","setup-screen svelte-13kla9d")},m(J,Q){U(J,e,Q),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(d,f),s(d,v),Ee(v,l[4]),s(o,p),s(o,m),s(m,h),s(h,_),_.checked=l[5],s(h,b),s(h,w),s(o,j),s(o,k),s(k,T),s(T,R),s(k,I),s(k,P),s(o,S),He(D,o,null),s(o,Y),s(o,F),s(F,q),K=!0,G||(V=[se(v,"input",l[18]),se(_,"change",l[19]),se(T,"click",l[14]),se(F,"click",l[15])],G=!0)},p(J,Q){Q[0]&16&&v.value!==J[4]&&Ee(v,J[4]),Q[0]&32&&(_.checked=J[5]),(!K||Q[0]&8&&C!==(C=J[3].length<2))&&(T.disabled=C);const ee={};Q[0]&8&&(ee.players=J[3]),D.$set(ee),(!K||Q[0]&8&&N!==(N=J[3].length<2))&&(F.disabled=N)},i(J){K||(De(D.$$.fragment,J),K=!0)},o(J){Ne(D.$$.fragment,J),K=!1},d(J){J&&W(e),Ve(D),G=!1,Pe(V)}}}function ri(l){let e,t,n,r,a,o,d,u;return{c(){e=c("div"),t=c("span"),n=B(l[2]),r=B("/"),a=B(l[1]),o=g(),d=c("div"),u=c("div"),i(t,"class","progress-num svelte-13kla9d"),i(u,"class","progress-fill-mini svelte-13kla9d"),lt(u,"width",l[10]+"%"),i(d,"class","progress-mini svelte-13kla9d"),i(e,"class","progress-info svelte-13kla9d")},m(f,v){U(f,e,v),s(e,t),s(t,n),s(t,r),s(t,a),s(e,o),s(e,d),s(d,u)},p(f,v){v[0]&4&&Z(n,f[2]),v[0]&2&&Z(a,f[1]),v[0]&1024&&lt(u,"width",f[10]+"%")},d(f){f&&W(e)}}}function ii(l){let e,t,n,r,a;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("span"),a=B(l[11]),i(t,"class","champ-trophy svelte-13kla9d"),i(r,"class","champ-name svelte-13kla9d"),i(e,"class","champion-bar svelte-13kla9d")},m(o,d){U(o,e,d),s(e,t),s(e,n),s(e,r),s(r,a)},p(o,d){d[0]&2048&&Z(a,o[11])},d(o){o&&W(e)}}}function ai(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function oi(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Pl(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-13kla9d")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function ql(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-13kla9d")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Ml(l){let e,t,n,r=(l[30].player1==="BYE"?"BYE":l[30].player1||"TBD")+"",a,o,d,u,f,v,p,m,h=(l[30].player2==="BYE"?"BYE":l[30].player2||"TBD")+"",_,b,w,j,k,T,R=l[31]&&Pl();function C(){return l[20](l[31],l[30])}let I=l[31]&&ql();function P(){return l[21](l[31],l[30])}return{c(){e=c("div"),t=c("button"),n=c("span"),a=B(r),o=g(),R&&R.c(),u=g(),f=c("div"),v=g(),p=c("button"),m=c("span"),_=B(h),b=g(),I&&I.c(),j=g(),i(n,"class","slot-name svelte-13kla9d"),i(t,"class","match-slot svelte-13kla9d"),t.disabled=d=!l[31],x(t,"winner",l[30].winner==="player1"),x(t,"bye-slot",l[30].player1==="BYE"),x(t,"clickable",l[31]),i(f,"class","match-divider svelte-13kla9d"),i(m,"class","slot-name svelte-13kla9d"),i(p,"class","match-slot svelte-13kla9d"),p.disabled=w=!l[31],x(p,"winner",l[30].winner==="player2"),x(p,"bye-slot",l[30].player2==="BYE"),x(p,"clickable",l[31]),i(e,"class","bracket-match svelte-13kla9d"),x(e,"completed",l[30].completed),x(e,"playable",l[31]),x(e,"bye",l[32])},m(S,D){U(S,e,D),s(e,t),s(t,n),s(n,a),s(t,o),R&&R.m(t,null),s(e,u),s(e,f),s(e,v),s(e,p),s(p,m),s(m,_),s(p,b),I&&I.m(p,null),s(e,j),k||(T=[se(t,"click",C),se(p,"click",P)],k=!0)},p(S,D){l=S,D[0]&1&&r!==(r=(l[30].player1==="BYE"?"BYE":l[30].player1||"TBD")+"")&&Z(a,r),l[31]?R||(R=Pl(),R.c(),R.m(t,null)):R&&(R.d(1),R=null),D[0]&1&&d!==(d=!l[31])&&(t.disabled=d),D[0]&1&&x(t,"winner",l[30].winner==="player1"),D[0]&1&&x(t,"bye-slot",l[30].player1==="BYE"),D[0]&1&&x(t,"clickable",l[31]),D[0]&1&&h!==(h=(l[30].player2==="BYE"?"BYE":l[30].player2||"TBD")+"")&&Z(_,h),l[31]?I||(I=ql(),I.c(),I.m(p,null)):I&&(I.d(1),I=null),D[0]&1&&w!==(w=!l[31])&&(p.disabled=w),D[0]&1&&x(p,"winner",l[30].winner==="player2"),D[0]&1&&x(p,"bye-slot",l[30].player2==="BYE"),D[0]&1&&x(p,"clickable",l[31]),D[0]&1&&x(e,"completed",l[30].completed),D[0]&1&&x(e,"playable",l[31]),D[0]&1&&x(e,"bye",l[32])},d(S){S&&W(e),R&&R.d(),I&&I.d(),k=!1,Pe(T)}}}function Al(l){let e,t,n=l[26].name+"",r,a,o,d,u=Ce(l[26].matches),f=[];for(let v=0;v<u.length;v+=1)f[v]=Ml(Nl(l,u,v));return{c(){e=c("div"),t=c("div"),r=B(n),a=g(),o=c("div");for(let v=0;v<f.length;v+=1)f[v].c();d=g(),i(t,"class","round-header svelte-13kla9d"),i(o,"class","round-matches svelte-13kla9d"),i(e,"class","bracket-round svelte-13kla9d"),x(e,"finals",l[27])},m(v,p){U(v,e,p),s(e,t),s(t,r),s(e,a),s(e,o);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(o,null);s(e,d)},p(v,p){if(p[0]&1&&n!==(n=v[26].name+"")&&Z(r,n),p[0]&65537){u=Ce(v[26].matches);let m;for(m=0;m<u.length;m+=1){const h=Nl(v,u,m);f[m]?f[m].p(h,p):(f[m]=Ml(h),f[m].c(),f[m].m(o,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}p[0]&1&&x(e,"finals",v[27])},d(v){v&&W(e),ze(f,v)}}}function ci(l){let e,t,n,r;const a=[si,ni],o=[];function d(u,f){return u[7]==="setup"?0:1}return t=d(l),n=o[t]=a[t](l),{c(){e=c("div"),n.c(),i(e,"class","page-container svelte-13kla9d")},m(u,f){U(u,e,f),o[t].m(e,null),r=!0},p(u,f){let v=t;t=d(u),t===v?o[t].p(u,f):(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),n=o[t],n?n.p(u,f):(n=o[t]=a[t](u),n.c()),De(n,1),n.m(e,null))},i(u){r||(De(n),r=!0)},o(u){Ne(n),r=!1},d(u){u&&W(e),o[t].d()}}}function ui(l,e,t){let n,r,a,o,d;st(l,Xe,N=>t(23,d=N));let u=[],f="",v=!1,p=null,m=null,h="setup",_=!1,b;function w(){document.fullscreenElement?document.exitFullscreen():b==null||b.requestFullscreen()}function j(){t(8,_=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",j)}),pt(()=>{document.removeEventListener("fullscreenchange",j)});function k(N){t(3,u=N.detail)}function T(){const N=[...u];for(let K=N.length-1;K>0;K--){const G=Math.floor(Math.random()*(K+1));[N[K],N[G]]=[N[G],N[K]]}t(3,u=N)}function R(){if(u.length<2)return;const N=f.trim()||`Single Elimination - ${new Date().toLocaleDateString()}`;t(0,p=Zt(u,v)),t(6,m=mt("single-elimination",N,u,{seeded:v})),Ke(m.id,{status:"in_progress",bracket:p}),t(7,h="bracket"),I()}function C(N,K){if(!N.player1||!N.player2||N.player1==="BYE"||N.player2==="BYE")return;const G=K==="player1"?1:0,V=K==="player2"?1:0;if(t(0,p=_s(p,N.id,G,V,K)),m){const J=bs(p);Ke(m.id,{bracket:p,status:J?"completed":"in_progress"})}I()}async function I(){await it(d)}function P(){t(3,u=[]),t(4,f=""),t(0,p=null),t(6,m=null),t(7,h="setup")}function S(){f=this.value,t(4,f)}function D(){v=this.checked,t(5,v)}const Y=(N,K)=>N&&C(K,"player1"),F=(N,K)=>N&&C(K,"player2");function q(N){nt[N?"unshift":"push"](()=>{b=N,t(9,b)})}return l.$$.update=()=>{l.$$.dirty[0]&1&&t(11,n=p?$t(p):null),l.$$.dirty[0]&1&&t(2,r=p?p.rounds.reduce((N,K)=>N+K.matches.filter(G=>G.completed).length,0):0),l.$$.dirty[0]&1&&t(1,a=p?p.rounds.reduce((N,K)=>N+K.matches.length,0):0),l.$$.dirty[0]&6&&t(10,o=a>0?r/a*100:0)},[p,a,r,u,f,v,m,h,_,b,o,n,w,k,T,R,C,P,S,D,Y,F,q]}class fi extends $e{constructor(e){super(),Ze(this,e,ui,ci,Je,{},null,[-1,-1])}}function Ht(l){const e=l.slice(),t=e[0].grandFinal;e[34]=t;const n=e[34].player1&&e[34].player2;return e[35]=n,e}function Ll(l,e,t){const n=l.slice();return n[36]=e[t],n[38]=t,n}function Fl(l,e,t){const n=l.slice();n[39]=e[t];const r=n[39].player1&&n[39].player2&&n[39].player1!=="BYE"&&n[39].player2!=="BYE"&&!n[39].completed;return n[40]=r,n}function Yl(l,e,t){const n=l.slice();return n[36]=e[t],n[38]=t,n}function Ol(l,e,t){const n=l.slice();n[39]=e[t];const r=n[39].player1&&n[39].player2&&n[39].player1!=="BYE"&&n[39].player2!=="BYE"&&!n[39].completed;n[40]=r;const a=n[39].player1==="BYE"||n[39].player2==="BYE";return n[41]=a,n}function di(l){var ge,Ye;let e,t,n,r,a=(((ge=l[6])==null?void 0:ge.name)||"Double Elimination")+"",o,d,u,f=((Ye=l[0])==null?void 0:Ye.bracketSize)+"",v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee,re,A,L;function O(he,ne){return he[9]?vi:mi}let le=O(l),$=le(l);function fe(he,ne){return he[7]==="winners"?_i:hi}let Se=fe(l),ae=Se(l),de=l[12]&&l[0].grandFinal&&Zl(Ht(l));return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),v=B(f),p=B(" players"),m=g(),h=c("div"),_=c("div"),b=c("button"),b.textContent="Winners",w=g(),j=c("button"),j.textContent="Losers",k=g(),T=c("div"),R=c("div"),C=c("span"),I=B(l[2]),P=B("/"),S=B(l[1]),D=g(),Y=c("div"),F=c("div"),q=g(),N=c("button"),$.c(),K=g(),G=c("button"),G.textContent="Exit",V=g(),J=c("div"),ae.c(),Q=g(),de&&de.c(),ee=g(),re=c("div"),re.textContent="Tap a player name to select them as winner",i(r,"class","game-title svelte-g1woyq"),i(u,"class","game-meta svelte-g1woyq"),i(n,"class","top-left svelte-g1woyq"),i(b,"class","toggle-btn svelte-g1woyq"),x(b,"active",l[7]==="winners"),i(j,"class","toggle-btn losers svelte-g1woyq"),x(j,"active",l[7]==="losers"),i(_,"class","bracket-toggle svelte-g1woyq"),i(h,"class","top-center svelte-g1woyq"),i(C,"class","progress-num svelte-g1woyq"),i(F,"class","progress-fill-mini svelte-g1woyq"),lt(F,"width",l[11]+"%"),i(Y,"class","progress-mini svelte-g1woyq"),i(R,"class","progress-info svelte-g1woyq"),i(N,"class","fullscreen-btn svelte-g1woyq"),i(G,"class","end-btn svelte-g1woyq"),i(T,"class","top-right svelte-g1woyq"),i(t,"class","top-bar svelte-g1woyq"),i(J,"class","bracket-area svelte-g1woyq"),i(re,"class","footer-hint svelte-g1woyq"),i(e,"class","game-fullscreen svelte-g1woyq"),x(e,"is-fullscreen",l[9])},m(he,ne){U(he,e,ne),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,v),s(u,p),s(t,m),s(t,h),s(h,_),s(_,b),s(_,w),s(_,j),s(t,k),s(t,T),s(T,R),s(R,C),s(C,I),s(C,P),s(C,S),s(R,D),s(R,Y),s(Y,F),s(T,q),s(T,N),$.m(N,null),s(T,K),s(T,G),s(e,V),s(e,J),ae.m(J,null),s(J,Q),de&&de.m(J,null),s(e,ee),s(e,re),l[30](e),A||(L=[se(b,"click",l[22]),se(j,"click",l[23]),se(N,"click",l[13]),se(G,"click",l[19])],A=!0)},p(he,ne){var ue,ve;ne[0]&64&&a!==(a=(((ue=he[6])==null?void 0:ue.name)||"Double Elimination")+"")&&Z(o,a),ne[0]&1&&f!==(f=((ve=he[0])==null?void 0:ve.bracketSize)+"")&&Z(v,f),ne[0]&128&&x(b,"active",he[7]==="winners"),ne[0]&128&&x(j,"active",he[7]==="losers"),ne[0]&4&&Z(I,he[2]),ne[0]&2&&Z(S,he[1]),ne[0]&2048&&lt(F,"width",he[11]+"%"),le!==(le=O(he))&&($.d(1),$=le(he),$&&($.c(),$.m(N,null))),Se===(Se=fe(he))&&ae?ae.p(he,ne):(ae.d(1),ae=Se(he),ae&&(ae.c(),ae.m(J,Q))),he[12]&&he[0].grandFinal?de?de.p(Ht(he),ne):(de=Zl(Ht(he)),de.c(),de.m(J,null)):de&&(de.d(1),de=null),ne[0]&512&&x(e,"is-fullscreen",he[9])},i:ke,o:ke,d(he){he&&W(e),$.d(),ae.d(),de&&de.d(),l[30](null),A=!1,Pe(L)}}}function pi(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V;return D=new kt({props:{players:l[3],minPlayers:2,maxPlayers:32}}),D.$on("change",l[14]),{c(){e=c("div"),t=c("h1"),t.textContent="Double Elimination",n=g(),r=c("p"),r.textContent="Two chances to prove yourself - Win your way back from the losers bracket!",a=g(),o=c("div"),d=c("div"),u=c("label"),u.textContent="Tournament Name",f=g(),v=c("input"),p=g(),m=c("div"),h=c("label"),_=c("input"),b=g(),w=c("span"),w.textContent="Use player order as seeding",j=g(),k=c("div"),T=c("button"),R=B("ðŸ”€ Shuffle Players"),I=g(),P=c("span"),P.textContent="Randomize player order",S=g(),Ge(D.$$.fragment),Y=g(),F=c("button"),q=B("Generate Brackets"),i(t,"class","setup-title svelte-g1woyq"),i(r,"class","setup-subtitle svelte-g1woyq"),i(u,"class","form-label svelte-g1woyq"),i(v,"type","text"),i(v,"class","form-input svelte-g1woyq"),i(v,"placeholder","Grand Championship"),i(d,"class","form-group svelte-g1woyq"),i(_,"type","checkbox"),i(_,"class","form-checkbox svelte-g1woyq"),i(h,"class","checkbox-label svelte-g1woyq"),i(m,"class","checkbox-group svelte-g1woyq"),i(T,"type","button"),i(T,"class","shuffle-btn svelte-g1woyq"),T.disabled=C=l[3].length<2,i(P,"class","shuffle-hint svelte-g1woyq"),i(k,"class","shuffle-row svelte-g1woyq"),i(F,"class","start-btn svelte-g1woyq"),F.disabled=N=l[3].length<2,i(o,"class","setup-form svelte-g1woyq"),i(e,"class","setup-screen svelte-g1woyq")},m(J,Q){U(J,e,Q),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(d,f),s(d,v),Ee(v,l[4]),s(o,p),s(o,m),s(m,h),s(h,_),_.checked=l[5],s(h,b),s(h,w),s(o,j),s(o,k),s(k,T),s(T,R),s(k,I),s(k,P),s(o,S),He(D,o,null),s(o,Y),s(o,F),s(F,q),K=!0,G||(V=[se(v,"input",l[20]),se(_,"change",l[21]),se(T,"click",l[15]),se(F,"click",l[16])],G=!0)},p(J,Q){Q[0]&16&&v.value!==J[4]&&Ee(v,J[4]),Q[0]&32&&(_.checked=J[5]),(!K||Q[0]&8&&C!==(C=J[3].length<2))&&(T.disabled=C);const ee={};Q[0]&8&&(ee.players=J[3]),D.$set(ee),(!K||Q[0]&8&&N!==(N=J[3].length<2))&&(F.disabled=N)},i(J){K||(De(D.$$.fragment,J),K=!0)},o(J){Ne(D.$$.fragment,J),K=!1},d(J){J&&W(e),Ve(D),G=!1,Pe(V)}}}function mi(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function vi(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function hi(l){let e,t,n,r;function a(u,f){return f[0]&1&&(r=null),r==null&&(r=!!u[0].losers.some(wi)),r?gi:bi}let o=a(l,[-1,-1]),d=o(l);return{c(){e=c("div"),t=c("h2"),t.textContent="Losers Bracket",n=g(),d.c(),i(t,"class","section-title losers svelte-g1woyq"),i(e,"class","bracket-section losers svelte-g1woyq")},m(u,f){U(u,e,f),s(e,t),s(e,n),d.m(e,null)},p(u,f){o===(o=a(u,f))&&d?d.p(u,f):(d.d(1),d=o(u),d&&(d.c(),d.m(e,null)))},d(u){u&&W(e),d.d()}}}function _i(l){let e,t,n,r,a=Ce(l[0].winners),o=[];for(let d=0;d<a.length;d+=1)o[d]=Jl(Yl(l,a,d));return{c(){e=c("div"),t=c("h2"),t.textContent="Winners Bracket",n=g(),r=c("div");for(let d=0;d<o.length;d+=1)o[d].c();i(t,"class","section-title winners svelte-g1woyq"),i(r,"class","bracket-container svelte-g1woyq"),i(e,"class","bracket-section winners svelte-g1woyq")},m(d,u){U(d,e,u),s(e,t),s(e,n),s(e,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null)},p(d,u){if(u[0]&131073){a=Ce(d[0].winners);let f;for(f=0;f<a.length;f+=1){const v=Yl(d,a,f);o[f]?o[f].p(v,u):(o[f]=Jl(v),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=a.length}},d(d){d&&W(e),ze(o,d)}}}function bi(l){let e;return{c(){e=c("div"),e.innerHTML='<p>No losers bracket matches yet</p> <p class="empty-hint svelte-g1woyq">Players will appear here after losing in the winners bracket</p>',i(e,"class","empty-bracket svelte-g1woyq")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function gi(l){let e,t=Ce(l[0].losers.filter(ln)),n=[];for(let r=0;r<t.length;r+=1)n[r]=Vl(Ll(l,t,r));return{c(){e=c("div");for(let r=0;r<n.length;r+=1)n[r].c();i(e,"class","bracket-container svelte-g1woyq")},m(r,a){U(r,e,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,a){if(a[0]&131073){t=Ce(r[0].losers.filter(ln));let o;for(o=0;o<t.length;o+=1){const d=Ll(r,t,o);n[o]?n[o].p(d,a):(n[o]=Vl(d),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&W(e),ze(n,r)}}}function zl(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Wl(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Ul(l){let e;return{c(){e=c("div"),i(e,"class","connector-horiz svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Hl(l){let e,t,n,r,a=(l[39].player1||"TBD")+"",o,d,u,f,v,p,m,h,_=(l[39].player2||"TBD")+"",b,w,j,k,T=l[38]<l[0].losers.filter(tn).length-1,R,C,I,P=l[40]&&zl();function S(){return l[26](l[40],l[39])}let D=l[40]&&Wl();function Y(){return l[27](l[40],l[39])}let F=T&&Ul();return{c(){e=c("div"),t=c("div"),n=c("button"),r=c("span"),o=B(a),d=g(),P&&P.c(),f=g(),v=c("div"),p=g(),m=c("button"),h=c("span"),b=B(_),w=g(),D&&D.c(),k=g(),F&&F.c(),R=g(),i(r,"class","slot-name svelte-g1woyq"),i(n,"class","match-slot svelte-g1woyq"),n.disabled=u=!l[40],x(n,"winner",l[39].winner==="player1"),x(n,"clickable",l[40]),i(v,"class","match-divider svelte-g1woyq"),i(h,"class","slot-name svelte-g1woyq"),i(m,"class","match-slot svelte-g1woyq"),m.disabled=j=!l[40],x(m,"winner",l[39].winner==="player2"),x(m,"clickable",l[40]),i(t,"class","bracket-match svelte-g1woyq"),x(t,"completed",l[39].completed),x(t,"playable",l[40]),i(e,"class","match-wrapper svelte-g1woyq")},m(q,N){U(q,e,N),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),P&&P.m(n,null),s(t,f),s(t,v),s(t,p),s(t,m),s(m,h),s(h,b),s(m,w),D&&D.m(m,null),s(e,k),F&&F.m(e,null),s(e,R),C||(I=[se(n,"click",S),se(m,"click",Y)],C=!0)},p(q,N){l=q,N[0]&1&&a!==(a=(l[39].player1||"TBD")+"")&&Z(o,a),l[40]?P||(P=zl(),P.c(),P.m(n,null)):P&&(P.d(1),P=null),N[0]&1&&u!==(u=!l[40])&&(n.disabled=u),N[0]&1&&x(n,"winner",l[39].winner==="player1"),N[0]&1&&x(n,"clickable",l[40]),N[0]&1&&_!==(_=(l[39].player2||"TBD")+"")&&Z(b,_),l[40]?D||(D=Wl(),D.c(),D.m(m,null)):D&&(D.d(1),D=null),N[0]&1&&j!==(j=!l[40])&&(m.disabled=j),N[0]&1&&x(m,"winner",l[39].winner==="player2"),N[0]&1&&x(m,"clickable",l[40]),N[0]&1&&x(t,"completed",l[39].completed),N[0]&1&&x(t,"playable",l[40]),N[0]&1&&(T=l[38]<l[0].losers.filter(tn).length-1),T?F||(F=Ul(),F.c(),F.m(e,R)):F&&(F.d(1),F=null)},d(q){q&&W(e),P&&P.d(),D&&D.d(),F&&F.d(),C=!1,Pe(I)}}}function Vl(l){let e,t,n=l[36].name+"",r,a,o,d,u=Ce(l[36].matches),f=[];for(let v=0;v<u.length;v+=1)f[v]=Hl(Fl(l,u,v));return{c(){e=c("div"),t=c("h3"),r=B(n),a=g(),o=c("div");for(let v=0;v<f.length;v+=1)f[v].c();d=g(),i(t,"class","round-name losers svelte-g1woyq"),i(o,"class","round-matches svelte-g1woyq"),i(e,"class","bracket-round svelte-g1woyq")},m(v,p){U(v,e,p),s(e,t),s(t,r),s(e,a),s(e,o);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(o,null);s(e,d)},p(v,p){if(p[0]&1&&n!==(n=v[36].name+"")&&Z(r,n),p[0]&131073){u=Ce(v[36].matches);let m;for(m=0;m<u.length;m+=1){const h=Fl(v,u,m);f[m]?f[m].p(h,p):(f[m]=Hl(h),f[m].c(),f[m].m(o,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(v){v&&W(e),ze(f,v)}}}function Gl(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Kl(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Xl(l){let e;return{c(){e=c("div"),i(e,"class","connector-horiz svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Ql(l){let e,t,n,r,a=(l[39].player1==="BYE"?"BYE":l[39].player1||"TBD")+"",o,d,u,f,v,p,m,h,_=(l[39].player2==="BYE"?"BYE":l[39].player2||"TBD")+"",b,w,j,k,T,R,C,I=l[40]&&Gl();function P(){return l[24](l[40],l[39])}let S=l[40]&&Kl();function D(){return l[25](l[40],l[39])}let Y=l[38]<l[0].winners.length-1&&Xl();return{c(){e=c("div"),t=c("div"),n=c("button"),r=c("span"),o=B(a),d=g(),I&&I.c(),f=g(),v=c("div"),p=g(),m=c("button"),h=c("span"),b=B(_),w=g(),S&&S.c(),k=g(),Y&&Y.c(),T=g(),i(r,"class","slot-name svelte-g1woyq"),i(n,"class","match-slot svelte-g1woyq"),n.disabled=u=!l[40],x(n,"winner",l[39].winner==="player1"),x(n,"bye-slot",l[39].player1==="BYE"),x(n,"clickable",l[40]),i(v,"class","match-divider svelte-g1woyq"),i(h,"class","slot-name svelte-g1woyq"),i(m,"class","match-slot svelte-g1woyq"),m.disabled=j=!l[40],x(m,"winner",l[39].winner==="player2"),x(m,"bye-slot",l[39].player2==="BYE"),x(m,"clickable",l[40]),i(t,"class","bracket-match svelte-g1woyq"),x(t,"completed",l[39].completed),x(t,"playable",l[40]),x(t,"bye",l[41]),i(e,"class","match-wrapper svelte-g1woyq")},m(F,q){U(F,e,q),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),I&&I.m(n,null),s(t,f),s(t,v),s(t,p),s(t,m),s(m,h),s(h,b),s(m,w),S&&S.m(m,null),s(e,k),Y&&Y.m(e,null),s(e,T),R||(C=[se(n,"click",P),se(m,"click",D)],R=!0)},p(F,q){l=F,q[0]&1&&a!==(a=(l[39].player1==="BYE"?"BYE":l[39].player1||"TBD")+"")&&Z(o,a),l[40]?I||(I=Gl(),I.c(),I.m(n,null)):I&&(I.d(1),I=null),q[0]&1&&u!==(u=!l[40])&&(n.disabled=u),q[0]&1&&x(n,"winner",l[39].winner==="player1"),q[0]&1&&x(n,"bye-slot",l[39].player1==="BYE"),q[0]&1&&x(n,"clickable",l[40]),q[0]&1&&_!==(_=(l[39].player2==="BYE"?"BYE":l[39].player2||"TBD")+"")&&Z(b,_),l[40]?S||(S=Kl(),S.c(),S.m(m,null)):S&&(S.d(1),S=null),q[0]&1&&j!==(j=!l[40])&&(m.disabled=j),q[0]&1&&x(m,"winner",l[39].winner==="player2"),q[0]&1&&x(m,"bye-slot",l[39].player2==="BYE"),q[0]&1&&x(m,"clickable",l[40]),q[0]&1&&x(t,"completed",l[39].completed),q[0]&1&&x(t,"playable",l[40]),q[0]&1&&x(t,"bye",l[41]),l[38]<l[0].winners.length-1?Y||(Y=Xl(),Y.c(),Y.m(e,T)):Y&&(Y.d(1),Y=null)},d(F){F&&W(e),I&&I.d(),S&&S.d(),Y&&Y.d(),R=!1,Pe(C)}}}function Jl(l){let e,t,n=l[36].name+"",r,a,o,d,u=Ce(l[36].matches),f=[];for(let v=0;v<u.length;v+=1)f[v]=Ql(Ol(l,u,v));return{c(){e=c("div"),t=c("h3"),r=B(n),a=g(),o=c("div");for(let v=0;v<f.length;v+=1)f[v].c();d=g(),i(t,"class","round-name svelte-g1woyq"),i(o,"class","round-matches svelte-g1woyq"),i(e,"class","bracket-round svelte-g1woyq")},m(v,p){U(v,e,p),s(e,t),s(t,r),s(e,a),s(e,o);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(o,null);s(e,d)},p(v,p){if(p[0]&1&&n!==(n=v[36].name+"")&&Z(r,n),p[0]&131073){u=Ce(v[36].matches);let m;for(m=0;m<u.length;m+=1){const h=Ol(v,u,m);f[m]?f[m].p(h,p):(f[m]=Ql(h),f[m].c(),f[m].m(o,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(v){v&&W(e),ze(f,v)}}}function Zl(l){let e,t,n,r,a,o,d,u,f=(l[34].player1||l[12])+"",v,p,m,h,_,b,w,j,k,T,R=(l[34].player2||"TBD")+"",C,I,P,S,D,Y,F=l[35]&&!l[34].completed&&$l();function q(){return l[28](l[35])}let N=l[35]&&!l[34].completed&&xl();function K(){return l[29](l[35])}let G=l[34].completed&&en(l);return{c(){e=c("div"),t=c("h3"),t.textContent="Grand Final",n=g(),r=c("div"),a=c("button"),o=c("span"),o.textContent="Winners Champion",d=g(),u=c("span"),v=B(f),p=g(),F&&F.c(),h=g(),_=c("span"),_.textContent="VS",b=g(),w=c("button"),j=c("span"),j.textContent="Losers Champion",k=g(),T=c("span"),C=B(R),I=g(),N&&N.c(),S=g(),G&&G.c(),i(t,"class","grand-title svelte-g1woyq"),i(o,"class","finalist-label svelte-g1woyq"),i(u,"class","finalist-name svelte-g1woyq"),i(a,"class","finalist winners-champ svelte-g1woyq"),a.disabled=m=!l[35],x(a,"winner",l[34].winner==="player1"),x(a,"clickable",l[35]&&!l[34].completed),i(_,"class","vs-text svelte-g1woyq"),i(j,"class","finalist-label svelte-g1woyq"),i(T,"class","finalist-name svelte-g1woyq"),i(w,"class","finalist losers-champ svelte-g1woyq"),w.disabled=P=!l[35],x(w,"winner",l[34].winner==="player2"),x(w,"clickable",l[35]&&!l[34].completed),i(r,"class","grand-matchup svelte-g1woyq"),i(e,"class","grand-final svelte-g1woyq"),x(e,"playable",l[35]&&!l[34].completed),x(e,"completed",l[34].completed)},m(V,J){U(V,e,J),s(e,t),s(e,n),s(e,r),s(r,a),s(a,o),s(a,d),s(a,u),s(u,v),s(a,p),F&&F.m(a,null),s(r,h),s(r,_),s(r,b),s(r,w),s(w,j),s(w,k),s(w,T),s(T,C),s(w,I),N&&N.m(w,null),s(e,S),G&&G.m(e,null),D||(Y=[se(a,"click",q),se(w,"click",K)],D=!0)},p(V,J){l=V,J[0]&4097&&f!==(f=(l[34].player1||l[12])+"")&&Z(v,f),l[35]&&!l[34].completed?F||(F=$l(),F.c(),F.m(a,null)):F&&(F.d(1),F=null),J[0]&1&&m!==(m=!l[35])&&(a.disabled=m),J[0]&1&&x(a,"winner",l[34].winner==="player1"),J[0]&1&&x(a,"clickable",l[35]&&!l[34].completed),J[0]&1&&R!==(R=(l[34].player2||"TBD")+"")&&Z(C,R),l[35]&&!l[34].completed?N||(N=xl(),N.c(),N.m(w,null)):N&&(N.d(1),N=null),J[0]&1&&P!==(P=!l[35])&&(w.disabled=P),J[0]&1&&x(w,"winner",l[34].winner==="player2"),J[0]&1&&x(w,"clickable",l[35]&&!l[34].completed),l[34].completed?G?G.p(l,J):(G=en(l),G.c(),G.m(e,null)):G&&(G.d(1),G=null),J[0]&1&&x(e,"playable",l[35]&&!l[34].completed),J[0]&1&&x(e,"completed",l[34].completed)},d(V){V&&W(e),F&&F.d(),N&&N.d(),G&&G.d(),D=!1,Pe(Y)}}}function $l(l){let e;return{c(){e=c("span"),e.textContent="TAP TO WIN",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function xl(l){let e;return{c(){e=c("span"),e.textContent="TAP TO WIN",i(e,"class","tap-label svelte-g1woyq")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function en(l){let e,t,n,r,a,o=(l[34].winner==="player1"?l[34].player1:l[34].player2)+"",d;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("span"),a=B("Champion: "),d=B(o),i(t,"class","champ-icon svelte-g1woyq"),i(r,"class","champ-text svelte-g1woyq"),i(e,"class","champion-banner svelte-g1woyq")},m(u,f){U(u,e,f),s(e,t),s(e,n),s(e,r),s(r,a),s(r,d)},p(u,f){f[0]&1&&o!==(o=(u[34].winner==="player1"?u[34].player1:u[34].player2)+"")&&Z(d,o)},d(u){u&&W(e)}}}function yi(l){let e,t,n,r;const a=[pi,di],o=[];function d(u,f){return u[8]==="setup"?0:1}return t=d(l),n=o[t]=a[t](l),{c(){e=c("div"),n.c(),i(e,"class","page-container svelte-g1woyq")},m(u,f){U(u,e,f),o[t].m(e,null),r=!0},p(u,f){let v=t;t=d(u),t===v?o[t].p(u,f):(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),n=o[t],n?n.p(u,f):(n=o[t]=a[t](u),n.c()),De(n,1),n.m(e,null))},i(u){r||(De(n),r=!0)},o(u){Ne(n),r=!1},d(u){u&&W(e),o[t].d()}}}function ki(l,e,t,n){for(const r of l)for(const a of r.matches)if(a.id===e){n%2===0?a.player1=t:a.player2=t;return}}const wi=l=>l.matches.length>0,tn=l=>l.matches.length>0,ln=l=>l.matches.length>0;function Ei(l,e,t){let n,r,a,o,d;st(l,Xe,A=>t(31,d=A));let u=[],f="",v=!1,p=null,m=null,h="winners",_="setup",b=!1,w;function j(){document.fullscreenElement?document.exitFullscreen():w==null||w.requestFullscreen()}function k(){t(9,b=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",k)}),pt(()=>{document.removeEventListener("fullscreenchange",k)});function T(A){t(3,u=A.detail)}function R(){const A=[...u];for(let L=A.length-1;L>0;L--){const O=Math.floor(Math.random()*(L+1));[A[L],A[O]]=[A[O],A[L]]}t(3,u=A)}function C(){if(u.length<2)return;const A=f.trim()||`Double Elimination - ${new Date().toLocaleDateString()}`;t(0,p=xr(u,v)),t(6,m=mt("double-elimination",A,u,{seeded:v})),Ke(m.id,{status:"in_progress",bracket:p}),t(8,_="bracket"),S()}function I(A,L,O){if(!A.player1||!A.player2||A.player1==="BYE"||A.player2==="BYE")return;const le=L==="player1"?1:0,$=L==="player2"?1:0,fe=O==="winners"?p.winners:p.losers;for(const Se of fe)for(const ae of Se.matches)if(ae.id===A.id){ae.score1=le,ae.score2=$,ae.winner=L,ae.completed=!0;const de=L==="player1"?ae.player1:ae.player2;ae.nextMatchId&&ki(fe,ae.nextMatchId,de,ae.position);break}t(0,p),m&&Ke(m.id,{bracket:p}),S()}function P(A){var L,O;!((L=p.grandFinal)!=null&&L.player1)||!((O=p.grandFinal)!=null&&O.player2)||(t(0,p.grandFinal.score1=A==="player1"?1:0,p),t(0,p.grandFinal.score2=A==="player2"?1:0,p),t(0,p.grandFinal.winner=A,p),t(0,p.grandFinal.completed=!0,p),t(0,p),m&&Ke(m.id,{bracket:p,status:"completed"}),S())}async function S(){await it(d)}function D(){t(3,u=[]),t(4,f=""),t(0,p=null),t(6,m=null),t(8,_="setup")}function Y(){f=this.value,t(4,f)}function F(){v=this.checked,t(5,v)}const q=()=>t(7,h="winners"),N=()=>t(7,h="losers"),K=(A,L)=>A&&I(L,"player1","winners"),G=(A,L)=>A&&I(L,"player2","winners"),V=(A,L)=>A&&I(L,"player1","losers"),J=(A,L)=>A&&I(L,"player2","losers"),Q=A=>A&&P("player1"),ee=A=>A&&P("player2");function re(A){nt[A?"unshift":"push"](()=>{w=A,t(10,w)})}return l.$$.update=()=>{l.$$.dirty[0]&1&&t(12,n=p?$t({rounds:p.winners}):null),l.$$.dirty[0]&1&&t(2,r=p?p.winners.reduce((A,L)=>A+L.matches.filter(O=>O.completed).length,0):0),l.$$.dirty[0]&1&&t(1,a=p?p.winners.reduce((A,L)=>A+L.matches.length,0):0),l.$$.dirty[0]&6&&t(11,o=a>0?r/a*100:0)},[p,a,r,u,f,v,m,h,_,b,w,o,n,j,T,R,C,I,P,D,Y,F,q,N,K,G,V,J,Q,ee,re]}class Ci extends $e{constructor(e){super(),Ze(this,e,Ei,yi,Je,{},null,[-1,-1])}}function nn(l,e,t){const n=l.slice();return n[23]=e[t],n}function Si(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee,re,A,L=l[4]>0&&!l[6]&&sn(l),O=l[5]>0&&!l[6]&&rn(l),le=l[7]&&an(l);return{c(){e=c("div"),t=c("div"),n=c("span"),r=B("Race to "),a=B(l[2]),o=g(),d=c("button"),d.textContent="End",u=g(),f=c("div"),v=c("button"),p=c("div"),m=B(l[0]),h=g(),_=c("div"),b=B(l[4]),w=g(),j=c("div"),k=B("of "),T=B(l[2]),R=g(),L&&L.c(),I=g(),P=c("button"),S=c("div"),D=B(l[1]),Y=g(),F=c("div"),q=B(l[5]),N=g(),K=c("div"),G=B("of "),V=B(l[2]),J=g(),O&&O.c(),ee=g(),le&&le.c(),i(n,"class","race-title-small svelte-1crv0yd"),i(d,"class","end-btn svelte-1crv0yd"),i(t,"class","race-header svelte-1crv0yd"),i(p,"class","player-name svelte-1crv0yd"),i(_,"class","player-score svelte-1crv0yd"),i(j,"class","player-target svelte-1crv0yd"),i(v,"class",C="player-panel player1 "+(l[8]?"pulse":"")+" "+(l[6]===l[0]?"winner":"")+" "+(l[6]&&l[6]!==l[0]?"loser":"")+" svelte-1crv0yd"),i(S,"class","player-name svelte-1crv0yd"),i(F,"class","player-score svelte-1crv0yd"),i(K,"class","player-target svelte-1crv0yd"),i(P,"class",Q="player-panel player2 "+(l[9]?"pulse":"")+" "+(l[6]===l[1]?"winner":"")+" "+(l[6]&&l[6]!==l[1]?"loser":"")+" svelte-1crv0yd"),i(f,"class","score-panels svelte-1crv0yd"),i(e,"class","race-game svelte-1crv0yd")},m($,fe){U($,e,fe),s(e,t),s(t,n),s(n,r),s(n,a),s(t,o),s(t,d),s(e,u),s(e,f),s(f,v),s(v,p),s(p,m),s(v,h),s(v,_),s(_,b),s(v,w),s(v,j),s(j,k),s(j,T),s(v,R),L&&L.m(v,null),s(f,I),s(f,P),s(P,S),s(S,D),s(P,Y),s(P,F),s(F,q),s(P,N),s(P,K),s(K,G),s(K,V),s(P,J),O&&O.m(P,null),s(e,ee),le&&le.m(e,null),re||(A=[se(d,"click",l[14]),se(v,"click",l[20]),se(P,"click",l[22])],re=!0)},p($,fe){fe&4&&Z(a,$[2]),fe&1&&Z(m,$[0]),fe&16&&Z(b,$[4]),fe&4&&Z(T,$[2]),$[4]>0&&!$[6]?L?L.p($,fe):(L=sn($),L.c(),L.m(v,null)):L&&(L.d(1),L=null),fe&321&&C!==(C="player-panel player1 "+($[8]?"pulse":"")+" "+($[6]===$[0]?"winner":"")+" "+($[6]&&$[6]!==$[0]?"loser":"")+" svelte-1crv0yd")&&i(v,"class",C),fe&2&&Z(D,$[1]),fe&32&&Z(q,$[5]),fe&4&&Z(V,$[2]),$[5]>0&&!$[6]?O?O.p($,fe):(O=rn($),O.c(),O.m(P,null)):O&&(O.d(1),O=null),fe&578&&Q!==(Q="player-panel player2 "+($[9]?"pulse":"")+" "+($[6]===$[1]?"winner":"")+" "+($[6]&&$[6]!==$[1]?"loser":"")+" svelte-1crv0yd")&&i(P,"class",Q),$[7]?le?le.p($,fe):(le=an($),le.c(),le.m(e,null)):le&&(le.d(1),le=null)},d($){$&&W(e),L&&L.d(),O&&O.d(),le&&le.d(),re=!1,Pe(A)}}}function Ti(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K=Ce(l[10]),G=[];for(let V=0;V<K.length;V+=1)G[V]=on(nn(l,K,V));return{c(){e=c("div"),t=c("div"),n=c("h1"),r=B("Race to "),a=c("span"),o=B(l[2]),d=g(),u=c("p"),u.textContent="Tap player panels to increment score",f=g(),v=c("div"),p=c("div"),m=c("div"),h=c("label"),h.textContent="Player 1",_=g(),b=c("input"),w=g(),j=c("div"),k=c("label"),k.textContent="Player 2",T=g(),R=c("input"),C=g(),I=c("div"),P=c("label"),P.textContent="Race to",S=g(),D=c("div");for(let V=0;V<G.length;V+=1)G[V].c();Y=g(),F=c("button"),F.textContent="Start Race",i(a,"class","race-number svelte-1crv0yd"),i(n,"class","race-title svelte-1crv0yd"),i(u,"class","race-subtitle svelte-1crv0yd"),i(t,"class","setup-header svelte-1crv0yd"),i(h,"for","player1"),i(h,"class","svelte-1crv0yd"),i(b,"type","text"),i(b,"id","player1"),i(b,"placeholder","Enter name"),i(b,"class","svelte-1crv0yd"),i(m,"class","form-group svelte-1crv0yd"),i(k,"for","player2"),i(k,"class","svelte-1crv0yd"),i(R,"type","text"),i(R,"id","player2"),i(R,"placeholder","Enter name"),i(R,"class","svelte-1crv0yd"),i(j,"class","form-group svelte-1crv0yd"),i(p,"class","form-row svelte-1crv0yd"),i(P,"class","svelte-1crv0yd"),i(D,"class","race-selector svelte-1crv0yd"),i(I,"class","form-group svelte-1crv0yd"),i(F,"class","start-btn svelte-1crv0yd"),i(v,"class","setup-form svelte-1crv0yd"),i(e,"class","race-setup svelte-1crv0yd")},m(V,J){U(V,e,J),s(e,t),s(t,n),s(n,r),s(n,a),s(a,o),s(t,d),s(t,u),s(e,f),s(e,v),s(v,p),s(p,m),s(m,h),s(m,_),s(m,b),Ee(b,l[0]),s(p,w),s(p,j),s(j,k),s(j,T),s(j,R),Ee(R,l[1]),s(v,C),s(v,I),s(I,P),s(I,S),s(I,D);for(let Q=0;Q<G.length;Q+=1)G[Q]&&G[Q].m(D,null);s(v,Y),s(v,F),q||(N=[se(b,"input",l[16]),se(R,"input",l[17]),se(F,"click",l[11])],q=!0)},p(V,J){if(J&4&&Z(o,V[2]),J&1&&b.value!==V[0]&&Ee(b,V[0]),J&2&&R.value!==V[1]&&Ee(R,V[1]),J&1028){K=Ce(V[10]);let Q;for(Q=0;Q<K.length;Q+=1){const ee=nn(V,K,Q);G[Q]?G[Q].p(ee,J):(G[Q]=on(ee),G[Q].c(),G[Q].m(D,null))}for(;Q<G.length;Q+=1)G[Q].d(1);G.length=K.length}},d(V){V&&W(e),ze(G,V),q=!1,Pe(N)}}}function sn(l){let e,t,n;return{c(){e=c("button"),e.textContent="-1",i(e,"class","undo-btn svelte-1crv0yd")},m(r,a){U(r,e,a),t||(n=se(e,"click",l[19]),t=!0)},p:ke,d(r){r&&W(e),t=!1,n()}}}function rn(l){let e,t,n;return{c(){e=c("button"),e.textContent="-1",i(e,"class","undo-btn svelte-1crv0yd")},m(r,a){U(r,e,a),t||(n=se(e,"click",l[21]),t=!0)},p:ke,d(r){r&&W(e),t=!1,n()}}}function an(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j;return{c(){e=c("div"),t=c("div"),n=c("div"),n.textContent="ðŸ†",r=g(),a=c("div"),a.textContent="Winner!",o=g(),d=c("div"),u=B(l[6]),f=g(),v=c("div"),p=B(l[4]),m=B(" - "),h=B(l[5]),_=g(),b=c("button"),b.textContent="New Race",i(n,"class","winner-trophy svelte-1crv0yd"),i(a,"class","winner-label svelte-1crv0yd"),i(d,"class","winner-name svelte-1crv0yd"),i(v,"class","winner-score svelte-1crv0yd"),i(b,"class","new-race-btn svelte-1crv0yd"),i(t,"class","winner-content svelte-1crv0yd"),i(e,"class","winner-overlay svelte-1crv0yd")},m(k,T){U(k,e,T),s(e,t),s(t,n),s(t,r),s(t,a),s(t,o),s(t,d),s(d,u),s(t,f),s(t,v),s(v,p),s(v,m),s(v,h),s(t,_),s(t,b),w||(j=se(b,"click",l[15]),w=!0)},p(k,T){T&64&&Z(u,k[6]),T&16&&Z(p,k[4]),T&32&&Z(h,k[5])},d(k){k&&W(e),w=!1,j()}}}function on(l){let e,t=l[23]+"",n,r,a,o,d;function u(){return l[18](l[23])}return{c(){e=c("button"),n=B(t),r=g(),i(e,"class",a="race-btn "+(l[2]===l[23]?"active":"")+" svelte-1crv0yd")},m(f,v){U(f,e,v),s(e,n),s(e,r),o||(d=se(e,"click",u),o=!0)},p(f,v){l=f,v&4&&a!==(a="race-btn "+(l[2]===l[23]?"active":"")+" svelte-1crv0yd")&&i(e,"class",a)},d(f){f&&W(e),o=!1,d()}}}function Ri(l){let e;function t(a,o){return a[3]?Si:Ti}let n=t(l),r=n(l);return{c(){r.c(),e=yt()},m(a,o){r.m(a,o),U(a,e,o)},p(a,[o]){n===(n=t(a))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},i:ke,o:ke,d(a){a&&W(e),r.d(a)}}}function Bi(l,e,t){let n="Player 1",r="Player 2",a=11,o=[5,7,9,11,13,15],d=!1,u=0,f=0,v=null,p=!1,m=!1,h=!1;function _(){t(3,d=!0),t(4,u=0),t(5,f=0),t(6,v=null),t(7,p=!1)}function b(Y){v||(Y===1?(t(4,u++,u),t(8,m=!0),setTimeout(()=>t(8,m=!1),300),u>=a&&(t(6,v=n),t(7,p=!0))):(t(5,f++,f),t(9,h=!0),setTimeout(()=>t(9,h=!1),300),f>=a&&(t(6,v=r),t(7,p=!0))))}function w(Y,F){F.stopPropagation(),!v&&(Y===1&&u>0?t(4,u--,u):Y===2&&f>0&&t(5,f--,f))}function j(){t(3,d=!1),t(4,u=0),t(5,f=0),t(6,v=null),t(7,p=!1)}function k(){t(4,u=0),t(5,f=0),t(6,v=null),t(7,p=!1)}function T(){n=this.value,t(0,n)}function R(){r=this.value,t(1,r)}return[n,r,a,d,u,f,v,p,m,h,o,_,b,w,j,k,T,R,Y=>t(2,a=Y),Y=>w(1,Y),()=>b(1),Y=>w(2,Y),()=>b(2)]}class Ii extends $e{constructor(e){super(),Ze(this,e,Bi,Ri,Je,{})}}function ji(l,e=!0){let t=[...l];return e&&(t=Pi(t)),t.map((n,r)=>({rank:r+1,player:n,wins:0,losses:0,challenges:0,defenses:0,lastActive:null}))}function Di(l,e,t,n){const r=[...l],a=r.findIndex(u=>u.rank===e),o=r.findIndex(u=>u.rank===t);if(a===-1||o===-1)return l;const d=new Date().toISOString();if(n){r[a].wins++,r[a].challenges++,r[a].lastActive=d,r[o].losses++,r[o].defenses++,r[o].lastActive=d;const u=t,f=e;r[a].rank=u,r[o].rank=f}else r[o].wins++,r[o].defenses++,r[o].lastActive=d,r[a].losses++,r[a].challenges++,r[a].lastActive=d;return r.sort((u,f)=>u.rank-f.rank)}function Ni(l,e,t=3){return l.filter(n=>n.rank<e&&e-n.rank<=t)}function Pi(l){const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function cn(l,e,t){const n=l.slice();return n[35]=e[t],n}function un(l,e,t){const n=l.slice();return n[38]=e[t],n}function fn(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function qi(l){var Ye,he;let e,t,n,r,a=(((Ye=l[6])==null?void 0:Ye.name)||"Ladder")+"",o,d,u,f=((he=l[1])==null?void 0:he.length)+"",v,p,m,h,_,b,w,j,k=l[7].length+"",T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee,re,A,L,O;function le(ne,ue){return ne[12]?Li:Ai}let $=le(l),fe=$(l),Se=Ce(l[1]),ae=[];for(let ne=0;ne<Se.length;ne+=1)ae[ne]=mn(fn(l,Se,ne));let de=l[7].length>0&&vn(l),ge=l[8]&&_n(l);return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),v=B(f),p=B(" players â€¢ "),m=B(l[0]),h=B(" rungs max"),_=g(),b=c("div"),w=c("div"),j=c("span"),T=B(k),R=g(),C=c("span"),C.textContent="matches played",I=g(),P=c("div"),S=c("button"),fe.c(),D=g(),Y=c("button"),Y.textContent="Exit",F=g(),q=c("div"),N=c("div");for(let ne=0;ne<ae.length;ne+=1)ae[ne].c();K=g(),de&&de.c(),G=g(),V=c("div"),J=B("Tap a player to challenge someone above them (within "),Q=B(l[0]),ee=B(" rungs)"),re=g(),ge&&ge.c(),A=yt(),i(r,"class","game-title svelte-jc9xlp"),i(u,"class","game-meta svelte-jc9xlp"),i(n,"class","top-left svelte-jc9xlp"),i(j,"class","count-num svelte-jc9xlp"),i(C,"class","count-label svelte-jc9xlp"),i(w,"class","challenges-count svelte-jc9xlp"),i(b,"class","top-center svelte-jc9xlp"),i(S,"class","fullscreen-btn svelte-jc9xlp"),i(Y,"class","end-btn svelte-jc9xlp"),i(P,"class","top-right svelte-jc9xlp"),i(t,"class","top-bar svelte-jc9xlp"),i(N,"class","ladder-list svelte-jc9xlp"),i(q,"class","ladder-area svelte-jc9xlp"),i(V,"class","footer-hint svelte-jc9xlp"),i(e,"class","game-fullscreen svelte-jc9xlp"),x(e,"is-fullscreen",l[12])},m(ne,ue){U(ne,e,ue),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,v),s(u,p),s(u,m),s(u,h),s(t,_),s(t,b),s(b,w),s(w,j),s(j,T),s(w,R),s(w,C),s(t,I),s(t,P),s(P,S),fe.m(S,null),s(P,D),s(P,Y),s(e,F),s(e,q),s(q,N);for(let ve=0;ve<ae.length;ve+=1)ae[ve]&&ae[ve].m(N,null);s(q,K),de&&de.m(q,null),s(e,G),s(e,V),s(V,J),s(V,Q),s(V,ee),l[28](e),U(ne,re,ue),ge&&ge.m(ne,ue),U(ne,A,ue),L||(O=[se(S,"click",l[15]),se(Y,"click",l[22])],L=!0)},p(ne,ue){var ve,we;if(ue[0]&64&&a!==(a=(((ve=ne[6])==null?void 0:ve.name)||"Ladder")+"")&&Z(o,a),ue[0]&2&&f!==(f=((we=ne[1])==null?void 0:we.length)+"")&&Z(v,f),ue[0]&1&&Z(m,ne[0]),ue[0]&128&&k!==(k=ne[7].length+"")&&Z(T,k),$!==($=le(ne))&&(fe.d(1),fe=$(ne),fe&&(fe.c(),fe.m(S,null))),ue[0]&262146){Se=Ce(ne[1]);let Te;for(Te=0;Te<Se.length;Te+=1){const ye=fn(ne,Se,Te);ae[Te]?ae[Te].p(ye,ue):(ae[Te]=mn(ye),ae[Te].c(),ae[Te].m(N,null))}for(;Te<ae.length;Te+=1)ae[Te].d(1);ae.length=Se.length}ne[7].length>0?de?de.p(ne,ue):(de=vn(ne),de.c(),de.m(q,null)):de&&(de.d(1),de=null),ue[0]&1&&Z(Q,ne[0]),ue[0]&4096&&x(e,"is-fullscreen",ne[12]),ne[8]?ge?ge.p(ne,ue):(ge=_n(ne),ge.c(),ge.m(A.parentNode,A)):ge&&(ge.d(1),ge=null)},i:ke,o:ke,d(ne){ne&&(W(e),W(re),W(A)),fe.d(),ze(ae,ne),de&&de.d(),l[28](null),ge&&ge.d(ne),L=!1,Pe(O)}}}function Mi(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee;return q=new kt({props:{players:l[3],minPlayers:2,maxPlayers:50}}),q.$on("change",l[16]),{c(){e=c("div"),t=c("h1"),t.textContent="Ladder Tournament",n=g(),r=c("p"),r.textContent="Climb the ranks by challenging players above you. Win to swap positions!",a=g(),o=c("div"),d=c("div"),u=c("div"),f=c("label"),f.textContent="Tournament Name",v=g(),p=c("input"),m=g(),h=c("div"),_=c("label"),_.textContent="Max Rungs to Challenge",b=g(),w=c("select"),j=c("option"),j.textContent="2 rungs",k=c("option"),k.textContent="3 rungs (recommended)",T=c("option"),T.textContent="4 rungs",R=c("option"),R.textContent="5 rungs",C=g(),I=c("div"),P=c("label"),S=c("input"),D=g(),Y=c("span"),Y.textContent="Randomize starting positions",F=g(),Ge(q.$$.fragment),N=g(),K=c("button"),G=B("Create Ladder"),i(t,"class","setup-title svelte-jc9xlp"),i(r,"class","setup-subtitle svelte-jc9xlp"),i(f,"class","form-label svelte-jc9xlp"),i(p,"type","text"),i(p,"class","form-input svelte-jc9xlp"),i(p,"placeholder","King of the Hill"),i(u,"class","form-group svelte-jc9xlp"),i(_,"class","form-label svelte-jc9xlp"),j.__value=2,Ee(j,j.__value),k.__value=3,Ee(k,k.__value),T.__value=4,Ee(T,T.__value),R.__value=5,Ee(R,R.__value),i(w,"class","form-input svelte-jc9xlp"),l[0]===void 0&&ct(()=>l[25].call(w)),i(h,"class","form-group svelte-jc9xlp"),i(d,"class","form-grid svelte-jc9xlp"),i(S,"type","checkbox"),i(S,"class","form-checkbox svelte-jc9xlp"),i(P,"class","checkbox-label svelte-jc9xlp"),i(I,"class","checkbox-group svelte-jc9xlp"),i(K,"class","start-btn svelte-jc9xlp"),K.disabled=V=l[3].length<2,i(o,"class","setup-form svelte-jc9xlp"),i(e,"class","setup-screen svelte-jc9xlp")},m(re,A){U(re,e,A),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(u,f),s(u,v),s(u,p),Ee(p,l[4]),s(d,m),s(d,h),s(h,_),s(h,b),s(h,w),s(w,j),s(w,k),s(w,T),s(w,R),tt(w,l[0],!0),s(o,C),s(o,I),s(I,P),s(P,S),S.checked=l[5],s(P,D),s(P,Y),s(o,F),He(q,o,null),s(o,N),s(o,K),s(K,G),J=!0,Q||(ee=[se(p,"input",l[24]),se(w,"change",l[25]),se(S,"change",l[26]),se(K,"click",l[17])],Q=!0)},p(re,A){A[0]&16&&p.value!==re[4]&&Ee(p,re[4]),A[0]&1&&tt(w,re[0]),A[0]&32&&(S.checked=re[5]);const L={};A[0]&8&&(L.players=re[3]),q.$set(L),(!J||A[0]&8&&V!==(V=re[3].length<2))&&(K.disabled=V)},i(re){J||(De(q.$$.fragment,re),J=!0)},o(re){Ne(q.$$.fragment,re),J=!1},d(re){re&&W(e),Ve(q),Q=!1,Pe(ee)}}}function Ai(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Li(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Fi(l){let e=l[41].rank+"",t;return{c(){t=B(e)},m(n,r){U(n,t,r)},p(n,r){r[0]&2&&e!==(e=n[41].rank+"")&&Z(t,e)},d(n){n&&W(t)}}}function Yi(l){let e;return{c(){e=B("ðŸ‘‘")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function dn(l){let e,t=l[41].challenges+"",n,r;return{c(){e=c("span"),n=B(t),r=B(" challenges"),i(e,"class","stat challenges svelte-jc9xlp")},m(a,o){U(a,e,o),s(e,n),s(e,r)},p(a,o){o[0]&2&&t!==(t=a[41].challenges+"")&&Z(n,t)},d(a){a&&W(e)}}}function pn(l){let e;return{c(){e=c("div"),e.textContent="Challenge â†‘",i(e,"class","challenge-badge svelte-jc9xlp")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function mn(l){let e,t,n,r,a,o=l[41].player+"",d,u,f,v,p=l[41].wins+"",m,h,_,b,w=l[41].losses+"",j,k,T,R,C,I,P,S;function D(G,V){return G[43]===0?Yi:Fi}let F=D(l)(l),q=l[41].challenges>0&&dn(l),N=l[41].rank<l[1].length&&pn();function K(){return l[27](l[41])}return{c(){e=c("button"),t=c("div"),F.c(),n=g(),r=c("div"),a=c("span"),d=B(o),u=g(),f=c("div"),v=c("span"),m=B(p),h=B("W"),_=g(),b=c("span"),j=B(w),k=B("L"),T=g(),q&&q.c(),R=g(),N&&N.c(),C=g(),i(t,"class","rank-badge svelte-jc9xlp"),x(t,"leader",l[43]===0),i(a,"class","player-name svelte-jc9xlp"),x(a,"leader",l[43]===0),i(v,"class","stat win svelte-jc9xlp"),i(b,"class","stat loss svelte-jc9xlp"),i(f,"class","player-stats svelte-jc9xlp"),i(r,"class","player-info svelte-jc9xlp"),i(e,"class","ladder-entry svelte-jc9xlp"),e.disabled=I=l[41].rank===1,x(e,"leader",l[43]===0),x(e,"can-challenge",l[41].rank<l[1].length)},m(G,V){U(G,e,V),s(e,t),F.m(t,null),s(e,n),s(e,r),s(r,a),s(a,d),s(r,u),s(r,f),s(f,v),s(v,m),s(v,h),s(f,_),s(f,b),s(b,j),s(b,k),s(f,T),q&&q.m(f,null),s(e,R),N&&N.m(e,null),s(e,C),P||(S=se(e,"click",K),P=!0)},p(G,V){l=G,F.p(l,V),V[0]&2&&o!==(o=l[41].player+"")&&Z(d,o),V[0]&2&&p!==(p=l[41].wins+"")&&Z(m,p),V[0]&2&&w!==(w=l[41].losses+"")&&Z(j,w),l[41].challenges>0?q?q.p(l,V):(q=dn(l),q.c(),q.m(f,null)):q&&(q.d(1),q=null),l[41].rank<l[1].length?N||(N=pn(),N.c(),N.m(e,C)):N&&(N.d(1),N=null),V[0]&2&&I!==(I=l[41].rank===1)&&(e.disabled=I),V[0]&2&&x(e,"can-challenge",l[41].rank<l[1].length)},d(G){G&&W(e),F.d(),q&&q.d(),N&&N.d(),P=!1,S()}}}function vn(l){let e,t,n,r,a=Ce(l[7].slice().reverse().slice(0,8)),o=[];for(let d=0;d<a.length;d+=1)o[d]=hn(un(l,a,d));return{c(){e=c("div"),t=c("h3"),t.textContent="Recent Matches",n=g(),r=c("div");for(let d=0;d<o.length;d+=1)o[d].c();i(t,"class","history-title svelte-jc9xlp"),i(r,"class","history-list svelte-jc9xlp"),i(e,"class","history-section svelte-jc9xlp")},m(d,u){U(d,e,u),s(e,t),s(e,n),s(e,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null)},p(d,u){if(u[0]&128){a=Ce(d[7].slice().reverse().slice(0,8));let f;for(f=0;f<a.length;f+=1){const v=un(d,a,f);o[f]?o[f].p(v,u):(o[f]=hn(v),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=a.length}},d(d){d&&W(e),ze(o,d)}}}function hn(l){let e,t,n,r=l[38].challenger+"",a,o,d,u,f,v=l[38].defender+"",p,m,h,_=l[38].winner+"",b,w,j=l[38].swapped?"â‡…":"",k,T;return{c(){e=c("div"),t=c("span"),n=c("span"),a=B(r),o=g(),d=c("span"),d.textContent="vs",u=g(),f=c("span"),p=B(v),m=g(),h=c("span"),b=B(_),w=B(" won "),k=B(j),T=g(),i(n,"class","h-challenger svelte-jc9xlp"),i(d,"class","h-vs svelte-jc9xlp"),i(f,"class","h-defender svelte-jc9xlp"),i(t,"class","history-players svelte-jc9xlp"),i(h,"class","history-result svelte-jc9xlp"),x(h,"swapped",l[38].swapped),i(e,"class","history-entry svelte-jc9xlp")},m(R,C){U(R,e,C),s(e,t),s(t,n),s(n,a),s(t,o),s(t,d),s(t,u),s(t,f),s(f,p),s(e,m),s(e,h),s(h,b),s(h,w),s(h,k),s(e,T)},p(R,C){C[0]&128&&r!==(r=R[38].challenger+"")&&Z(a,r),C[0]&128&&v!==(v=R[38].defender+"")&&Z(p,v),C[0]&128&&_!==(_=R[38].winner+"")&&Z(b,_),C[0]&128&&j!==(j=R[38].swapped?"â‡…":"")&&Z(k,j),C[0]&128&&x(h,"swapped",R[38].swapped)},d(R){R&&W(e)}}}function _n(l){let e,t,n,r,a,o,d,u,f,v;function p(b,w){return b[9]?Oi:zi}let m=p(l),h=m(l),_=l[9]&&l[10]&&gn(l);return{c(){e=c("div"),t=c("div"),n=c("h3"),n.textContent="Challenge Match",r=g(),h.c(),a=g(),o=c("div"),d=c("button"),d.textContent="Cancel",u=g(),_&&_.c(),i(n,"class","modal-title svelte-jc9xlp"),i(d,"class","cancel-btn svelte-jc9xlp"),i(o,"class","modal-actions svelte-jc9xlp"),i(t,"class","modal-content svelte-jc9xlp"),i(e,"class","modal-overlay svelte-jc9xlp")},m(b,w){U(b,e,w),s(e,t),s(t,n),s(t,r),h.m(t,null),s(t,a),s(t,o),s(o,d),s(o,u),_&&_.m(o,null),f||(v=[se(d,"click",l[21]),se(t,"click",as(l[23])),se(e,"click",l[21])],f=!0)},p(b,w){m===(m=p(b))&&h?h.p(b,w):(h.d(1),h=m(b),h&&(h.c(),h.m(t,a))),b[9]&&b[10]?_?_.p(b,w):(_=gn(b),_.c(),_.m(o,null)):_&&(_.d(1),_=null)},d(b){b&&W(e),h.d(),_&&_.d(),f=!1,Pe(v)}}}function Oi(l){let e,t,n=l[2].player+"",r,a,o,d,u,f=l[9].player+"",v,p,m,h,_,b,w,j=l[2].player+"",k,T,R,C,I,P,S=l[9].player+"",D,Y,F,q,N;return{c(){e=c("div"),t=c("span"),r=B(n),a=g(),o=c("span"),o.textContent="vs",d=g(),u=c("span"),v=B(f),p=g(),m=c("p"),m.textContent="Who won the match?",h=g(),_=c("div"),b=c("button"),w=c("span"),k=B(j),T=g(),R=c("span"),R.textContent="(Swap positions)",C=g(),I=c("button"),P=c("span"),D=B(S),Y=g(),F=c("span"),F.textContent="(Stay in place)",i(t,"class","m-challenger svelte-jc9xlp"),i(o,"class","m-vs svelte-jc9xlp"),i(u,"class","m-defender svelte-jc9xlp"),i(e,"class","matchup-display svelte-jc9xlp"),i(m,"class","winner-prompt svelte-jc9xlp"),i(w,"class","w-name svelte-jc9xlp"),i(R,"class","w-hint svelte-jc9xlp"),i(b,"class","winner-btn challenger svelte-jc9xlp"),x(b,"selected",l[10]==="challenger"),i(P,"class","w-name svelte-jc9xlp"),i(F,"class","w-hint svelte-jc9xlp"),i(I,"class","winner-btn defender svelte-jc9xlp"),x(I,"selected",l[10]==="defender"),i(_,"class","winner-buttons svelte-jc9xlp")},m(K,G){U(K,e,G),s(e,t),s(t,r),s(e,a),s(e,o),s(e,d),s(e,u),s(u,v),U(K,p,G),U(K,m,G),U(K,h,G),U(K,_,G),s(_,b),s(b,w),s(w,k),s(b,T),s(b,R),s(_,C),s(_,I),s(I,P),s(P,D),s(I,Y),s(I,F),q||(N=[se(b,"click",l[30]),se(I,"click",l[31])],q=!0)},p(K,G){G[0]&4&&n!==(n=K[2].player+"")&&Z(r,n),G[0]&512&&f!==(f=K[9].player+"")&&Z(v,f),G[0]&4&&j!==(j=K[2].player+"")&&Z(k,j),G[0]&1024&&x(b,"selected",K[10]==="challenger"),G[0]&512&&S!==(S=K[9].player+"")&&Z(D,S),G[0]&1024&&x(I,"selected",K[10]==="defender")},d(K){K&&(W(e),W(p),W(m),W(h),W(_)),q=!1,Pe(N)}}}function zi(l){var I,P;let e,t,n=((I=l[2])==null?void 0:I.player)+"",r,a,o,d,u=((P=l[2])==null?void 0:P.rank)+"",f,v,p,m,h,_,b,w,j,k,T,R=Ce(l[14]),C=[];for(let S=0;S<R.length;S+=1)C[S]=bn(cn(l,R,S));return{c(){e=c("div"),t=c("span"),r=B(n),a=g(),o=c("span"),d=B("(Rank #"),f=B(u),v=B(")"),p=g(),m=c("span"),m.textContent="is challenging...",h=g(),_=c("p"),b=B("Select opponent (up to "),w=B(l[0]),j=B(" rungs above):"),k=g(),T=c("div");for(let S=0;S<C.length;S+=1)C[S].c();i(t,"class","challenger-name svelte-jc9xlp"),i(o,"class","challenger-rank svelte-jc9xlp"),i(m,"class","challenger-text svelte-jc9xlp"),i(e,"class","challenger-info svelte-jc9xlp"),i(_,"class","target-hint svelte-jc9xlp"),i(T,"class","target-list svelte-jc9xlp")},m(S,D){U(S,e,D),s(e,t),s(t,r),s(e,a),s(e,o),s(o,d),s(o,f),s(o,v),s(e,p),s(e,m),U(S,h,D),U(S,_,D),s(_,b),s(_,w),s(_,j),U(S,k,D),U(S,T,D);for(let Y=0;Y<C.length;Y+=1)C[Y]&&C[Y].m(T,null)},p(S,D){var Y,F;if(D[0]&4&&n!==(n=((Y=S[2])==null?void 0:Y.player)+"")&&Z(r,n),D[0]&4&&u!==(u=((F=S[2])==null?void 0:F.rank)+"")&&Z(f,u),D[0]&1&&Z(w,S[0]),D[0]&540672){R=Ce(S[14]);let q;for(q=0;q<R.length;q+=1){const N=cn(S,R,q);C[q]?C[q].p(N,D):(C[q]=bn(N),C[q].c(),C[q].m(T,null))}for(;q<C.length;q+=1)C[q].d(1);C.length=R.length}},d(S){S&&(W(e),W(h),W(_),W(k),W(T)),ze(C,S)}}}function bn(l){let e,t,n=l[35].player+"",r,a,o,d,u=l[35].rank+"",f,v,p,m;function h(){return l[29](l[35])}return{c(){e=c("button"),t=c("span"),r=B(n),a=g(),o=c("span"),d=B("Rank #"),f=B(u),v=g(),i(t,"class","target-name svelte-jc9xlp"),i(o,"class","target-rank svelte-jc9xlp"),i(e,"class","target-btn svelte-jc9xlp")},m(_,b){U(_,e,b),s(e,t),s(t,r),s(e,a),s(e,o),s(o,d),s(o,f),s(e,v),p||(m=se(e,"click",h),p=!0)},p(_,b){l=_,b[0]&16384&&n!==(n=l[35].player+"")&&Z(r,n),b[0]&16384&&u!==(u=l[35].rank+"")&&Z(f,u)},d(_){_&&W(e),p=!1,m()}}}function gn(l){let e,t,n;return{c(){e=c("button"),e.textContent="Submit Result",i(e,"class","submit-btn svelte-jc9xlp")},m(r,a){U(r,e,a),t||(n=se(e,"click",l[20]),t=!0)},p:ke,d(r){r&&W(e),t=!1,n()}}}function Wi(l){let e,t,n,r;const a=[Mi,qi],o=[];function d(u,f){return u[11]==="setup"?0:1}return t=d(l),n=o[t]=a[t](l),{c(){e=c("div"),n.c(),i(e,"class","page-container svelte-jc9xlp")},m(u,f){U(u,e,f),o[t].m(e,null),r=!0},p(u,f){let v=t;t=d(u),t===v?o[t].p(u,f):(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),n=o[t],n?n.p(u,f):(n=o[t]=a[t](u),n.c()),De(n,1),n.m(e,null))},i(u){r||(De(n),r=!0)},o(u){Ne(n),r=!1},d(u){u&&W(e),o[t].d()}}}function Ui(l,e,t){let n,r;st(l,Xe,L=>t(32,r=L));let a=[],o="",d=3,u=!0,f=null,v=null,p=[],m=!1,h=null,_=null,b=null,w="setup",j=!1,k;function T(){document.fullscreenElement?(document.exitFullscreen(),t(12,j=!1)):(k==null||k.requestFullscreen(),t(12,j=!0))}function R(){t(12,j=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",R)}),pt(()=>{document.removeEventListener("fullscreenchange",R)});function C(L){t(3,a=L.detail)}function I(){if(a.length<2)return;const L=o.trim()||`Ladder - ${new Date().toLocaleDateString()}`;t(1,f=ji(a,u)),t(6,v=mt("ladder",L,a,{maxRungs:d})),Ke(v.id,{status:"in_progress",ladder:f,challenges:[]}),t(11,w="ladder"),F()}function P(L){t(2,h=L),t(8,m=!0)}function S(L){t(9,_=L)}function D(){if(!h||!_||!b)return;const L=b==="challenger";t(1,f=Di(f,h.rank,_.rank,L)),t(7,p=[...p,{id:crypto.randomUUID(),date:new Date().toISOString(),challenger:h.player,defender:_.player,winner:b==="challenger"?h.player:_.player,challengerRank:h.rank,defenderRank:_.rank,swapped:L}]),Ke(v.id,{ladder:f,challenges:p}),F(),Y()}function Y(){t(8,m=!1),t(2,h=null),t(9,_=null),t(10,b=null)}async function F(){await it(r)}function q(){t(3,a=[]),t(4,o=""),t(1,f=null),t(6,v=null),t(7,p=[]),t(11,w="setup")}function N(L){us.call(this,l,L)}function K(){o=this.value,t(4,o)}function G(){d=St(this),t(0,d)}function V(){u=this.checked,t(5,u)}const J=L=>L.rank<f.length&&P(L);function Q(L){nt[L?"unshift":"push"](()=>{k=L,t(13,k)})}const ee=L=>S(L),re=()=>t(10,b="challenger"),A=()=>t(10,b="defender");return l.$$.update=()=>{l.$$.dirty[0]&7&&t(14,n=h?Ni(f,h.rank,d):[])},[d,f,h,a,o,u,v,p,m,_,b,w,j,k,n,T,C,I,P,S,D,Y,q,N,K,G,V,J,Q,ee,re,A]}class Hi extends $e{constructor(e){super(),Ze(this,e,Ui,Wi,Je,{},null,[-1,-1])}}function Vi(l,e){const t=Math.ceil(Math.log2(l.length))+1,n=e||t;return{players:l.map(r=>({name:r,points:0,wins:0,losses:0,draws:0,opponents:[],buchholz:0})),rounds:[],currentRound:0,totalRounds:n,completed:!1}}function yn(l){const{players:e,currentRound:t,totalRounds:n}=l;if(t>=n)return{...l,completed:!0};const r=t+1,a=[...e].sort((u,f)=>f.points!==u.points?f.points-u.points:f.buchholz-u.buchholz),o=new Set,d=[];for(let u=0;u<a.length;u++){const f=a[u];if(o.has(f.name))continue;let v=null;for(let p=u+1;p<a.length;p++){const m=a[p];if(!o.has(m.name)&&!f.opponents.includes(m.name)){v=m;break}}v&&(o.add(f.name),o.add(v.name),d.push({id:crypto.randomUUID(),round:r,player1:f.name,player2:v.name,score1:null,score2:null,winner:null,completed:!1}))}if(a.length%2===1){const u=a.find(f=>!o.has(f.name));if(u){d.push({id:crypto.randomUUID(),round:r,player1:u.name,player2:"BYE",score1:1,score2:0,winner:"player1",completed:!0});const f=l.players.findIndex(v=>v.name===u.name);f!==-1&&(l.players[f].points+=1,l.players[f].wins+=1)}}return{...l,rounds:[...l.rounds,{number:r,matches:d}],currentRound:r}}function Gi(l,e,t,n,r){const a={...l};for(const o of a.rounds)for(const d of o.matches)if(d.id===e){d.score1=t,d.score2=n,d.winner=r,d.completed=!0;const u=a.players.findIndex(v=>v.name===d.player1),f=a.players.findIndex(v=>v.name===d.player2);u!==-1&&f!==-1&&d.player2!=="BYE"&&(a.players[u].opponents.push(d.player2),a.players[f].opponents.push(d.player1),r==="player1"?(a.players[u].points+=1,a.players[u].wins+=1,a.players[f].losses+=1):r==="player2"?(a.players[f].points+=1,a.players[f].wins+=1,a.players[u].losses+=1):(a.players[u].points+=.5,a.players[f].points+=.5,a.players[u].draws+=1,a.players[f].draws+=1));break}return Ki(a),a}function Ki(l){for(const e of l.players){let t=0;for(const n of e.opponents){const r=l.players.find(a=>a.name===n);r&&(t+=r.points)}e.buchholz=t}}function Xi(l){return[...l.players].sort((e,t)=>t.points!==e.points?t.points-e.points:t.buchholz!==e.buchholz?t.buchholz-e.buchholz:t.wins-e.wins)}function gs(l){return l.rounds.length===0?!0:l.rounds[l.rounds.length-1].matches.every(t=>t.completed)}function kn(l){return l.currentRound>=l.totalRounds&&gs(l)}function wn(l,e,t){const n=l.slice();return n[44]=e[t],n[46]=t,n}function En(l,e,t){const n=l.slice();return n[41]=e[t],n}function Qi(l){var Te,ye,Ie;let e,t,n,r,a=(((Te=l[5])==null?void 0:Te.name)||"Swiss Tournament")+"",o,d,u,f,v=((ye=l[0])==null?void 0:ye.currentRound)+"",p,m,h=((Ie=l[0])==null?void 0:Ie.totalRounds)+"",_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G,V,J,Q,ee=(l[12],"â›¶"),re,A,L,O,le,$,fe,Se,ae,de,ge,Ye,he,ne=l[16]&&Cn(l);function ue(me,Re){return me[11]==="pairings"?$i:Zi}let ve=ue(l),we=ve(l);return{c(){var me,Re;e=c("div"),t=c("div"),n=c("div"),r=c("h2"),o=B(a),d=g(),u=c("span"),f=B("Round "),p=B(v),m=B(" of "),_=B(h),b=g(),w=c("div"),j=c("div"),k=c("span"),k.textContent="Matches:",T=g(),R=c("span"),C=B(l[15]),I=B(" / "),P=B(l[14]),S=g(),D=c("div"),Y=c("button"),F=B("Pairings"),N=g(),K=c("button"),G=B("Standings"),J=g(),Q=c("button"),re=B(ee),A=g(),L=c("button"),L.textContent="âœ•",O=g(),le=c("div"),$=c("div"),fe=g(),Se=c("div"),ne&&ne.c(),ae=g(),we.c(),de=g(),ge=c("div"),ge.textContent="Tap match cards to enter scores â€¢ Tap completed matches to edit",i(r,"class","tournament-name svelte-au9eit"),i(u,"class","round-badge svelte-au9eit"),i(n,"class","top-bar-left svelte-au9eit"),i(k,"class","progress-label svelte-au9eit"),i(R,"class","progress-value svelte-au9eit"),i(j,"class","progress-display svelte-au9eit"),i(w,"class","top-bar-center svelte-au9eit"),i(Y,"class",q="view-btn "+(l[11]==="pairings"?"active":"")+" svelte-au9eit"),i(K,"class",V="view-btn "+(l[11]==="standings"?"active":"")+" svelte-au9eit"),i(Q,"class","fullscreen-btn svelte-au9eit"),i(L,"class","exit-btn svelte-au9eit"),i(D,"class","top-bar-right svelte-au9eit"),i(t,"class","top-bar svelte-au9eit"),i($,"class","progress-bar svelte-au9eit"),lt($,"width",((me=l[0])==null?void 0:me.currentRound)/((Re=l[0])==null?void 0:Re.totalRounds)*100+"%"),i(le,"class","progress-bar-container svelte-au9eit"),i(Se,"class","main-content svelte-au9eit"),i(ge,"class","footer-hint svelte-au9eit"),i(e,"class","game-fullscreen svelte-au9eit")},m(me,Re){U(me,e,Re),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,f),s(u,p),s(u,m),s(u,_),s(t,b),s(t,w),s(w,j),s(j,k),s(j,T),s(j,R),s(R,C),s(R,I),s(R,P),s(t,S),s(t,D),s(D,Y),s(Y,F),s(D,N),s(D,K),s(K,G),s(D,J),s(D,Q),s(Q,re),s(D,A),s(D,L),s(e,O),s(e,le),s(le,$),s(e,fe),s(e,Se),ne&&ne.m(Se,null),s(Se,ae),we.m(Se,null),s(e,de),s(e,ge),l[33](e),Ye||(he=[se(Y,"click",l[30]),se(K,"click",l[31]),se(Q,"click",l[26]),se(L,"click",l[25])],Ye=!0)},p(me,Re){var je,Me,et,be,Fe;Re[0]&32&&a!==(a=(((je=me[5])==null?void 0:je.name)||"Swiss Tournament")+"")&&Z(o,a),Re[0]&1&&v!==(v=((Me=me[0])==null?void 0:Me.currentRound)+"")&&Z(p,v),Re[0]&1&&h!==(h=((et=me[0])==null?void 0:et.totalRounds)+"")&&Z(_,h),Re[0]&32768&&Z(C,me[15]),Re[0]&16384&&Z(P,me[14]),Re[0]&2048&&q!==(q="view-btn "+(me[11]==="pairings"?"active":"")+" svelte-au9eit")&&i(Y,"class",q),Re[0]&2048&&V!==(V="view-btn "+(me[11]==="standings"?"active":"")+" svelte-au9eit")&&i(K,"class",V),Re[0]&4096&&ee!==(ee=(me[12],"â›¶"))&&Z(re,ee),Re[0]&1&&lt($,"width",((be=me[0])==null?void 0:be.currentRound)/((Fe=me[0])==null?void 0:Fe.totalRounds)*100+"%"),me[16]?ne?ne.p(me,Re):(ne=Cn(me),ne.c(),ne.m(Se,ae)):ne&&(ne.d(1),ne=null),ve===(ve=ue(me))&&we?we.p(me,Re):(we.d(1),we=ve(me),we&&(we.c(),we.m(Se,null)))},i:ke,o:ke,d(me){me&&W(e),ne&&ne.d(),we.d(),l[33](null),Ye=!1,Pe(he)}}}function Ji(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R=Math.ceil(Math.log2(Math.max(l[2].length,2)))+1+"",C,I,P=(l[2].length||0)+"",S,D,Y,F,q,N,K,G,V,J,Q;return F=new kt({props:{players:l[2],minPlayers:4,maxPlayers:64,label:"Players"}}),F.$on("change",l[19]),{c(){e=c("div"),t=c("h1"),t.textContent="Swiss System",n=g(),r=c("p"),r.textContent="Players are paired with opponents of similar skill. No elimination - everyone plays all rounds!",a=g(),o=c("div"),d=c("div"),u=c("div"),f=c("label"),f.textContent="Tournament Name",v=g(),p=c("input"),m=g(),h=c("div"),_=c("label"),_.textContent="Number of Rounds",b=g(),w=c("input"),j=g(),k=c("p"),T=B("Recommended: "),C=B(R),I=B(" rounds for "),S=B(P),D=B(" players"),Y=g(),Ge(F.$$.fragment),q=g(),N=c("button"),K=B("Start Swiss System"),i(t,"class","setup-title svelte-au9eit"),i(r,"class","setup-subtitle svelte-au9eit"),i(f,"class","form-label svelte-au9eit"),i(p,"type","text"),i(p,"class","form-input svelte-au9eit"),i(p,"placeholder","Swiss Open"),i(u,"class","form-group svelte-au9eit"),i(_,"class","form-label svelte-au9eit"),i(w,"type","number"),i(w,"min","2"),i(w,"max","10"),i(w,"class","form-input svelte-au9eit"),i(k,"class","form-hint svelte-au9eit"),i(h,"class","form-group svelte-au9eit"),i(d,"class","form-grid svelte-au9eit"),i(N,"class","start-btn svelte-au9eit"),N.disabled=G=l[2].length<4,i(o,"class","setup-form svelte-au9eit"),i(e,"class","setup-screen svelte-au9eit")},m(ee,re){U(ee,e,re),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(u,f),s(u,v),s(u,p),Ee(p,l[3]),s(d,m),s(d,h),s(h,_),s(h,b),s(h,w),Ee(w,l[4]),s(h,j),s(h,k),s(k,T),s(k,C),s(k,I),s(k,S),s(k,D),s(o,Y),He(F,o,null),s(o,q),s(o,N),s(N,K),V=!0,J||(Q=[se(p,"input",l[28]),se(w,"input",l[29]),se(N,"click",l[20])],J=!0)},p(ee,re){re[0]&8&&p.value!==ee[3]&&Ee(p,ee[3]),re[0]&16&&os(w.value)!==ee[4]&&Ee(w,ee[4]),(!V||re[0]&4)&&R!==(R=Math.ceil(Math.log2(Math.max(ee[2].length,2)))+1+"")&&Z(C,R),(!V||re[0]&4)&&P!==(P=(ee[2].length||0)+"")&&Z(S,P);const A={};re[0]&4&&(A.players=ee[2]),F.$set(A),(!V||re[0]&4&&G!==(G=ee[2].length<4))&&(N.disabled=G)},i(ee){V||(De(F.$$.fragment,ee),V=!0)},o(ee){Ne(F.$$.fragment,ee),V=!1},d(ee){ee&&W(e),Ve(F),J=!1,Pe(Q)}}}function Cn(l){var C,I,P,S;let e,t,n,r,a,o,d,u=((C=l[18][0])==null?void 0:C.name)+"",f,v,p,m=((I=l[18][0])==null?void 0:I.points)+"",h,_,b=((P=l[18][0])==null?void 0:P.wins)+"",w,j,k=((S=l[18][0])==null?void 0:S.losses)+"",T,R;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("div"),a=c("h3"),a.textContent="Tournament Complete!",o=g(),d=c("p"),f=B(u),v=g(),p=c("p"),h=B(m),_=B(" points â€¢ "),w=B(b),j=B("W - "),T=B(k),R=B("L"),i(t,"class","winner-icon svelte-au9eit"),i(a,"class","winner-title svelte-au9eit"),i(d,"class","winner-name svelte-au9eit"),i(p,"class","winner-stats svelte-au9eit"),i(r,"class","winner-info svelte-au9eit"),i(e,"class","winner-banner svelte-au9eit")},m(D,Y){U(D,e,Y),s(e,t),s(e,n),s(e,r),s(r,a),s(r,o),s(r,d),s(d,f),s(r,v),s(r,p),s(p,h),s(p,_),s(p,w),s(p,j),s(p,T),s(p,R)},p(D,Y){var F,q,N,K;Y[0]&262144&&u!==(u=((F=D[18][0])==null?void 0:F.name)+"")&&Z(f,u),Y[0]&262144&&m!==(m=((q=D[18][0])==null?void 0:q.points)+"")&&Z(h,m),Y[0]&262144&&b!==(b=((N=D[18][0])==null?void 0:N.wins)+"")&&Z(w,b),Y[0]&262144&&k!==(k=((K=D[18][0])==null?void 0:K.losses)+"")&&Z(T,k)},d(D){D&&W(e)}}}function Zi(l){let e,t,n,r,a,o,d,u,f=Ce(l[18]),v=[];for(let p=0;p<f.length;p+=1)v[p]=Sn(wn(l,f,p));return{c(){e=c("div"),t=c("h3"),t.textContent="Standings",n=g(),r=c("div"),a=c("table"),o=c("thead"),o.innerHTML='<tr><th class="th-rank svelte-au9eit">#</th> <th class="th-player svelte-au9eit">Player</th> <th class="th-center svelte-au9eit">Pts</th> <th class="th-center svelte-au9eit">W</th> <th class="th-center svelte-au9eit">L</th> <th class="th-center svelte-au9eit">D</th> <th class="th-center svelte-au9eit" title="Buchholz Score (tiebreaker)">Buch</th></tr>',d=g(),u=c("tbody");for(let p=0;p<v.length;p+=1)v[p].c();i(t,"class","section-title svelte-au9eit"),i(a,"class","standings-table svelte-au9eit"),i(r,"class","standings-table-container svelte-au9eit"),i(e,"class","standings-section svelte-au9eit")},m(p,m){U(p,e,m),s(e,t),s(e,n),s(e,r),s(r,a),s(a,o),s(a,d),s(a,u);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(u,null)},p(p,m){if(m[0]&262144){f=Ce(p[18]);let h;for(h=0;h<f.length;h+=1){const _=wn(p,f,h);v[h]?v[h].p(_,m):(v[h]=Sn(_),v[h].c(),v[h].m(u,null))}for(;h<v.length;h+=1)v[h].d(1);v.length=f.length}},d(p){p&&W(e),ze(v,p)}}}function $i(l){var w,j;let e,t,n,r,a=((w=l[0])==null?void 0:w.currentRound)+"",o,d,u,f,v,p,m=l[17]&&Tn(),h=Ce(((j=l[1])==null?void 0:j.matches)||[]),_=[];for(let k=0;k<h.length;k+=1)_[k]=In(En(l,h,k));let b=l[17]&&!l[16]&&jn(l);return{c(){e=c("div"),t=c("div"),n=c("h3"),r=B("Round "),o=B(a),d=B(" Pairings"),u=g(),m&&m.c(),f=g(),v=c("div");for(let k=0;k<_.length;k+=1)_[k].c();p=g(),b&&b.c(),i(n,"class","section-title svelte-au9eit"),i(t,"class","section-header svelte-au9eit"),i(v,"class","matches-grid svelte-au9eit"),i(e,"class","pairings-section svelte-au9eit")},m(k,T){U(k,e,T),s(e,t),s(t,n),s(n,r),s(n,o),s(n,d),s(t,u),m&&m.m(t,null),s(e,f),s(e,v);for(let R=0;R<_.length;R+=1)_[R]&&_[R].m(v,null);s(e,p),b&&b.m(e,null)},p(k,T){var R,C;if(T[0]&1&&a!==(a=((R=k[0])==null?void 0:R.currentRound)+"")&&Z(o,a),k[17]?m||(m=Tn(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),T[0]&2097154){h=Ce(((C=k[1])==null?void 0:C.matches)||[]);let I;for(I=0;I<h.length;I+=1){const P=En(k,h,I);_[I]?_[I].p(P,T):(_[I]=In(P),_[I].c(),_[I].m(v,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=h.length}k[17]&&!k[16]?b?b.p(k,T):(b=jn(k),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(k){k&&W(e),m&&m.d(),ze(_,k),b&&b.d()}}}function Sn(l){let e,t,n,r,a=l[44].name+"",o,d,u,f=l[44].points+"",v,p,m,h=l[44].wins+"",_,b,w,j=l[44].losses+"",k,T,R,C=l[44].draws+"",I,P,S,D=l[44].buchholz.toFixed(1)+"",Y,F;return{c(){e=c("tr"),t=c("td"),t.textContent=`${l[46]+1}`,n=g(),r=c("td"),o=B(a),d=g(),u=c("td"),v=B(f),p=g(),m=c("td"),_=B(h),b=g(),w=c("td"),k=B(j),T=g(),R=c("td"),I=B(C),P=g(),S=c("td"),Y=B(D),F=g(),i(t,"class","td-rank "+(l[46]===0?"leader":"")+" svelte-au9eit"),i(r,"class","td-player svelte-au9eit"),i(u,"class","td-center td-points svelte-au9eit"),i(m,"class","td-center td-wins svelte-au9eit"),i(w,"class","td-center td-losses svelte-au9eit"),i(R,"class","td-center svelte-au9eit"),i(S,"class","td-center td-buchholz svelte-au9eit"),i(e,"class",ar(l[46]===0?"leader-row":"")+" svelte-au9eit")},m(q,N){U(q,e,N),s(e,t),s(e,n),s(e,r),s(r,o),s(e,d),s(e,u),s(u,v),s(e,p),s(e,m),s(m,_),s(e,b),s(e,w),s(w,k),s(e,T),s(e,R),s(R,I),s(e,P),s(e,S),s(S,Y),s(e,F)},p(q,N){N[0]&262144&&a!==(a=q[44].name+"")&&Z(o,a),N[0]&262144&&f!==(f=q[44].points+"")&&Z(v,f),N[0]&262144&&h!==(h=q[44].wins+"")&&Z(_,h),N[0]&262144&&j!==(j=q[44].losses+"")&&Z(k,j),N[0]&262144&&C!==(C=q[44].draws+"")&&Z(I,C),N[0]&262144&&D!==(D=q[44].buchholz.toFixed(1)+"")&&Z(Y,D)},d(q){q&&W(e)}}}function Tn(l){let e;return{c(){e=c("span"),e.textContent="Complete",i(e,"class","complete-badge svelte-au9eit")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Rn(l){let e,t=l[41].score1+"",n;return{c(){e=c("span"),n=B(t),i(e,"class","player-score svelte-au9eit")},m(r,a){U(r,e,a),s(e,n)},p(r,a){a[0]&2&&t!==(t=r[41].score1+"")&&Z(n,t)},d(r){r&&W(e)}}}function Bn(l){let e,t=l[41].score2+"",n;return{c(){e=c("span"),n=B(t),i(e,"class","player-score svelte-au9eit")},m(r,a){U(r,e,a),s(e,n)},p(r,a){a[0]&2&&t!==(t=r[41].score2+"")&&Z(n,t)},d(r){r&&W(e)}}}function xi(l){let e;return{c(){e=c("span"),e.textContent="BYE",i(e,"class","bye-badge svelte-au9eit")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function ea(l){let e;return{c(){e=c("span"),e.textContent="TAP TO EDIT",i(e,"class","edit-hint svelte-au9eit")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function ta(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-hint svelte-au9eit")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function In(l){let e,t,n,r,a=l[41].player1+"",o,d,u,f,v,p,m,h,_=l[41].player2+"",b,w,j,k,T,R,C,I,P,S=l[41].completed&&Rn(l),D=l[41].completed&&Bn(l);function Y(K,G){if(!K[41].completed&&K[41].player2!=="BYE")return ta;if(K[41].completed)return ea;if(K[41].player2==="BYE")return xi}let F=Y(l),q=F&&F(l);function N(){return l[32](l[41])}return{c(){e=c("button"),t=c("div"),n=c("div"),r=c("span"),o=B(a),d=g(),S&&S.c(),f=g(),v=c("div"),v.textContent="VS",p=g(),m=c("div"),h=c("span"),b=B(_),w=g(),D&&D.c(),k=g(),q&&q.c(),T=g(),i(r,"class","player-name svelte-au9eit"),i(n,"class",u="match-player "+(l[41].winner==="player1"?"winner":"")+" svelte-au9eit"),i(v,"class","match-divider svelte-au9eit"),i(h,"class","player-name svelte-au9eit"),i(m,"class",j="match-player "+(l[41].winner==="player2"?"winner":"")+" "+(l[41].player2==="BYE"?"bye-text":"")+" svelte-au9eit"),i(t,"class","match-players svelte-au9eit"),i(e,"class",R="match-card "+(l[41].completed?"completed":"playable")+" "+(l[41].player2==="BYE"?"bye":"")+" svelte-au9eit"),e.disabled=C=l[41].player2==="BYE"},m(K,G){U(K,e,G),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),S&&S.m(n,null),s(t,f),s(t,v),s(t,p),s(t,m),s(m,h),s(h,b),s(m,w),D&&D.m(m,null),s(e,k),q&&q.m(e,null),s(e,T),I||(P=se(e,"click",N),I=!0)},p(K,G){l=K,G[0]&2&&a!==(a=l[41].player1+"")&&Z(o,a),l[41].completed?S?S.p(l,G):(S=Rn(l),S.c(),S.m(n,null)):S&&(S.d(1),S=null),G[0]&2&&u!==(u="match-player "+(l[41].winner==="player1"?"winner":"")+" svelte-au9eit")&&i(n,"class",u),G[0]&2&&_!==(_=l[41].player2+"")&&Z(b,_),l[41].completed?D?D.p(l,G):(D=Bn(l),D.c(),D.m(m,null)):D&&(D.d(1),D=null),G[0]&2&&j!==(j="match-player "+(l[41].winner==="player2"?"winner":"")+" "+(l[41].player2==="BYE"?"bye-text":"")+" svelte-au9eit")&&i(m,"class",j),F!==(F=Y(l))&&(q&&q.d(1),q=F&&F(l),q&&(q.c(),q.m(e,T))),G[0]&2&&R!==(R="match-card "+(l[41].completed?"completed":"playable")+" "+(l[41].player2==="BYE"?"bye":"")+" svelte-au9eit")&&i(e,"class",R),G[0]&2&&C!==(C=l[41].player2==="BYE")&&(e.disabled=C)},d(K){K&&W(e),S&&S.d(),D&&D.d(),q&&q.d(),I=!1,P()}}}function jn(l){let e,t,n=l[0].currentRound+1+"",r,a,o,d;return{c(){e=c("button"),t=B("Generate Round "),r=B(n),a=B(" Pairings"),i(e,"class","next-round-btn svelte-au9eit")},m(u,f){U(u,e,f),s(e,t),s(e,r),s(e,a),o||(d=se(e,"click",l[24]),o=!0)},p(u,f){f[0]&1&&n!==(n=u[0].currentRound+1+"")&&Z(r,n)},d(u){u&&W(e),o=!1,d()}}}function Dn(l){let e,t,n,r=l[7].completed?"Edit Score":"Enter Score",a,o,d,u,f,v=l[7].player1+"",p,m,h,_,b,w,j,k,T,R,C,I,P,S,D=l[7].player2+"",Y,F,q,N,K,G,V,J,Q,ee,re,A,L,O,le=l[7].completed?"Update Score":"Submit Score",$,fe,Se,ae;return{c(){e=c("div"),t=c("div"),n=c("h3"),a=B(r),o=g(),d=c("div"),u=c("div"),f=c("p"),p=B(v),m=g(),h=c("div"),_=c("button"),_.textContent="âˆ’",b=g(),w=c("span"),j=B(l[8]),k=g(),T=c("button"),T.textContent="+",R=g(),C=c("div"),C.textContent="VS",I=g(),P=c("div"),S=c("p"),Y=B(D),F=g(),q=c("div"),N=c("button"),N.textContent="âˆ’",K=g(),G=c("span"),V=B(l[9]),J=g(),Q=c("button"),Q.textContent="+",ee=g(),re=c("div"),A=c("button"),A.textContent="Cancel",L=g(),O=c("button"),$=B(le),i(n,"class","modal-title svelte-au9eit"),i(f,"class","modal-player-name svelte-au9eit"),i(_,"class","score-btn minus svelte-au9eit"),i(w,"class","score-display svelte-au9eit"),i(T,"class","score-btn plus svelte-au9eit"),i(h,"class","score-controls svelte-au9eit"),i(u,"class","modal-player player1 svelte-au9eit"),i(C,"class","modal-vs svelte-au9eit"),i(S,"class","modal-player-name svelte-au9eit"),i(N,"class","score-btn minus svelte-au9eit"),i(G,"class","score-display svelte-au9eit"),i(Q,"class","score-btn plus svelte-au9eit"),i(q,"class","score-controls svelte-au9eit"),i(P,"class","modal-player player2 svelte-au9eit"),i(d,"class","modal-players svelte-au9eit"),i(A,"class","cancel-btn svelte-au9eit"),i(O,"class","submit-btn svelte-au9eit"),O.disabled=fe=l[8]===l[9],i(re,"class","modal-actions svelte-au9eit"),i(t,"class","score-modal svelte-au9eit"),i(e,"class","modal-overlay svelte-au9eit")},m(de,ge){U(de,e,ge),s(e,t),s(t,n),s(n,a),s(t,o),s(t,d),s(d,u),s(u,f),s(f,p),s(u,m),s(u,h),s(h,_),s(h,b),s(h,w),s(w,j),s(h,k),s(h,T),s(d,R),s(d,C),s(d,I),s(d,P),s(P,S),s(S,Y),s(P,F),s(P,q),s(q,N),s(q,K),s(q,G),s(G,V),s(q,J),s(q,Q),s(t,ee),s(t,re),s(re,A),s(re,L),s(re,O),s(O,$),Se||(ae=[se(_,"click",l[34]),se(T,"click",l[35]),se(N,"click",l[36]),se(Q,"click",l[37]),se(A,"click",l[22]),se(O,"click",l[23]),se(t,"click",as(l[27])),se(e,"click",l[22])],Se=!0)},p(de,ge){ge[0]&128&&r!==(r=de[7].completed?"Edit Score":"Enter Score")&&Z(a,r),ge[0]&128&&v!==(v=de[7].player1+"")&&Z(p,v),ge[0]&256&&Z(j,de[8]),ge[0]&128&&D!==(D=de[7].player2+"")&&Z(Y,D),ge[0]&512&&Z(V,de[9]),ge[0]&128&&le!==(le=de[7].completed?"Update Score":"Submit Score")&&Z($,le),ge[0]&768&&fe!==(fe=de[8]===de[9])&&(O.disabled=fe)},d(de){de&&W(e),Se=!1,Pe(ae)}}}function la(l){let e,t,n,r,a,o;const d=[Ji,Qi],u=[];function f(p,m){return p[10]==="setup"?0:1}t=f(l),n=u[t]=d[t](l);let v=l[6]&&l[7]&&Dn(l);return{c(){e=c("div"),n.c(),r=g(),v&&v.c(),a=yt(),i(e,"class","page-container svelte-au9eit")},m(p,m){U(p,e,m),u[t].m(e,null),U(p,r,m),v&&v.m(p,m),U(p,a,m),o=!0},p(p,m){let h=t;t=f(p),t===h?u[t].p(p,m):(ut(),Ne(u[h],1,1,()=>{u[h]=null}),ft(),n=u[t],n?n.p(p,m):(n=u[t]=d[t](p),n.c()),De(n,1),n.m(e,null)),p[6]&&p[7]?v?v.p(p,m):(v=Dn(p),v.c(),v.m(a.parentNode,a)):v&&(v.d(1),v=null)},i(p){o||(De(n),o=!0)},o(p){Ne(n),o=!1},d(p){p&&(W(e),W(r),W(a)),u[t].d(),v&&v.d(p)}}}function na(l,e,t){let n,r,a,o,d,u,f;st(l,Xe,ae=>t(38,f=ae));let v=[],p="",m=0,h=null,_=null,b=!1,w=null,j=0,k=0,T="setup",R="pairings",C=!1,I;function P(ae){t(2,v=ae.detail),t(4,m=Math.ceil(Math.log2(v.length))+1)}function S(){if(v.length<2)return;const ae=p.trim()||`Swiss System - ${new Date().toLocaleDateString()}`;t(0,h=Vi(v,m)),t(0,h=yn(h)),t(5,_=mt("swiss",ae,v,{numRounds:m})),Ke(_.id,{status:"in_progress",tournament:h}),t(10,T="tournament"),N()}function D(ae){ae.player2!=="BYE"&&(t(7,w=ae),t(8,j=ae.score1||0),t(9,k=ae.score2||0),t(6,b=!0))}function Y(){t(6,b=!1),t(7,w=null),t(8,j=0),t(9,k=0)}function F(){if(!w)return;const ae=j>k?"player1":"player2";t(0,h=Gi(h,w.id,j,k,ae)),_&&Ke(_.id,{tournament:h}),N(),Y()}function q(){if(t(0,h=yn(h)),_){const ae=kn(h);Ke(_.id,{tournament:h,status:ae?"completed":"in_progress"})}N()}async function N(){await it(f)}function K(){t(2,v=[]),t(3,p=""),t(0,h=null),t(5,_=null),t(10,T="setup")}function G(){document.fullscreenElement?document.exitFullscreen():I==null||I.requestFullscreen()}function V(){t(12,C=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",V)}),pt(()=>{document.removeEventListener("fullscreenchange",V)});function J(ae){us.call(this,l,ae)}function Q(){p=this.value,t(3,p)}function ee(){m=os(this.value),t(4,m)}const re=()=>t(11,R="pairings"),A=()=>t(11,R="standings"),L=ae=>D(ae);function O(ae){nt[ae?"unshift":"push"](()=>{I=ae,t(13,I)})}const le=()=>t(8,j=Math.max(0,j-1)),$=()=>t(8,j++,j),fe=()=>t(9,k=Math.max(0,k-1)),Se=()=>t(9,k++,k);return l.$$.update=()=>{var ae,de;l.$$.dirty[0]&1&&t(18,n=h?Xi(h):[]),l.$$.dirty[0]&1&&t(17,r=h?gs(h):!1),l.$$.dirty[0]&1&&t(16,a=h?kn(h):!1),l.$$.dirty[0]&1&&t(1,o=h==null?void 0:h.rounds[h.rounds.length-1]),l.$$.dirty[0]&2&&t(15,d=((ae=o==null?void 0:o.matches)==null?void 0:ae.filter(ge=>ge.completed).length)||0),l.$$.dirty[0]&2&&t(14,u=((de=o==null?void 0:o.matches)==null?void 0:de.length)||0)},[h,o,v,p,m,_,b,w,j,k,T,R,C,I,u,d,a,r,n,P,S,D,Y,F,q,K,G,J,Q,ee,re,A,L,O,le,$,fe,Se]}class sa extends $e{constructor(e){super(),Ze(this,e,na,la,Je,{},null,[-1,-1])}}function Nn(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function Pn(l,e,t){const n=l.slice();n[41]=e[t];const r=n[41].player1&&n[41].player2&&n[41].player1!=="BYE"&&n[41].player2!=="BYE"&&!n[41].completed;n[42]=r;const a=n[41].player1==="BYE"||n[41].player2==="BYE";return n[43]=a,n}function qn(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function ra(l){var re;let e,t,n,r,a=(((re=l[6])==null?void 0:re.name)||"Scotch Doubles")+"",o,d,u,f=l[3].length+"",v,p,m,h,_,b,w,j,k,T,R,C,I,P,S;function D(A,L){return A[14]?oa:aa}let Y=D(l),F=Y(l);function q(A,L){return A[11]?ua:ca}let N=q(l),K=N(l),G=Ce(l[0].rounds),V=[];for(let A=0;A<G.length;A+=1)V[A]=zn(Nn(l,G,A));function J(A,L){return A[14]?da:fa}let Q=J(l),ee=Q(l);return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),v=B(f),p=B(" Teams"),m=g(),h=c("div"),F.c(),_=g(),b=c("div"),w=c("button"),K.c(),j=g(),k=c("button"),k.textContent="Exit",T=g(),R=c("div"),C=c("div");for(let A=0;A<V.length;A+=1)V[A].c();I=g(),ee.c(),i(r,"class","game-title svelte-1bs83ns"),i(u,"class","teams-badge svelte-1bs83ns"),i(n,"class","top-left svelte-1bs83ns"),i(h,"class","top-center svelte-1bs83ns"),i(w,"class","fullscreen-btn svelte-1bs83ns"),i(k,"class","end-btn svelte-1bs83ns"),i(b,"class","top-right svelte-1bs83ns"),i(t,"class","top-bar svelte-1bs83ns"),i(C,"class","bracket-container svelte-1bs83ns"),i(R,"class","bracket-area svelte-1bs83ns"),i(e,"class","game-fullscreen svelte-1bs83ns"),x(e,"is-fullscreen",l[11])},m(A,L){U(A,e,L),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,v),s(u,p),s(t,m),s(t,h),F.m(h,null),s(t,_),s(t,b),s(b,w),K.m(w,null),s(b,j),s(b,k),s(e,T),s(e,R),s(R,C);for(let O=0;O<V.length;O+=1)V[O]&&V[O].m(C,null);s(e,I),ee.m(e,null),l[31](e),P||(S=[se(w,"click",l[22]),se(k,"click",l[21])],P=!0)},p(A,L){var O;if(L[0]&64&&a!==(a=(((O=A[6])==null?void 0:O.name)||"Scotch Doubles")+"")&&Z(o,a),L[0]&8&&f!==(f=A[3].length+"")&&Z(v,f),Y===(Y=D(A))&&F?F.p(A,L):(F.d(1),F=Y(A),F&&(F.c(),F.m(h,null))),N!==(N=q(A))&&(K.d(1),K=N(A),K&&(K.c(),K.m(w,null))),L[0]&1572865){G=Ce(A[0].rounds);let le;for(le=0;le<G.length;le+=1){const $=Nn(A,G,le);V[le]?V[le].p($,L):(V[le]=zn($),V[le].c(),V[le].m(C,null))}for(;le<V.length;le+=1)V[le].d(1);V.length=G.length}Q===(Q=J(A))&&ee?ee.p(A,L):(ee.d(1),ee=Q(A),ee&&(ee.c(),ee.m(e,null))),L[0]&2048&&x(e,"is-fullscreen",A[11])},d(A){A&&W(e),F.d(),K.d(),ze(V,A),ee.d(),l[31](null),P=!1,Pe(S)}}}function ia(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N=l[3].length+"",K,G,V,J,Q,ee,re,A,L,O,le,$,fe,Se,ae,de,ge,Ye,he,ne,ue;function ve(ye,Ie){return ye[3].length>0?ma:pa}let we=ve(l),Te=we(l);return{c(){e=c("div"),t=c("h1"),t.textContent="Scotch Doubles",n=g(),r=c("p"),r.textContent="Team pairs alternate shots. Work together to sink the win!",a=g(),o=c("div"),o.innerHTML='<div class="rules-icon svelte-1bs83ns">ðŸ“‹</div> <div class="rules-content svelte-1bs83ns"><h4 class="rules-title svelte-1bs83ns">Scotch Doubles Rules</h4> <ul class="rules-list svelte-1bs83ns"><li class="svelte-1bs83ns">Players alternate shots during their team&#39;s inning</li> <li class="svelte-1bs83ns">Either player may break</li> <li class="svelte-1bs83ns">Order must be maintained between innings</li></ul></div>',d=g(),u=c("div"),f=c("div"),v=c("div"),p=c("label"),p.textContent="Tournament Name",m=g(),h=c("input"),_=g(),b=c("div"),w=c("label"),w.textContent="Race To (optional)",j=g(),k=c("select"),T=c("option"),T.textContent="Single game per match",R=c("option"),R.textContent="Race to 3",C=c("option"),C.textContent="Race to 5",I=c("option"),I.textContent="Race to 7",P=g(),S=c("div"),D=c("div"),Y=c("label"),Y.textContent="Teams",F=g(),q=c("span"),K=B(N),G=B(" teams"),J=g(),Q=c("div"),ee=c("input"),re=g(),A=c("input"),L=g(),O=c("input"),le=g(),$=c("button"),fe=B("Add Team"),ae=g(),Te.c(),de=g(),ge=c("button"),Ye=B("Generate Bracket"),i(t,"class","setup-title svelte-1bs83ns"),i(r,"class","setup-subtitle svelte-1bs83ns"),i(o,"class","rules-box svelte-1bs83ns"),i(p,"class","form-label svelte-1bs83ns"),i(h,"type","text"),i(h,"class","form-input svelte-1bs83ns"),i(h,"placeholder","Partners Championship"),i(v,"class","form-group svelte-1bs83ns"),i(w,"class","form-label svelte-1bs83ns"),T.__value=0,Ee(T,T.__value),R.__value=3,Ee(R,R.__value),C.__value=5,Ee(C,C.__value),I.__value=7,Ee(I,I.__value),i(k,"class","form-input svelte-1bs83ns"),l[5]===void 0&&ct(()=>l[24].call(k)),i(b,"class","form-group svelte-1bs83ns"),i(f,"class","form-grid svelte-1bs83ns"),i(Y,"class","form-label svelte-1bs83ns"),i(q,"class",V="teams-count "+(l[3].length>=2?"valid":"invalid")+" svelte-1bs83ns"),i(D,"class","teams-header svelte-1bs83ns"),i(ee,"type","text"),i(ee,"class","form-input svelte-1bs83ns"),i(ee,"placeholder","Team Name"),i(A,"type","text"),i(A,"class","form-input svelte-1bs83ns"),i(A,"placeholder","Player 1"),i(O,"type","text"),i(O,"class","form-input svelte-1bs83ns"),i(O,"placeholder","Player 2"),i($,"class","add-team-btn svelte-1bs83ns"),$.disabled=Se=!l[7].trim()||!l[8].trim()||!l[9].trim(),i(Q,"class","add-team-form svelte-1bs83ns"),i(S,"class","teams-section svelte-1bs83ns"),i(ge,"class","start-btn svelte-1bs83ns"),ge.disabled=he=l[3].length<2,i(u,"class","setup-form svelte-1bs83ns"),i(e,"class","setup-screen svelte-1bs83ns")},m(ye,Ie){U(ye,e,Ie),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(e,d),s(e,u),s(u,f),s(f,v),s(v,p),s(v,m),s(v,h),Ee(h,l[4]),s(f,_),s(f,b),s(b,w),s(b,j),s(b,k),s(k,T),s(k,R),s(k,C),s(k,I),tt(k,l[5],!0),s(u,P),s(u,S),s(S,D),s(D,Y),s(D,F),s(D,q),s(q,K),s(q,G),s(S,J),s(S,Q),s(Q,ee),Ee(ee,l[7]),s(Q,re),s(Q,A),Ee(A,l[8]),s(Q,L),s(Q,O),Ee(O,l[9]),s(Q,le),s(Q,$),s($,fe),s(S,ae),Te.m(S,null),s(u,de),s(u,ge),s(ge,Ye),ne||(ue=[se(h,"input",l[23]),se(k,"change",l[24]),se(ee,"input",l[25]),se(A,"input",l[26]),se(O,"input",l[27]),se($,"click",l[15]),se(ge,"click",l[18])],ne=!0)},p(ye,Ie){Ie[0]&16&&h.value!==ye[4]&&Ee(h,ye[4]),Ie[0]&32&&tt(k,ye[5]),Ie[0]&8&&N!==(N=ye[3].length+"")&&Z(K,N),Ie[0]&8&&V!==(V="teams-count "+(ye[3].length>=2?"valid":"invalid")+" svelte-1bs83ns")&&i(q,"class",V),Ie[0]&128&&ee.value!==ye[7]&&Ee(ee,ye[7]),Ie[0]&256&&A.value!==ye[8]&&Ee(A,ye[8]),Ie[0]&512&&O.value!==ye[9]&&Ee(O,ye[9]),Ie[0]&896&&Se!==(Se=!ye[7].trim()||!ye[8].trim()||!ye[9].trim())&&($.disabled=Se),we===(we=ve(ye))&&Te?Te.p(ye,Ie):(Te.d(1),Te=we(ye),Te&&(Te.c(),Te.m(S,null))),Ie[0]&8&&he!==(he=ye[3].length<2)&&(ge.disabled=he)},d(ye){ye&&W(e),Te.d(),ne=!1,Pe(ue)}}}function aa(l){let e,t,n,r,a,o,d,u;return{c(){e=c("div"),t=c("span"),n=B(l[2]),r=B("/"),a=B(l[1]),o=g(),d=c("div"),u=c("div"),i(t,"class","progress-num svelte-1bs83ns"),i(u,"class","progress-fill-mini svelte-1bs83ns"),lt(u,"width",l[13]+"%"),i(d,"class","progress-mini svelte-1bs83ns"),i(e,"class","progress-info svelte-1bs83ns")},m(f,v){U(f,e,v),s(e,t),s(t,n),s(t,r),s(t,a),s(e,o),s(e,d),s(d,u)},p(f,v){v[0]&4&&Z(n,f[2]),v[0]&2&&Z(a,f[1]),v[0]&8192&&lt(u,"width",f[13]+"%")},d(f){f&&W(e)}}}function oa(l){let e,t,n,r,a;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("span"),a=B(l[14]),i(t,"class","champ-trophy svelte-1bs83ns"),i(r,"class","champ-name svelte-1bs83ns"),i(e,"class","champion-bar svelte-1bs83ns")},m(o,d){U(o,e,d),s(e,t),s(e,n),s(e,r),s(r,a)},p(o,d){d[0]&16384&&Z(a,o[14])},d(o){o&&W(e)}}}function ca(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function ua(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Mn(l){let e,t=l[19](l[41].player1)+"",n;return{c(){e=c("span"),n=B(t),i(e,"class","slot-players svelte-1bs83ns")},m(r,a){U(r,e,a),s(e,n)},p(r,a){a[0]&1&&t!==(t=r[19](r[41].player1)+"")&&Z(n,t)},d(r){r&&W(e)}}}function An(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-1bs83ns")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Ln(l){let e,t=l[19](l[41].player2)+"",n;return{c(){e=c("span"),n=B(t),i(e,"class","slot-players svelte-1bs83ns")},m(r,a){U(r,e,a),s(e,n)},p(r,a){a[0]&1&&t!==(t=r[19](r[41].player2)+"")&&Z(n,t)},d(r){r&&W(e)}}}function Fn(l){let e;return{c(){e=c("span"),e.textContent="TAP",i(e,"class","tap-label svelte-1bs83ns")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Yn(l){let e;return{c(){e=c("div"),i(e,"class","connector-horiz svelte-1bs83ns")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function On(l){let e,t,n,r,a,o=(l[41].player1==="BYE"?"BYE":l[41].player1||"TBD")+"",d,u,f,v,p,m,h,_,b,w,j=(l[41].player2==="BYE"?"BYE":l[41].player2||"TBD")+"",k,T,R,C,I,P,S,D,Y=l[41].player1&&l[41].player1!=="TBD"&&l[41].player1!=="BYE"&&Mn(l),F=l[42]&&An();function q(){return l[29](l[42],l[41])}let N=l[41].player2&&l[41].player2!=="TBD"&&l[41].player2!=="BYE"&&Ln(l),K=l[42]&&Fn();function G(){return l[30](l[42],l[41])}let V=l[40]<l[0].rounds.length-1&&Yn();return{c(){e=c("div"),t=c("div"),n=c("button"),r=c("div"),a=c("span"),d=B(o),u=g(),Y&&Y.c(),f=g(),F&&F.c(),p=g(),m=c("div"),h=g(),_=c("button"),b=c("div"),w=c("span"),k=B(j),T=g(),N&&N.c(),R=g(),K&&K.c(),I=g(),V&&V.c(),P=g(),i(a,"class","slot-name svelte-1bs83ns"),i(r,"class","team-slot-info svelte-1bs83ns"),i(n,"class","match-slot svelte-1bs83ns"),n.disabled=v=!l[42],x(n,"winner",l[41].winner==="player1"),x(n,"bye-slot",l[41].player1==="BYE"),x(n,"clickable",l[42]),i(m,"class","match-divider svelte-1bs83ns"),i(w,"class","slot-name svelte-1bs83ns"),i(b,"class","team-slot-info svelte-1bs83ns"),i(_,"class","match-slot svelte-1bs83ns"),_.disabled=C=!l[42],x(_,"winner",l[41].winner==="player2"),x(_,"bye-slot",l[41].player2==="BYE"),x(_,"clickable",l[42]),i(t,"class","bracket-match svelte-1bs83ns"),x(t,"completed",l[41].completed),x(t,"playable",l[42]),x(t,"bye",l[43]),i(e,"class","match-wrapper svelte-1bs83ns")},m(J,Q){U(J,e,Q),s(e,t),s(t,n),s(n,r),s(r,a),s(a,d),s(r,u),Y&&Y.m(r,null),s(n,f),F&&F.m(n,null),s(t,p),s(t,m),s(t,h),s(t,_),s(_,b),s(b,w),s(w,k),s(b,T),N&&N.m(b,null),s(_,R),K&&K.m(_,null),s(e,I),V&&V.m(e,null),s(e,P),S||(D=[se(n,"click",q),se(_,"click",G)],S=!0)},p(J,Q){l=J,Q[0]&1&&o!==(o=(l[41].player1==="BYE"?"BYE":l[41].player1||"TBD")+"")&&Z(d,o),l[41].player1&&l[41].player1!=="TBD"&&l[41].player1!=="BYE"?Y?Y.p(l,Q):(Y=Mn(l),Y.c(),Y.m(r,null)):Y&&(Y.d(1),Y=null),l[42]?F||(F=An(),F.c(),F.m(n,null)):F&&(F.d(1),F=null),Q[0]&1&&v!==(v=!l[42])&&(n.disabled=v),Q[0]&1&&x(n,"winner",l[41].winner==="player1"),Q[0]&1&&x(n,"bye-slot",l[41].player1==="BYE"),Q[0]&1&&x(n,"clickable",l[42]),Q[0]&1&&j!==(j=(l[41].player2==="BYE"?"BYE":l[41].player2||"TBD")+"")&&Z(k,j),l[41].player2&&l[41].player2!=="TBD"&&l[41].player2!=="BYE"?N?N.p(l,Q):(N=Ln(l),N.c(),N.m(b,null)):N&&(N.d(1),N=null),l[42]?K||(K=Fn(),K.c(),K.m(_,null)):K&&(K.d(1),K=null),Q[0]&1&&C!==(C=!l[42])&&(_.disabled=C),Q[0]&1&&x(_,"winner",l[41].winner==="player2"),Q[0]&1&&x(_,"bye-slot",l[41].player2==="BYE"),Q[0]&1&&x(_,"clickable",l[42]),Q[0]&1&&x(t,"completed",l[41].completed),Q[0]&1&&x(t,"playable",l[42]),Q[0]&1&&x(t,"bye",l[43]),l[40]<l[0].rounds.length-1?V||(V=Yn(),V.c(),V.m(e,P)):V&&(V.d(1),V=null)},d(J){J&&W(e),Y&&Y.d(),F&&F.d(),N&&N.d(),K&&K.d(),V&&V.d(),S=!1,Pe(D)}}}function zn(l){let e,t,n=l[38].name+"",r,a,o,d,u=Ce(l[38].matches),f=[];for(let v=0;v<u.length;v+=1)f[v]=On(Pn(l,u,v));return{c(){e=c("div"),t=c("h3"),r=B(n),a=g(),o=c("div");for(let v=0;v<f.length;v+=1)f[v].c();d=g(),i(t,"class","round-name svelte-1bs83ns"),i(o,"class","round-matches svelte-1bs83ns"),i(e,"class","bracket-round svelte-1bs83ns")},m(v,p){U(v,e,p),s(e,t),s(t,r),s(e,a),s(e,o);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(o,null);s(e,d)},p(v,p){if(p[0]&1&&n!==(n=v[38].name+"")&&Z(r,n),p[0]&1572865){u=Ce(v[38].matches);let m;for(m=0;m<u.length;m+=1){const h=Pn(v,u,m);f[m]?f[m].p(h,p):(f[m]=On(h),f[m].c(),f[m].m(o,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(v){v&&W(e),ze(f,v)}}}function fa(l){let e;return{c(){e=c("div"),e.textContent="Tap a team name to select them as winner",i(e,"class","footer-hint svelte-1bs83ns")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function da(l){let e,t,n,r,a,o,d,u,f,v,p=l[19](l[14])+"",m;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("div"),a=c("span"),a.textContent="Champions:",o=g(),d=c("span"),u=B(l[14]),f=g(),v=c("span"),m=B(p),i(t,"class","winner-icon svelte-1bs83ns"),i(a,"class","winner-label svelte-1bs83ns"),i(d,"class","winner-name svelte-1bs83ns"),i(v,"class","winner-players svelte-1bs83ns"),i(r,"class","winner-details svelte-1bs83ns"),i(e,"class","winner-footer svelte-1bs83ns")},m(h,_){U(h,e,_),s(e,t),s(e,n),s(e,r),s(r,a),s(r,o),s(r,d),s(d,u),s(r,f),s(r,v),s(v,m)},p(h,_){_[0]&16384&&Z(u,h[14]),_[0]&16384&&p!==(p=h[19](h[14])+"")&&Z(m,p)},d(h){h&&W(e)}}}function pa(l){let e;return{c(){e=c("div"),e.innerHTML='<p>No teams added yet</p> <p class="empty-hint svelte-1bs83ns">Add at least 2 teams to start</p>',i(e,"class","empty-teams svelte-1bs83ns")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function ma(l){let e,t,n,r,a,o,d,u,f,v,p=Ce(l[3]),m=[];for(let h=0;h<p.length;h+=1)m[h]=Wn(qn(l,p,h));return{c(){e=c("div"),t=c("span"),t.textContent="Added Teams",n=g(),r=c("button"),a=B("ðŸ”€ Shuffle"),d=g(),u=c("div");for(let h=0;h<m.length;h+=1)m[h].c();i(t,"class","teams-list-label svelte-1bs83ns"),i(r,"type","button"),i(r,"class","shuffle-btn svelte-1bs83ns"),r.disabled=o=l[3].length<2,i(e,"class","teams-list-header svelte-1bs83ns"),i(u,"class","teams-list svelte-1bs83ns")},m(h,_){U(h,e,_),s(e,t),s(e,n),s(e,r),s(r,a),U(h,d,_),U(h,u,_);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(u,null);f||(v=se(r,"click",l[17]),f=!0)},p(h,_){if(_[0]&8&&o!==(o=h[3].length<2)&&(r.disabled=o),_[0]&65544){p=Ce(h[3]);let b;for(b=0;b<p.length;b+=1){const w=qn(h,p,b);m[b]?m[b].p(w,_):(m[b]=Wn(w),m[b].c(),m[b].m(u,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}},d(h){h&&(W(e),W(d),W(u)),ze(m,h),f=!1,v()}}}function Wn(l){let e,t,n,r=l[35].name+"",a,o,d,u=l[35].player1+"",f,v,p=l[35].player2+"",m,h,_,b,w,j;function k(){return l[28](l[37])}return{c(){e=c("div"),t=c("div"),n=c("p"),a=B(r),o=g(),d=c("p"),f=B(u),v=B(" & "),m=B(p),h=g(),_=c("button"),_.textContent="âœ•",b=g(),i(n,"class","team-name svelte-1bs83ns"),i(d,"class","team-players svelte-1bs83ns"),i(t,"class","team-info svelte-1bs83ns"),i(_,"class","remove-team-btn svelte-1bs83ns"),i(e,"class","team-card svelte-1bs83ns")},m(T,R){U(T,e,R),s(e,t),s(t,n),s(n,a),s(t,o),s(t,d),s(d,f),s(d,v),s(d,m),s(e,h),s(e,_),s(e,b),w||(j=se(_,"click",k),w=!0)},p(T,R){l=T,R[0]&8&&r!==(r=l[35].name+"")&&Z(a,r),R[0]&8&&u!==(u=l[35].player1+"")&&Z(f,u),R[0]&8&&p!==(p=l[35].player2+"")&&Z(m,p)},d(T){T&&W(e),w=!1,j()}}}function va(l){let e;function t(a,o){return a[10]==="setup"?ia:ra}let n=t(l),r=n(l);return{c(){e=c("div"),r.c(),i(e,"class","page-container svelte-1bs83ns")},m(a,o){U(a,e,o),r.m(e,null)},p(a,o){n===(n=t(a))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(e,null)))},i:ke,o:ke,d(a){a&&W(e),r.d()}}}function ha(l,e,t){let n,r,a,o,d;st(l,Xe,L=>t(32,d=L));let u=[],f="",v=0,p=null,m=null,h="",_="",b="",w="setup",j=!1,k;function T(){!h.trim()||!_.trim()||!b.trim()||(t(3,u=[...u,{name:h.trim(),player1:_.trim(),player2:b.trim()}]),t(7,h=""),t(8,_=""),t(9,b=""))}function R(L){t(3,u=u.filter((O,le)=>le!==L))}function C(){const L=[...u];for(let O=L.length-1;O>0;O--){const le=Math.floor(Math.random()*(O+1));[L[O],L[le]]=[L[le],L[O]]}t(3,u=L)}function I(){if(u.length<2)return;const L=f.trim()||`Scotch Doubles - ${new Date().toLocaleDateString()}`,O=u.map(le=>le.name);t(0,p=Zt(O,!1)),t(6,m=mt("scotch-doubles",L,O,{teams:u,raceTo:v})),Ke(m.id,{status:"in_progress",bracket:p,teams:u}),t(10,w="bracket"),D()}function P(L){const O=u.find(le=>le.name===L);return O?`${O.player1} & ${O.player2}`:""}function S(L,O){if(!L.player1||!L.player2||L.player1==="BYE"||L.player2==="BYE")return;const le=O==="player1"?1:0,$=O==="player2"?1:0;if(t(0,p=_s(p,L.id,le,$,O)),m){const fe=bs(p);Ke(m.id,{bracket:p,status:fe?"completed":"in_progress"})}D()}async function D(){await it(d)}function Y(){t(3,u=[]),t(4,f=""),t(0,p=null),t(6,m=null),t(10,w="setup")}function F(){document.fullscreenElement?document.exitFullscreen():k==null||k.requestFullscreen()}function q(){t(11,j=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",q)}),pt(()=>{document.removeEventListener("fullscreenchange",q)});function N(){f=this.value,t(4,f)}function K(){v=St(this),t(5,v)}function G(){h=this.value,t(7,h)}function V(){_=this.value,t(8,_)}function J(){b=this.value,t(9,b)}const Q=L=>R(L),ee=(L,O)=>L&&S(O,"player1"),re=(L,O)=>L&&S(O,"player2");function A(L){nt[L?"unshift":"push"](()=>{k=L,t(12,k)})}return l.$$.update=()=>{l.$$.dirty[0]&1&&t(14,n=p?$t(p):null),l.$$.dirty[0]&1&&t(2,r=p?p.rounds.reduce((L,O)=>L+O.matches.filter(le=>le.completed).length,0):0),l.$$.dirty[0]&1&&t(1,a=p?p.rounds.reduce((L,O)=>L+O.matches.length,0):0),l.$$.dirty[0]&6&&t(13,o=a>0?r/a*100:0)},[p,a,r,u,f,v,m,h,_,b,w,j,k,o,n,T,R,C,I,P,S,Y,F,N,K,G,V,J,Q,ee,re,A]}class _a extends $e{constructor(e){super(),Ze(this,e,ha,va,Je,{},null,[-1,-1])}}function ba(l){const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function Un(l,e=3){return{players:ba(l).map(n=>({name:n,lives:e,eliminated:!1})),currentPlayerIndex:0,gameOver:!1,winner:null,turnHistory:[]}}function ga(l){return l.gameOver?null:l.players[l.currentPlayerIndex]}function ya(l){const e=l.players.length;let t=(l.currentPlayerIndex+1)%e,n=0;for(;l.players[t].eliminated&&n<e;)t=(t+1)%e,n++;return t}function ka(l){const e=l.players.filter(t=>!t.eliminated);return e.length===1?e[0]:null}function wa(l,e){const t={...l,players:l.players.map(a=>({...a})),turnHistory:[...l.turnHistory]},n=t.players[t.currentPlayerIndex];switch(e){case"pot":break;case"miss":case"foul":n.lives=Math.max(0,n.lives-1),n.lives===0&&(n.eliminated=!0);break;case"black":n.lives+=1;break}t.turnHistory.push({player:n.name,action:e,livesAfter:n.lives,timestamp:new Date().toISOString()});const r=ka(t);return r?(t.gameOver=!0,t.winner=r.name):t.currentPlayerIndex=ya(t),t}function Ea(l){const e=l.players.filter(r=>!r.eliminated),t=l.players.filter(r=>r.eliminated),n=l.players.reduce((r,a)=>r+a.lives,0);return{activePlayers:e.length,eliminatedPlayers:t.length,totalLives:n,turnsPlayed:l.turnHistory.length}}function Hn(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function Vn(l,e,t){const n=l.slice();return n[28]=e[t],n}function Ca(l){var ge,Ye,he,ne;let e,t,n,r,a=(((ge=l[4])==null?void 0:ge.name)||"Killer")+"",o,d,u,f,v=((Ye=l[8])==null?void 0:Ye.activePlayers)+"",p,m,h=((he=l[8])==null?void 0:he.turnsPlayed)+"",_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G;function V(ue,ve){var we;if((we=ue[0])!=null&&we.gameOver)return Ra;if(ue[9])return Ta}let J=V(l),Q=J&&J(l);function ee(ue,ve){return ue[6]?Ia:Ba}let re=ee(l),A=re(l),L=Ce(((ne=l[0])==null?void 0:ne.players)||[]),O=[];for(let ue=0;ue<L.length;ue+=1)O[ue]=Qn(Hn(l,L,ue));function le(ue,ve){var we;return(we=ue[0])!=null&&we.gameOver?Na:Pa}let $=le(l),fe=$(l);function Se(ue,ve){var we;return(we=ue[0])!=null&&we.gameOver?Ma:qa}let ae=Se(l),de=ae(l);return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h1"),o=B(a),d=g(),u=c("span"),f=B("ðŸ’€ "),p=B(v),m=B(" alive â€¢ "),_=B(h),b=B(" turns"),w=g(),j=c("div"),Q&&Q.c(),k=g(),T=c("div"),R=c("button"),A.c(),I=g(),P=c("button"),P.textContent="Exit",S=g(),D=c("div"),Y=c("div");for(let ue=0;ue<O.length;ue+=1)O[ue].c();F=g(),fe.c(),q=g(),N=c("div"),de.c(),i(r,"class","game-title svelte-hjmxml"),i(u,"class","game-meta svelte-hjmxml"),i(n,"class","top-left svelte-hjmxml"),i(j,"class","top-center svelte-hjmxml"),i(R,"class","fullscreen-btn svelte-hjmxml"),i(R,"title",C=l[6]?"Exit Fullscreen":"Enter Fullscreen"),i(P,"class","end-btn svelte-hjmxml"),i(T,"class","top-right svelte-hjmxml"),i(t,"class","top-bar svelte-hjmxml"),i(Y,"class","players-list svelte-hjmxml"),i(D,"class","game-area svelte-hjmxml"),i(N,"class","footer-hint svelte-hjmxml"),i(e,"class","game-fullscreen svelte-hjmxml"),x(e,"is-fullscreen",l[6])},m(ue,ve){U(ue,e,ve),s(e,t),s(t,n),s(n,r),s(r,o),s(n,d),s(n,u),s(u,f),s(u,p),s(u,m),s(u,_),s(u,b),s(t,w),s(t,j),Q&&Q.m(j,null),s(t,k),s(t,T),s(T,R),A.m(R,null),s(T,I),s(T,P),s(e,S),s(e,D),s(D,Y);for(let we=0;we<O.length;we+=1)O[we]&&O[we].m(Y,null);s(D,F),fe.m(D,null),s(e,q),s(e,N),de.m(N,null),l[21](e),K||(G=[se(R,"click",l[10]),se(P,"click",l[14])],K=!0)},p(ue,ve){var we,Te,ye,Ie;if(ve&16&&a!==(a=(((we=ue[4])==null?void 0:we.name)||"Killer")+"")&&Z(o,a),ve&256&&v!==(v=((Te=ue[8])==null?void 0:Te.activePlayers)+"")&&Z(p,v),ve&256&&h!==(h=((ye=ue[8])==null?void 0:ye.turnsPlayed)+"")&&Z(_,h),J===(J=V(ue))&&Q?Q.p(ue,ve):(Q&&Q.d(1),Q=J&&J(ue),Q&&(Q.c(),Q.m(j,null))),re!==(re=ee(ue))&&(A.d(1),A=re(ue),A&&(A.c(),A.m(R,null))),ve&64&&C!==(C=ue[6]?"Exit Fullscreen":"Enter Fullscreen")&&i(R,"title",C),ve&513){L=Ce(((Ie=ue[0])==null?void 0:Ie.players)||[]);let me;for(me=0;me<L.length;me+=1){const Re=Hn(ue,L,me);O[me]?O[me].p(Re,ve):(O[me]=Qn(Re),O[me].c(),O[me].m(Y,null))}for(;me<O.length;me+=1)O[me].d(1);O.length=L.length}$===($=le(ue))&&fe?fe.p(ue,ve):(fe.d(1),fe=$(ue),fe&&(fe.c(),fe.m(D,null))),ae===(ae=Se(ue))&&de?de.p(ue,ve):(de.d(1),de=ae(ue),de&&(de.c(),de.m(N,null))),ve&64&&x(e,"is-fullscreen",ue[6])},i:ke,o:ke,d(ue){ue&&W(e),Q&&Q.d(),A.d(),ze(O,ue),fe.d(),de.d(),l[21](null),K=!1,Pe(G)}}}function Sa(l){let e,t,n,r,a,o,d,u,f,v,p,m,h,_,b,w,j,k,T,R,C,I,P,S,D,Y,F,q,N,K,G;return S=new kt({props:{players:l[1],minPlayers:2,maxPlayers:20}}),S.$on("change",l[11]),{c(){e=c("div"),t=c("h1"),t.textContent="Killer",n=g(),r=c("p"),r.textContent="Last player standing wins! Miss a shot or foul to lose a life.",a=g(),o=c("div"),d=c("div"),u=c("div"),f=c("label"),f.textContent="Game Name",v=g(),p=c("input"),m=g(),h=c("div"),_=c("label"),_.textContent="Starting Lives",b=g(),w=c("select"),j=c("option"),j.textContent="2 lives",k=c("option"),k.textContent="3 lives (standard)",T=c("option"),T.textContent="4 lives",R=c("option"),R.textContent="5 lives",C=g(),I=c("div"),I.innerHTML='<h3 class="svelte-hjmxml">Rules</h3> <ul class="svelte-hjmxml"><li class="svelte-hjmxml"><span class="rule-icon svelte-hjmxml">âŒ</span> Miss a pot = Lose 1 life</li> <li class="svelte-hjmxml"><span class="rule-icon svelte-hjmxml">âš ï¸</span> Foul = Lose 1 life</li> <li class="svelte-hjmxml"><span class="rule-icon svelte-hjmxml">ðŸŽ±</span> Pot the black = Gain 1 life</li> <li class="svelte-hjmxml"><span class="rule-icon svelte-hjmxml">ðŸ’€</span> 0 lives = Eliminated</li> <li class="svelte-hjmxml"><span class="rule-icon svelte-hjmxml">ðŸ†</span> Last standing = Winner!</li></ul>',P=g(),Ge(S.$$.fragment),D=g(),Y=c("button"),F=B("Start Game"),i(t,"class","setup-title svelte-hjmxml"),i(r,"class","setup-subtitle svelte-hjmxml"),i(f,"class","form-label svelte-hjmxml"),i(p,"type","text"),i(p,"class","form-input svelte-hjmxml"),i(p,"placeholder","Friday Night Killer"),i(u,"class","form-group svelte-hjmxml"),i(_,"class","form-label svelte-hjmxml"),j.__value=2,Ee(j,j.__value),k.__value=3,Ee(k,k.__value),T.__value=4,Ee(T,T.__value),R.__value=5,Ee(R,R.__value),i(w,"class","form-input svelte-hjmxml"),l[3]===void 0&&ct(()=>l[17].call(w)),i(h,"class","form-group svelte-hjmxml"),i(d,"class","form-grid svelte-hjmxml"),i(I,"class","rules-box svelte-hjmxml"),i(Y,"class","start-btn svelte-hjmxml"),Y.disabled=q=l[1].length<2,i(o,"class","setup-form svelte-hjmxml"),i(e,"class","setup-screen svelte-hjmxml")},m(V,J){U(V,e,J),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),s(o,d),s(d,u),s(u,f),s(u,v),s(u,p),Ee(p,l[2]),s(d,m),s(d,h),s(h,_),s(h,b),s(h,w),s(w,j),s(w,k),s(w,T),s(w,R),tt(w,l[3],!0),s(o,C),s(o,I),s(o,P),He(S,o,null),s(o,D),s(o,Y),s(Y,F),N=!0,K||(G=[se(p,"input",l[16]),se(w,"change",l[17]),se(Y,"click",l[12])],K=!0)},p(V,J){J&4&&p.value!==V[2]&&Ee(p,V[2]),J&8&&tt(w,V[3]);const Q={};J&2&&(Q.players=V[1]),S.$set(Q),(!N||J&2&&q!==(q=V[1].length<2))&&(Y.disabled=q)},i(V){N||(De(S.$$.fragment,V),N=!0)},o(V){Ne(S.$$.fragment,V),N=!1},d(V){V&&W(e),Ve(S),K=!1,Pe(G)}}}function Ta(l){let e,t,n,r,a=l[9].name+"",o;return{c(){e=c("div"),t=c("span"),t.textContent="Current Turn",n=g(),r=c("span"),o=B(a),i(t,"class","turn-label svelte-hjmxml"),i(r,"class","turn-name svelte-hjmxml"),i(e,"class","current-turn svelte-hjmxml")},m(d,u){U(d,e,u),s(e,t),s(e,n),s(e,r),s(r,o)},p(d,u){u&512&&a!==(a=d[9].name+"")&&Z(o,a)},d(d){d&&W(e)}}}function Ra(l){let e,t,n,r,a=l[0].winner+"",o,d;return{c(){e=c("div"),t=c("span"),t.textContent="ðŸ†",n=g(),r=c("span"),o=B(a),d=B(" WINS!"),i(t,"class","trophy svelte-hjmxml"),i(r,"class","winner-name svelte-hjmxml"),i(e,"class","winner-badge svelte-hjmxml")},m(u,f){U(u,e,f),s(e,t),s(e,n),s(e,r),s(r,o),s(r,d)},p(u,f){f&1&&a!==(a=u[0].winner+"")&&Z(o,a)},d(u){u&&W(e)}}}function Ba(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Ia(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function ja(l){let e,t,n=Ce(Array(l[25].lives)),r=[];for(let o=0;o<n.length;o+=1)r[o]=Gn(Vn(l,n,o));let a=l[25].lives===0&&Kn();return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=g(),a&&a.c(),t=yt()},m(o,d){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(o,d);U(o,e,d),a&&a.m(o,d),U(o,t,d)},p(o,d){if(d&1){n=Ce(Array(o[25].lives));let u;for(u=0;u<n.length;u+=1){const f=Vn(o,n,u);r[u]?r[u].p(f,d):(r[u]=Gn(),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}o[25].lives===0?a||(a=Kn(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(o){o&&(W(e),W(t)),ze(r,o),a&&a.d(o)}}}function Da(l){let e;return{c(){e=c("span"),e.textContent="ðŸ’€ ELIMINATED",i(e,"class","eliminated-text svelte-hjmxml")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Gn(l){let e;return{c(){e=c("span"),e.textContent="â¤ï¸",i(e,"class","life svelte-hjmxml")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Kn(l){let e;return{c(){e=c("span"),e.textContent="No lives",i(e,"class","no-lives svelte-hjmxml")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Xn(l){let e;return{c(){e=c("div"),e.textContent="â–¶ YOUR TURN",i(e,"class","turn-indicator svelte-hjmxml")},m(t,n){U(t,e,n)},d(t){t&&W(e)}}}function Qn(l){var w,j;let e,t,n,r,a,o=l[25].name+"",d,u,f,v,p;function m(k,T){return k[25].eliminated?Da:ja}let h=m(l),_=h(l),b=((w=l[9])==null?void 0:w.name)===l[25].name&&!((j=l[0])!=null&&j.gameOver)&&Xn();return{c(){var k,T;e=c("div"),t=c("div"),n=c("span"),n.textContent=`#${l[27]+1}`,r=g(),a=c("span"),d=B(o),u=g(),f=c("div"),_.c(),v=g(),b&&b.c(),p=g(),i(n,"class","player-rank svelte-hjmxml"),i(a,"class","player-name svelte-hjmxml"),i(t,"class","player-info svelte-hjmxml"),i(f,"class","player-lives svelte-hjmxml"),i(e,"class","player-card svelte-hjmxml"),x(e,"current",((k=l[9])==null?void 0:k.name)===l[25].name),x(e,"eliminated",l[25].eliminated),x(e,"winner",((T=l[0])==null?void 0:T.winner)===l[25].name)},m(k,T){U(k,e,T),s(e,t),s(t,n),s(t,r),s(t,a),s(a,d),s(e,u),s(e,f),_.m(f,null),s(e,v),b&&b.m(e,null),s(e,p)},p(k,T){var R,C,I,P;T&1&&o!==(o=k[25].name+"")&&Z(d,o),h===(h=m(k))&&_?_.p(k,T):(_.d(1),_=h(k),_&&(_.c(),_.m(f,null))),((R=k[9])==null?void 0:R.name)===k[25].name&&!((C=k[0])!=null&&C.gameOver)?b||(b=Xn(),b.c(),b.m(e,p)):b&&(b.d(1),b=null),T&513&&x(e,"current",((I=k[9])==null?void 0:I.name)===k[25].name),T&1&&x(e,"eliminated",k[25].eliminated),T&1&&x(e,"winner",((P=k[0])==null?void 0:P.winner)===k[25].name)},d(k){k&&W(e),_.d(),b&&b.d()}}}function Na(l){let e,t,n,r;return{c(){e=c("div"),t=c("button"),t.innerHTML='<span class="action-icon svelte-hjmxml">ðŸ”„</span> <span class="action-label svelte-hjmxml">Play Again</span> <span class="action-desc svelte-hjmxml">Same players</span>',i(t,"class","action-btn play-again svelte-hjmxml"),i(e,"class","game-over-actions svelte-hjmxml")},m(a,o){U(a,e,o),s(e,t),n||(r=se(t,"click",l[15]),n=!0)},p:ke,d(a){a&&W(e),n=!1,r()}}}function Pa(l){let e,t,n,r,a,o,d,u;return{c(){e=c("div"),t=c("button"),t.innerHTML='<span class="action-icon svelte-hjmxml">âœ“</span> <span class="action-label svelte-hjmxml">Potted</span> <span class="action-desc svelte-hjmxml">Next player</span>',n=g(),r=c("button"),r.innerHTML='<span class="action-icon svelte-hjmxml">âŒ</span> <span class="action-label svelte-hjmxml">Missed / Foul</span> <span class="action-desc svelte-hjmxml">-1 Life</span>',a=g(),o=c("button"),o.innerHTML='<span class="action-icon svelte-hjmxml">ðŸŽ±</span> <span class="action-label svelte-hjmxml">Potted Black</span> <span class="action-desc svelte-hjmxml">+1 Life</span>',i(t,"class","action-btn pot svelte-hjmxml"),i(r,"class","action-btn miss svelte-hjmxml"),i(o,"class","action-btn black svelte-hjmxml"),i(e,"class","action-buttons svelte-hjmxml")},m(f,v){U(f,e,v),s(e,t),s(e,n),s(e,r),s(e,a),s(e,o),d||(u=[se(t,"click",l[18]),se(r,"click",l[19]),se(o,"click",l[20])],d=!0)},p:ke,d(f){f&&W(e),d=!1,Pe(u)}}}function qa(l){var a;let e,t=((a=l[9])==null?void 0:a.name)+"",n,r;return{c(){e=B("Tap an action after "),n=B(t),r=B("'s shot")},m(o,d){U(o,e,d),U(o,n,d),U(o,r,d)},p(o,d){var u;d&512&&t!==(t=((u=o[9])==null?void 0:u.name)+"")&&Z(n,t)},d(o){o&&(W(e),W(n),W(r))}}}function Ma(l){let e,t=l[0].winner+"",n,r;return{c(){e=B("Game Over! "),n=B(t),r=B(" is the last player standing!")},m(a,o){U(a,e,o),U(a,n,o),U(a,r,o)},p(a,o){o&1&&t!==(t=a[0].winner+"")&&Z(n,t)},d(a){a&&(W(e),W(n),W(r))}}}function Aa(l){let e,t,n,r;const a=[Sa,Ca],o=[];function d(u,f){return u[5]==="setup"?0:1}return t=d(l),n=o[t]=a[t](l),{c(){e=c("div"),n.c(),i(e,"class","page-container svelte-hjmxml")},m(u,f){U(u,e,f),o[t].m(e,null),r=!0},p(u,[f]){let v=t;t=d(u),t===v?o[t].p(u,f):(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),n=o[t],n?n.p(u,f):(n=o[t]=a[t](u),n.c()),De(n,1),n.m(e,null))},i(u){r||(De(n),r=!0)},o(u){Ne(n),r=!1},d(u){u&&W(e),o[t].d()}}}function La(l,e,t){let n,r,a;st(l,Xe,q=>t(22,a=q));let o=[],d="",u=3,f=null,v=null,p="setup",m=!1,h;function _(){document.fullscreenElement?document.exitFullscreen():h==null||h.requestFullscreen()}function b(){t(6,m=!!document.fullscreenElement)}rt(()=>{document.addEventListener("fullscreenchange",b)}),pt(()=>{document.removeEventListener("fullscreenchange",b)});function w(q){t(1,o=q.detail)}function j(){if(o.length<2)return;const q=d.trim()||`Killer - ${new Date().toLocaleDateString()}`;t(0,f=Un(o,u)),t(4,v=mt("killer",q,o,{startingLives:u})),Ke(v.id,{status:"in_progress",gameState:f}),t(5,p="game"),T()}function k(q){!f||f.gameOver||(t(0,f=wa(f,q)),Ke(v.id,{gameState:f,status:f.gameOver?"completed":"in_progress"}),T())}async function T(){await it(a)}function R(){t(1,o=[]),t(2,d=""),t(0,f=null),t(4,v=null),t(5,p="setup")}function C(){t(0,f=Un(o,u)),Ke(v.id,{status:"in_progress",gameState:f}),T()}function I(){d=this.value,t(2,d)}function P(){u=St(this),t(3,u)}const S=()=>k("pot"),D=()=>k("miss"),Y=()=>k("black");function F(q){nt[q?"unshift":"push"](()=>{h=q,t(7,h)})}return l.$$.update=()=>{l.$$.dirty&1&&t(9,n=f?ga(f):null),l.$$.dirty&1&&t(8,r=f?Ea(f):null)},[f,o,d,u,v,p,m,h,r,n,_,w,j,k,R,C,I,P,S,D,Y,F]}class Fa extends $e{constructor(e){super(),Ze(this,e,La,Aa,Je,{})}}function Jn(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor")},m(n,r){U(n,e,r),s(e,t)},d(n){n&&W(e)}}}function Zn(l){let e,t;return{c(){e=c("span"),t=B(l[2]),i(e,"class","text-error text-sm")},m(n,r){U(n,e,r),s(e,t)},p(n,r){r&4&&Z(t,n[2])},d(n){n&&W(e)}}}function Ya(l){let e,t,n,r,a,o,d,u,f,v,p=!l[1]&&Jn(),m=l[2]&&Zn(l);return{c(){e=c("div"),t=c("button"),t.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
    Export Data`,n=g(),r=c("label"),p&&p.c(),a=B(`
    Import Data
    `),o=c("input"),u=g(),m&&m.c(),i(t,"class","btn btn-outline btn-sm gap-2"),i(o,"type","file"),i(o,"accept",".json"),i(o,"class","hidden"),i(r,"class",d="btn btn-outline btn-sm gap-2 "+(l[1]?"loading":"")),i(e,"class","flex items-center gap-4 flex-wrap")},m(h,_){U(h,e,_),s(e,t),s(e,n),s(e,r),p&&p.m(r,null),s(r,a),s(r,o),l[5](o),s(e,u),m&&m.m(e,null),f||(v=[se(t,"click",l[3]),se(o,"change",l[4])],f=!0)},p(h,[_]){h[1]?p&&(p.d(1),p=null):p||(p=Jn(),p.c(),p.m(r,a)),_&2&&d!==(d="btn btn-outline btn-sm gap-2 "+(h[1]?"loading":""))&&i(r,"class",d),h[2]?m?m.p(h,_):(m=Zn(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ke,o:ke,d(h){h&&W(e),p&&p.d(),l[5](null),m&&m.d(),f=!1,Pe(v)}}}function Oa(l,e,t){const n=cs();let r,a=!1,o="";async function d(){try{await Ir()}catch{t(2,o="Failed to export data")}}async function u(v){var m;const p=(m=v.target.files)==null?void 0:m[0];if(p){t(1,a=!0),t(2,o="");try{const h=await jr(p);n("imported",h)}catch(h){t(2,o=h.message||"Failed to import data")}finally{t(1,a=!1),r&&t(0,r.value="",r)}}}function f(v){nt[v?"unshift":"push"](()=>{r=v,t(0,r)})}return[r,a,o,d,u,f]}class za extends $e{constructor(e){super(),Ze(this,e,Oa,Ya,Je,{})}}function $n(l,e,t){const n=l.slice();return n[8]=e[t],n}function xn(l,e,t){const n=l.slice();return n[8]=e[t],n}function Wa(l){let e,t,n=l[2].length>0&&es(l),r=l[3].length>0&&ls(l);return{c(){n&&n.c(),e=g(),r&&r.c(),t=yt()},m(a,o){n&&n.m(a,o),U(a,e,o),r&&r.m(a,o),U(a,t,o)},p(a,o){a[2].length>0?n?n.p(a,o):(n=es(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a[3].length>0?r?r.p(a,o):(r=ls(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&(W(e),W(t)),n&&n.d(a),r&&r.d(a)}}}function Ua(l){let e;return{c(){e=c("div"),e.innerHTML='<div class="card-body text-center py-16"><p class="text-6xl mb-4">ðŸŽ±</p> <h3 class="text-xl font-bold mb-2">No Tournaments Yet</h3> <p class="text-base-content/60">Create your first tournament using the tabs above!</p></div>',i(e,"class","card bg-base-200")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function Ha(l){let e;return{c(){e=c("div"),e.innerHTML='<span class="loading loading-spinner loading-lg text-primary"></span>',i(e,"class","flex justify-center py-12")},m(t,n){U(t,e,n)},p:ke,d(t){t&&W(e)}}}function es(l){let e,t,n,r,a=l[2].length+"",o,d,u,f,v=Ce(l[2]),p=[];for(let m=0;m<v.length;m+=1)p[m]=ts(xn(l,v,m));return{c(){e=c("div"),t=c("h3"),n=c("span"),r=B(`
          Active Tournaments (`),o=B(a),d=B(")"),u=g(),f=c("div");for(let m=0;m<p.length;m+=1)p[m].c();i(n,"class","w-3 h-3 rounded-full bg-primary animate-pulse"),i(t,"class","text-lg font-bold text-primary flex items-center gap-2"),i(f,"class","grid gap-4"),i(e,"class","space-y-4")},m(m,h){U(m,e,h),s(e,t),s(t,n),s(t,r),s(t,o),s(t,d),s(e,u),s(e,f);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(f,null)},p(m,h){if(h&4&&a!==(a=m[2].length+"")&&Z(o,a),h&20){v=Ce(m[2]);let _;for(_=0;_<v.length;_+=1){const b=xn(m,v,_);p[_]?p[_].p(b,h):(p[_]=ts(b),p[_].c(),p[_].m(f,null))}for(;_<p.length;_+=1)p[_].d(1);p.length=v.length}},d(m){m&&W(e),ze(p,m)}}}function ts(l){var re;let e,t,n,r,a,o=Pt(l[8].type)+"",d,u,f,v,p=l[8].name+"",m,h,_,b,w=qt(l[8].type)+"",j,k,T,R=(((re=l[8].players)==null?void 0:re.length)||0)+"",C,I,P,S,D,Y,F,q=Nt(l[8].createdAt)+"",N,K,G,V,J,Q;function ee(){return l[6](l[8])}return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("div"),a=c("span"),d=B(o),u=g(),f=c("div"),v=c("h4"),m=B(p),h=g(),_=c("div"),b=c("span"),j=B(w),k=g(),T=c("span"),C=B(R),I=B(" players"),P=g(),S=c("span"),S.textContent="In Progress",D=g(),Y=c("p"),F=B("Started: "),N=B(q),K=g(),G=c("button"),G.textContent="Delete",V=g(),i(a,"class","text-3xl"),i(v,"class","font-bold text-lg"),i(b,"class","badge badge-outline"),i(T,"class","badge badge-primary"),i(S,"class","badge badge-warning"),i(_,"class","flex flex-wrap gap-2 mt-1"),i(Y,"class","text-sm text-base-content/60 mt-2"),i(r,"class","flex items-start gap-4"),i(G,"class","btn btn-ghost btn-sm text-error"),i(n,"class","flex items-start justify-between"),i(t,"class","card-body p-4"),i(e,"class","card bg-base-200 card-hover border border-primary/30")},m(A,L){U(A,e,L),s(e,t),s(t,n),s(n,r),s(r,a),s(a,d),s(r,u),s(r,f),s(f,v),s(v,m),s(f,h),s(f,_),s(_,b),s(b,j),s(_,k),s(_,T),s(T,C),s(T,I),s(_,P),s(_,S),s(f,D),s(f,Y),s(Y,F),s(Y,N),s(n,K),s(n,G),s(e,V),J||(Q=se(G,"click",ee),J=!0)},p(A,L){var O;l=A,L&4&&o!==(o=Pt(l[8].type)+"")&&Z(d,o),L&4&&p!==(p=l[8].name+"")&&Z(m,p),L&4&&w!==(w=qt(l[8].type)+"")&&Z(j,w),L&4&&R!==(R=(((O=l[8].players)==null?void 0:O.length)||0)+"")&&Z(C,R),L&4&&q!==(q=Nt(l[8].createdAt)+"")&&Z(N,q)},d(A){A&&W(e),J=!1,Q()}}}function ls(l){let e,t,n,r,a=l[3].length+"",o,d,u,f,v=Ce(l[3]),p=[];for(let m=0;m<v.length;m+=1)p[m]=ss($n(l,v,m));return{c(){e=c("div"),t=c("h3"),n=c("span"),n.textContent="ðŸ†",r=B(`
          Completed (`),o=B(a),d=B(")"),u=g(),f=c("div");for(let m=0;m<p.length;m+=1)p[m].c();i(t,"class","text-lg font-bold text-success flex items-center gap-2"),i(f,"class","grid gap-4"),i(e,"class","space-y-4")},m(m,h){U(m,e,h),s(e,t),s(t,n),s(t,r),s(t,o),s(t,d),s(e,u),s(e,f);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(f,null)},p(m,h){if(h&8&&a!==(a=m[3].length+"")&&Z(o,a),h&24){v=Ce(m[3]);let _;for(_=0;_<v.length;_+=1){const b=$n(m,v,_);p[_]?p[_].p(b,h):(p[_]=ss(b),p[_].c(),p[_].m(f,null))}for(;_<p.length;_+=1)p[_].d(1);p.length=v.length}},d(m){m&&W(e),ze(p,m)}}}function ns(l){let e,t,n,r=l[8].standings[0].player+"",a;return{c(){e=c("p"),t=c("span"),t.textContent="Winner:",n=g(),a=B(r),i(t,"class","text-success font-bold"),i(e,"class","text-sm mt-2")},m(o,d){U(o,e,d),s(e,t),s(e,n),s(e,a)},p(o,d){d&8&&r!==(r=o[8].standings[0].player+"")&&Z(a,r)},d(o){o&&W(e)}}}function ss(l){var A;let e,t,n,r,a,o=Pt(l[8].type)+"",d,u,f,v,p=l[8].name+"",m,h,_,b,w=qt(l[8].type)+"",j,k,T,R=(((A=l[8].players)==null?void 0:A.length)||0)+"",C,I,P,S,D,Y,F=Nt(l[8].createdAt)+"",q,N,K,G,V,J,Q,ee=l[8].standings&&l[8].standings[0]&&ns(l);function re(){return l[7](l[8])}return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("div"),a=c("span"),d=B(o),u=g(),f=c("div"),v=c("h4"),m=B(p),h=g(),_=c("div"),b=c("span"),j=B(w),k=g(),T=c("span"),C=B(R),I=B(" players"),P=g(),S=c("span"),S.textContent="Completed",D=g(),Y=c("p"),q=B(F),N=g(),ee&&ee.c(),K=g(),G=c("button"),G.textContent="Delete",V=g(),i(a,"class","text-3xl"),i(v,"class","font-bold text-lg"),i(b,"class","badge badge-outline"),i(T,"class","badge"),i(S,"class","badge badge-success"),i(_,"class","flex flex-wrap gap-2 mt-1"),i(Y,"class","text-sm text-base-content/60 mt-2"),i(r,"class","flex items-start gap-4"),i(G,"class","btn btn-ghost btn-sm text-error"),i(n,"class","flex items-start justify-between"),i(t,"class","card-body p-4"),i(e,"class","card bg-base-200 card-hover")},m(L,O){U(L,e,O),s(e,t),s(t,n),s(n,r),s(r,a),s(a,d),s(r,u),s(r,f),s(f,v),s(v,m),s(f,h),s(f,_),s(_,b),s(b,j),s(_,k),s(_,T),s(T,C),s(T,I),s(_,P),s(_,S),s(f,D),s(f,Y),s(Y,q),s(f,N),ee&&ee.m(f,null),s(n,K),s(n,G),s(e,V),J||(Q=se(G,"click",re),J=!0)},p(L,O){var le;l=L,O&8&&o!==(o=Pt(l[8].type)+"")&&Z(d,o),O&8&&p!==(p=l[8].name+"")&&Z(m,p),O&8&&w!==(w=qt(l[8].type)+"")&&Z(j,w),O&8&&R!==(R=(((le=l[8].players)==null?void 0:le.length)||0)+"")&&Z(C,R),O&8&&F!==(F=Nt(l[8].createdAt)+"")&&Z(q,F),l[8].standings&&l[8].standings[0]?ee?ee.p(l,O):(ee=ns(l),ee.c(),ee.m(f,null)):ee&&(ee.d(1),ee=null)},d(L){L&&W(e),ee&&ee.d(),J=!1,Q()}}}function Va(l){let e,t,n,r,a,o,d=l[0].length+"",u,f,v,p,m,h,_,b;p=new za({}),p.$on("imported",l[5]);function w(T,R){return T[1]?Ha:T[0].length===0?Ua:Wa}let j=w(l),k=j(l);return{c(){e=c("div"),t=c("div"),n=c("div"),r=c("h2"),r.textContent="ðŸ“œ Tournament History",a=g(),o=c("p"),u=B(d),f=B(" total tournaments"),v=g(),Ge(p.$$.fragment),m=g(),k.c(),h=g(),_=c("div"),_.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div><h4 class="font-bold">Data Storage</h4> <p class="text-sm">Tournament data is stored locally in your browser. Use Export to backup your data,
        or Import to restore from a backup file.</p></div>`,i(r,"class","text-2xl font-bold text-white"),i(o,"class","text-base-content/60"),i(t,"class","flex items-center justify-between"),i(_,"class","alert"),i(e,"class","max-w-4xl mx-auto space-y-8")},m(T,R){U(T,e,R),s(e,t),s(t,n),s(n,r),s(n,a),s(n,o),s(o,u),s(o,f),s(t,v),He(p,t,null),s(e,m),k.m(e,null),s(e,h),s(e,_),b=!0},p(T,[R]){(!b||R&1)&&d!==(d=T[0].length+"")&&Z(u,d),j===(j=w(T))&&k?k.p(T,R):(k.d(1),k=j(T),k&&(k.c(),k.m(e,h)))},i(T){b||(De(p.$$.fragment,T),b=!0)},o(T){Ne(p.$$.fragment,T),b=!1},d(T){T&&W(e),Ve(p),k.d()}}}function Nt(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Pt(l){return{"round-robin":"ðŸ”„","single-elimination":"ðŸ†","double-elimination":"ðŸŽ¯","race-to-x":"ðŸ",ladder:"ðŸ“Š",swiss:"ðŸŽ²","scotch-doubles":"ðŸ‘¥"}[l]||"ðŸŽ±"}function qt(l){return{"round-robin":"Round Robin","single-elimination":"Single Elimination","double-elimination":"Double Elimination","race-to-x":"Race to X",ladder:"Ladder",swiss:"Swiss System","scotch-doubles":"Scotch Doubles"}[l]||l}function Ga(l,e,t){let n,r,a;st(l,Xe,p=>t(0,a=p));let o=!0;rt(async()=>{const p=await Jt();Xe.set(p),t(1,o=!1)});async function d(p){confirm("Are you sure you want to delete this tournament?")&&(_r(p),await it(a))}async function u(p){Xe.set(p.detail)}const f=p=>d(p.id),v=p=>d(p.id);return l.$$.update=()=>{l.$$.dirty&1&&t(3,n=a.filter(p=>p.status==="completed")),l.$$.dirty&1&&t(2,r=a.filter(p=>p.status!=="completed"))},[a,o,r,n,d,u,f,v]}class Ka extends $e{constructor(e){super(),Ze(this,e,Ga,Va,Je,{})}}function Xa(l){let e;return{c(){e=c("div"),e.innerHTML='<div class="text-center"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="mt-4 text-base-content/60">Loading Iron Shot League...</p></div>',i(e,"class","flex items-center justify-center py-24")},m(t,n){U(t,e,n)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function Qa(l){let e,t,n,r;const a=[ro,so,no,lo,to,eo,xa,$a,Za,Ja],o=[];function d(u,f){return u[1]==="round-robin"?0:u[1]==="single-elimination"?1:u[1]==="double-elimination"?2:u[1]==="race-to-x"?3:u[1]==="ladder"?4:u[1]==="swiss"?5:u[1]==="scotch-doubles"?6:u[1]==="killer"?7:u[1]==="history"?8:9}return e=d(l),t=o[e]=a[e](l),{c(){t.c(),n=yt()},m(u,f){o[e].m(u,f),U(u,n,f),r=!0},p(u,f){let v=e;e=d(u),e!==v&&(ut(),Ne(o[v],1,1,()=>{o[v]=null}),ft(),t=o[e],t||(t=o[e]=a[e](u),t.c()),De(t,1),t.m(n.parentNode,n))},i(u){r||(De(t),r=!0)},o(u){Ne(t),r=!1},d(u){u&&W(n),o[e].d(u)}}}function Ja(l){let e,t;return e=new hs({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function Za(l){let e,t;return e=new Ka({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function $a(l){let e,t;return e=new Fa({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function xa(l){let e,t;return e=new _a({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function eo(l){let e,t;return e=new sa({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function to(l){let e,t;return e=new Hi({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function lo(l){let e,t;return e=new Ii({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function no(l){let e,t;return e=new Ci({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function so(l){let e,t;return e=new fi({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function ro(l){let e,t;return e=new hs({}),{c(){Ge(e.$$.fragment)},m(n,r){He(e,n,r),t=!0},i(n){t||(De(e.$$.fragment,n),t=!0)},o(n){Ne(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function io(l){let e,t,n,r,a,o,d,u,f;t=new yr({});const v=[Qa,Xa],p=[];function m(h,_){return h[0]?0:1}return a=m(l),o=p[a]=v[a](l),{c(){e=c("div"),Ge(t.$$.fragment),n=g(),r=c("main"),o.c(),d=g(),u=c("footer"),u.innerHTML='<div class="container mx-auto px-4"><div class="flex flex-col md:flex-row items-center justify-between gap-4"><div class="flex items-center gap-3"><img src="./logo.png" alt="Iron Shot League" class="h-10 w-auto"/> <p class="text-xs text-base-content/50">Hosted by Rusty</p></div> <p class="text-sm text-base-content/50">Steel Your Nerves, Sink Your Shots</p> <div class="flex items-center gap-4"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="btn btn-ghost btn-sm"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></div></div>',i(r,"class","flex-1 container mx-auto px-4 py-8"),i(u,"class","bg-base-200 border-t border-base-300 py-6"),i(e,"class","min-h-screen flex flex-col")},m(h,_){U(h,e,_),He(t,e,null),s(e,n),s(e,r),p[a].m(r,null),s(e,d),s(e,u),f=!0},p(h,[_]){let b=a;a=m(h),a===b?p[a].p(h,_):(ut(),Ne(p[b],1,1,()=>{p[b]=null}),ft(),o=p[a],o?o.p(h,_):(o=p[a]=v[a](h),o.c()),De(o,1),o.m(r,null))},i(h){f||(De(t.$$.fragment,h),De(o),f=!0)},o(h){Ne(t.$$.fragment,h),Ne(o),f=!1},d(h){h&&W(e),Ve(t),p[a].d()}}}function ao(l,e,t){let n;st(l,Gt,a=>t(1,n=a));let r=!1;return rt(async()=>{const a=await Jt();Xe.set(a),t(0,r=!0)}),[r,n]}class oo extends $e{constructor(e){super(),Ze(this,e,ao,io,Je,{})}}new oo({target:document.getElementById("app")});
